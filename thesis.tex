\documentclass[11pt]{report}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{hyphenat}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{imakeidx}
\usepackage{hyperref}
\usepackage{enumitem}
\setlist[enumerate]{itemsep=-1mm}
\usepackage[boxsize=6pt]{ytableau}
\usepackage{tikz-cd}
\usepackage{tikz}
\usepackage{stmaryrd}
\usetikzlibrary{decorations.markings,arrows,arrows.meta}
\setlist[enumerate]{itemsep=0mm}
\usepackage[a4paper,left=25mm,right=25mm,top=25mm,bottom=35mm]{geometry}
\linespread{1.275}

\counterwithout{figure}{chapter}

\tikzset{every path/.style={thick}}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{prop}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}

\theoremstyle{remark}
\newtheorem*{example}{Example}

\newenvironment{claim}[1]{\par\noindent\textit{Claim.}\space#1}{}
\newenvironment{claimproof}[1]{\par\noindent\textit{Proof of claim.}\space#1}{\hfill $\Diamond$}

\newcommand{\Diff}{\operatorname{Diff}}
\newcommand{\Hom}{\operatorname{Hom}}
\newcommand{\End}{\operatorname{End}}
\newcommand{\Der}{\operatorname{Der}}
\newcommand{\coim}{\operatorname{coim}}
\newcommand{\im}{\operatorname{im}}
\newcommand{\coker}{\operatorname{coker}}
\newcommand{\id}{\textnormal{id}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\I}{\mathrm{i}}
\renewcommand{\P}{\mathbb{P}}

\makeindex[intoc]

\title{
\huge \textsc{~\\~\\ Quantum-classical Duality \\ between Heisenberg and \\ Ruijsenaars-Schneider Models}
}
\author{
-------- \\~\\~\\
Masterarbeit im Masterstudiengang Mathematik \\
der Fakultät für Mathematik, Informatik und Naturwissenschaften \\
der Universität Hamburg \\~\\~\\~\\~\\~\\~\\~\\~\\
}
\date{
\begin{tabular}{ll}
Autor: & Lukas Johannsen \\
Erstgutachter: & Prof. Dr. Gleb Arutyunov \\
Zweitgutachter: & Prof. Dr. Paul Wedrich \\
Ort und Datum: & Hamburg im März 2024
\end{tabular}
}

\begin{document}
\maketitle

~

\thispagestyle{empty}
\setcounter{page}{0}

\pagebreak

\chapter*{Abstract}

We examine a quantum-classical duality between inhomogeneous Heisenberg models and rational Ruijsenaars-Schneider models building on observations of \cite{article:gorsky:2014} and \cite{book:arutyunov:betheAnsatz}. We show how generalized Schur-Weyl duality between the Yangian and the degenerate affine Hecke algebra provides a clear category theoretic reason for the existence of this duality, also extending the duality to spins in non-fundamental representations. Employing the theory of degenerate double affine Hecke algebras, we extend this point of view to a quantum-classical duality between trigonometric Gaudin and Calogero-Moser models, showing how all four models arise from two $S$-dual representations of the loop Yangian. Finally, we give a geometric picture of generalized Schur-Weyl duality that makes apparent how the rational Ruijsenaars-Schneider and inhomogeneous Heisenberg models emerge naturally in four-dimensional Chern-Simons theory when constructed as a functorial quantum field theory. We then use this functorial quantum field theory to extrapolate our results to the case of the elliptic Ruijsenaars-Schneider model, edging towards a quantization of the elliptic Ruijsenaars-Schneider model with spin. \\

\section*{Acknowledgments}

I sincerely want to thank my advisor Prof. Dr. Gleb Arutyunov for his feedback and guidance in the research process and for sparking my interest in this wonderful topic as well as my coadvisor Prof. Dr. Paul Wedrich for pointing me to relevant work. I also thank Philipp Rusch for proofreading the text. Finally, I would like to thank my family for their unwavering support in my studies.

\tableofcontents

\setcounter{chapter}{-1}
\chapter{Introduction}

Integrability \cite{book:arutyunov:elements} is a key phenomenon in many physical models that allows for exact solutions. Nonetheless, solving integrable models often necessitates surprisingly non-trivial methods. Abstractly, integrability can be understood as the presence of some highly organized structure. Though this can happen in many ways, a common theme among integrable models is the existence of a large number of commuting conserved quantities. An important tool in discovering such conserved quantities are certain algebras that act on states and observables. Famous representatives in this class of algebras are (double) affine Hecke algebras and affine quantum groups as well as Yangians and their various degenerations, which allow for a reduction of many phenomena in the study of integrable models to phenomena in the representation theory of these algebras. In particular, sharing the same representation theory gives rise to many coincidences in the mathematical descriptions of integrable models, even when these models look very different on the surface. This has led to the discovery of many dualities between integrable models.

In \cite{article:gorsky:2014}, a \emph{quantum-classical} duality between the quantum twisted inhomogeneous Heisenberg $\mathfrak{gl}_\ell$-spin chain and the classical rational Ruijsenaars-Schneider model was first worked out. For our purposes, we will simply refer to this duality as \emph{the} quantum-classical duality. The former model describes a chain of $N$ atoms, labeled by inhomogeneities $y_1,...,y_N \in \C$, whose local Hilbert spaces\footnote{We use the term \emph{Hilbert space} in the loose sense of describing the bare state space of a quantum system, \emph{i.e.} it does not necessarily come equipped with an inner product. In accordance, we will generally not be careful about Hermiticity.} are given by the vector representation of $\mathfrak{gl}_\ell$. The Hamiltonian imposes nearest-neighbor interactions with boundary conditions that are periodic up to a twist matrix. The latter model describes $N$ relativistic point particles acting on each other by mutual centrifugal forces. In this model, the conserved quantities can be neatly described via eigenvalues of a Lax matrix. \emph{Loc. cit.} then describes the quantum-classical duality in terms of a coincidence of spectra of the twist matrix and Lax matrix on the quantum and classical side respectively. This involves the following substitutions: The inhomogeneities of the Heisenberg spin chain model become the positions of the particles in the Ruijsenaars-Schneider model and the eigenvalues of certain non-local spin chain Hamiltonians correspond to the momenta of these particles.

Recently, a novel angle on this duality has appeared in \cite{book:arutyunov:betheAnsatz}, where the Lax matrix of the rational Ruijsenaars-Schneider model miraculously appears in functional relations among higher transfer matrices of the spin chain. These functional relations encode the spectrum of the inhomogeneous Heisenberg model. Such hints spark the quest for a more conceptual reason behind the coincidence.

To this end, our first step will be to identify the relevant algebras at play. For the Heisenberg $\mathfrak{gl}_\ell$-spin chain, it is well known that its Hilbert space is a representation of the Yangian $Y(\mathfrak{gl}_\ell)$, which in turn contains all relevant observables. For the classical rational Ruijsenaars-Schneider model, it is at first glance more mysterious which algebra we are supposed to consider. However, working with the \emph{quantum} rational Ruijsenaars-Schneider model first, we will identify the relevant algebra as the degenerate affine Hecke algebra
\begin{equation*}
\dot H_N = \C[S_N] \otimes \C[y_1,...,y_N]
\end{equation*}
contained in the degenerate \emph{double} affine Hecke algebra
\begin{equation*}
\ddot H_N = \C[X_1^{\pm 1},...,X_N^{\pm 1}] \otimes \C[S_N] \otimes \C[y_1,...,y_N],
\end{equation*}
which possesses a representation on $\C[y_1,...,y_N]$ via Macdonald difference operators that realizes position space wave functions, \emph{i.e.} the generators $y_i$ become the position operators of the particles and the generators $X_i$ correspond to momentum operators. We will show how the coincidence in the descriptions of the Heisenberg and Ruijsenaars-Schneider models can be summarized by twisting an old result of Drinfeld \cite{article:drinfeld:1986}: There exists a generalized Schur-Weyl functor
\begin{equation*}
D_{\ell,N}: \dot H_N\mathsf{Mod} \to Y(\mathfrak{gl}_\ell)\mathsf{Mod},
\end{equation*}
called the \emph{Drinfeld functor}, which is fully faithful when $\ell > N$, giving an equivalence between $\dot H_N$-modules and $Y(\mathfrak{gl}_\ell)$-modules of weight $N$. Applying this functor to the wave function representation $\C[y_1,...,y_N]$ reduces to the sought-after result, yielding the representation
\begin{equation*}
(\C^\ell)^{\otimes N} \otimes_{S_N} \C[y_1,...,y_N]
\end{equation*}
of the Yangian, on which the momentum-like operators $X_i$ act exactly as the non-local Hamiltonians of the spin chain when the Planck constant $\hbar$ of the rational Ruijsenaars-Schneider model goes to zero.

This is however not the full picture. The fact that we are suddenly dealing with the Laurent generators $X_i$ from the degenerate \emph{double} affine Hecke algebra points to a missing piece. Recall that \emph{non}-degenerate double affine Hecke algebras have an $S$-duality automorphism by way of interchanging their two sets of Laurent generators. As a remnant of this $S$-duality, the representation of $\ddot H_N$ on $\C[y_1,...,y_N]$ above has an $S$-dual representation on $\C[X_1^{\pm 1},...,X_N^{\pm 1}]$ via Dunkl differential operators. This representation describes the quantum trigonometric Calogero-Moser model. In a similar fashion as above, we can view it as a representation of the affine symmetric group $\dot S_N = S_N \ltimes \Z^N$ which sits inside $\ddot H_N$. Using Schur-Weyl duality for affine symmetric groups, we obtain a representation of the loop algebra $L(\mathfrak{gl}_\ell)$. We then combine the action of the loop algebra and the action of the Yangian to an action of the loop Yangian $LY(\mathfrak{gl}_\ell)$ \cite{article:guay:2005}, unifying all four models using generalized Schur-Weyl duality between the degenerate double affine Hecke algebra and the loop Yangian. The entire situation is summarized by the mock commutative diagram in figure \ref{figure:dualities}.

\begin{figure}
\begin{tikzpicture}[remember picture,overlay]
  \node[opacity=0.1] at (7.45cm,-4.9cm) {
    \includegraphics[width=11cm, height=7.5cm]{src/butterfly}
  };
\end{tikzpicture}
\begin{center}
\begin{tikzcd}[column sep=0.5cm,row sep=1.5cm]
\text{Heisenberg model} \arrow[leftrightarrow,bend right=50]{dd} \arrow[leftrightarrow,bend left=40]{rr} & & \text{Gaudin model} \arrow[leftrightarrow,bend left=50]{dd} \\
 & \arrow[bend left=20]{ul} \arrow[bend right=20]{dl} LY(\mathfrak{gl}_\ell) \arrow[bend right=20]{ur} \arrow[bend left=20]{dr} & \\
\text{rational RS model} \arrow[leftrightarrow,bend right=40]{rr} & & \text{trigonometric CM model}
\end{tikzcd}
~\\~\\
\end{center}
\caption{A pictorial summary of the results of chapter \ref{chapter:duality}. The reflection symmetry around the horizontal axis comes from generalized Schur-Weyl duality, while the reflection symmetry around the vertical axis comes from $S$-duality.}
\label{figure:dualities}
\end{figure}

To finish our discussion, we will reframe this representation theoretic picture in a more geometric setting, thus connecting it to gauge theory. We will show that the Drinfeld functor defines part of a functorial quantum field theory representing four-dimensional Chern-Simons theory, which was first described in \cite{article:costello:2013} and subsequently expanded on in a series of papers starting with \cite{article:costello:2018}. Four-dimensional Chern-Simons theory is a semi-topological quantum field theory or, more precisely, holomorphic in the first two dimensions and topological in the other two dimensions. Thus, it lives on a four-manifold $C \times \Sigma$, where $C$ is a complex curve and $\Sigma$ an oriented surface. Its main dynamical variable is a $\mathfrak{gl}_\ell$-valued connection 1-form $A(z)$ on $\Sigma$, which is meromorphic in $z \in C$. One also fixes a meromorphic 1-form $\omega$ on $C$, which is wedged with the Chern-Simons 3-form of $A$ to obtain the Langrangian density of the theory. Its poles and zeros respectively give rise to order and disorder defects of the gauge field $A$.

Specializing four-dimensional Chern-Simons theory to the four-manifold $C \times \Sigma$ with $C = \P^1$ and $\omega = dz$ as well as $\Sigma = S^1 \times [0,1]$ a cylinder, we will see how the rational Ruijsenaars-Schneider model describes the dynamics of the coordinates $y_i$ of Wilson lines along $[0,1]$, while Wilson loops winding around $S^1$ describe the transfer matrix of the Heisenberg model.

In short, the novel contributions of this thesis are the following:
\begin{itemize}
\item We explicitly show that the quantum trigonometric Calogero-Moser model and rational Ruijsenaars-Schneider model are realized as $S$-dual representations of the degenerate double affine Hecke algebra $\ddot H_N$ with commuting Hamiltonians living in the spherical subalgebra $S\ddot H_N$. This is largely parallel to existing literature on the trigonometric Ruijsenaars-Schneider model, see \cite{article:lamers:2022}.
\item We twist the Drinfeld functor $D_{\ell,N}: \dot H_N \mathsf{Mod} \to Y(\mathfrak{gl}_\ell) \mathsf{Mod}$ to give the \emph{twist-extended Drinfeld functor} $D_{\ell,N}^g: \ddot H_N \mathsf{Mod} \to S\ddot H_N \# Y(\mathfrak{gl}_\ell) \mathsf{Mod}$ and show that it maps the Hamiltonians of the quantum rational Ruijsenaars-Schneider model to the Hamiltonians of the twisted inhomogeneous Heisenberg model in the limit where the Planck constant for the rational Ruijsenaars-Schneider model $\hbar$ goes to zero.
\item We show the same for the quantum trigonometric Calogero-Moser model, mapping to the trigonometric Gaudin model when $\hbar \to 0$.
\item We construct a functorial quantum field theory representing four-dimensional Chern-Simons theory on $\P^1 \times S^1 \times [0,1]$ and show how it describes the rational Ruijsenaars-Schneider model with spin.
\item We extrapolate our description to four-dimensional Chern-Simons theory on $E \times S^1 \times [0,1]$, where $E$ is an elliptic curve, giving insights into the quantization of the elliptic Ruijsenaars-Schneider model with spin.
\end{itemize}

The remaining chapters of this thesis are structured as follows. Chapter \ref{chapter:integrability} gives a full review from the basics of integrability to the state of the art of the pertinent models and establishes the setup that frames our discussion. Chapter \ref{chapter:duality} begins with a detailed discussion of the recent appearance of the Lax matrix of the rational Ruijsenaars-Schneider model in the functional relations for transfer matrices of the Heisenberg model used to derive the spectral equation whose solutions yield the energy spectrum of the Heisenberg model. We then move on to describe the mathematical underpinnings of generalized Schur-Weyl duality and how it gives rise to quantum-classical duality. The end of chapter \ref{chapter:duality} is dedicated to explicating $S$-duality, showing how the $S$-dual models, \emph{i.e.} the trigonometric Gaudin model and the trigonometric Calogero-Moser model are also related by quantum-classical duality. Chapter \ref{chapter:geometry} then continues with a description of the geometry behind the mathematical structures of chapter \ref{chapter:duality}, constructing a functorial quantum field theory extending the Drinfeld functor. Finally, we argue why this functorial quantum field theory represents four-dimensional Chern-Simons theory. After the conclusion (chapter \ref{chapter:conclusion}), we give supplementary material on Young diagrams (appendix \ref{appendix:youngdiagrams}) as well as results on Dunkl operators for the trigonometric Calogero-Moser model (appendix \ref{appendix:dunklOperators}) and a short reference on double categories (appendix \ref{appendix:doubleCats}).

~\\

\begin{center}
{\large \textit{-- Enjoy! --}}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Integrability}\label{chapter:integrability}

\section{Classical integrability}

\subsection{Liouville theorem}

Physical models in classical mechanics are described by phase spaces that are $2N$-dimensional symplectic manifolds together with a choice of Hamiltonian $H$. In this setting, the definitive definition of integrability is given by \emph{Liouville integrability}, which comes from the basic idea that conserved quantities reduce the effective dimensionality of the phase space. To see this, assume that we are handed a conserved quantity $f$, in other words $\dot f = \{ H, f \} = 0$. By definition, $f$ will be constant along the Hamiltonian flow generated by the Hamiltonian vector field of $H$, say $f \equiv c \in \R$, so we may narrow our phase space to individual level sets of $f$, which generically have codimension one. Continuing this argument by adding more conserved quantities while making sure that they all Poisson-commute, one will eventually arrive at a half-dimensional submanifold on which the equations of motion simplify greatly. This requires a full set of $N$ independent Poisson-commuting observables, including the Hamiltonian. The precise statement is given by the Liouville-Arnold theorem \cite{book:arutyunov:elements,book:arnold}:

\begin{theorem}[Liouville-Arnold theorem]\index{Liouville theorem}
Let $M$ be a $2N$-dimensional symplectic manifold and suppose there exist $N$ smooth functions $f_1,...,f_N \in C^\infty(M)$ such that all pairwise Poisson brackets vanish, \emph{i.e.} $\{ f_i,f_j \} = 0$ for all $1 \leq i,j \leq N$ and the Hamiltonian $H$ is a function of the $f_i$. Given $c = (c_1,...,c_N) \in \R^N$, consider the level set
\begin{equation*}
M_c := \{ p \in M \mid f_i(p) = c_i \}.
\end{equation*}
If the 1-forms $df_i$ are linearly independent on $M_c$, then:
\begin{enumerate}[label=(\roman*)]
\item $M_c$ is a smooth submanifold invariant under the Hamiltonian flow.
\item If $M_c$ is compact and connected, then $M_c$ is diffeomorphic to $(S^1)^N$. In this case, the Hamiltonian flow for $H$ is linearly periodic, \emph{i.e.} $\dot \varphi_i = \omega_i$ for $\varphi_i$ the $i$th angular coordinate and $\omega_i$ a frequency dependent only on $c$ and $H$.
\end{enumerate}
\end{theorem}

\begin{proof}
Part (i) is an application of the Frobenius theorem. To show (ii), observe that the Hamiltonian flow of the commuting conserved quantities $f_1,...,f_N$ generate an action of the $N$-dimensional commutative Lie algebra $\R^N$ on $M_c$. The 1-forms $df_i$ were assumed to be linearly independent, which implies that this action is locally free and hence is transitive and has discrete stabilizer, which must then be of the form $\Z^k \subseteq \R^N$. Compactness of $M_c$ implies $k=N$ and $M_c \cong \R^N / \Z^N \cong (S^1)^N$.
\end{proof}

\begin{example}
The simplest example of a Liouville integrable model is the classical harmonic oscillator. Its phase space is $(\R^2,dp \wedge dq)$ with Hamiltonian
\begin{equation*}
H(p,q) = \tfrac{1}{2} (p^2 + q^2).
\end{equation*}
The Hamiltonian itself trivially provides enough conserved quantities for Liouville integrability to hold. This directly manifests in the time evolution of the harmonic oscillator: For a fixed energy $E = \frac{\alpha^2}{2}$, the equations of motion reduce to $\dot \varphi = 1$, where we have introduced the angular variable $\varphi$ parameterizing $p$ and $q$ via
\begin{equation*}
p(\varphi) = \alpha \cos(\varphi), \quad q(\varphi) = \alpha \sin(\varphi).
\end{equation*}
This is easily generalized to $N$ uncoupled, possibly anisotropic harmonic oscillators with phase space $(\R^{2N},\sum_i dp_i \wedge dq_i)$, conserved quantities
\begin{equation*}
f_i = \tfrac{1}{2}(p_i^2 + \omega_i^2 q_i^2), \quad \omega_i \in \R,
\end{equation*}
and Hamiltonian $H = \sum_i f_i$. The level sets for these integrals of motion are of the form $(S^1)^N$ with angular variables $\varphi_1,...,\varphi_N$ evolving linearly as $\dot \varphi_i = \omega_i$. Note that the time evolution is only truly periodic when the $\omega_1,...,\omega_N$ are all integer multiples of a fundamental frequency.
\end{example}

\subsection{Lax pairs}

The Liouville theorem leaves open the following question: How do we find enough conserved quantities? This is generally a very hard task, but there are some structures that can help us. One important such structure is the existence of a \emph{Lax pair}:

\begin{definition} \index{Lax pair}
A pair $(L,M)$ of $n \times n$ matrices of observables is a \emph{Lax pair} if the \emph{Lax equation}
\begin{equation*}
\dot L = [M,L].
\end{equation*}
holds. We then call $L$ a \emph{Lax matrix}.
\end{definition}

\begin{remark}
Lax pairs are not unique. In fact, any Lax pair may be twisted by an invertible matrix of observables $g$ via the gauge-like transformation
\begin{equation*}
L \mapsto gLg^{-1}, \quad M \mapsto gMg^{-1} + \dot g g^{-1}
\end{equation*}
We may also add any polynomial in $L$ to $M$ without changing the Lax equation.
\end{remark}

\begin{prop}
Given a Lax pair $(L,M)$, the spectral invariants $I_k := \operatorname{tr} L^k$ for $k \in \Z$ constitute a family of conserved quantities.
\end{prop}

\begin{proof}
Notice that $L^{-1}$ is also a Lax matrix:
\begin{equation*}
\dot L^{-1} = - L^{-1} \dot L L^{-1} = -L^{-1} [M,L] L^{-1} = [M,L^{-1}].
\end{equation*}
Hence, for $k \geq 0$ we obtain
\begin{equation*}
\dot I_{\pm k} = k \operatorname{tr} (L^{\pm 1})^{k-1} \dot L^{\pm 1} = k \operatorname{tr} (L^{\pm 1})^{k-1} [M,L^{\pm 1}] = k \operatorname{tr} [M,L^{\pm k}] = 0,
\end{equation*}
making use of the cyclic property of the trace.
\end{proof}

\begin{example}
Let us again consider the harmonic oscillator and introduce the matrices
\begin{equation*}
L = \frac{1}{2}
\begin{pmatrix}
p & q \\ q & -p
\end{pmatrix},
\quad
M = \frac{1}{2}
\begin{pmatrix}
0 & -1 \\
1 & 0
\end{pmatrix}
\end{equation*}
We check
\begin{equation*}
\dot L = \frac{1}{2}
\begin{pmatrix}
-q & p \\ p & q
\end{pmatrix}
=
\frac{1}{4}
\begin{pmatrix}
p & q \\ q & -p
\end{pmatrix}
\begin{pmatrix}
0 & -1 \\
1 & 0
\end{pmatrix}
-
\frac{1}{4}
\begin{pmatrix}
0 & -1 \\
1 & 0
\end{pmatrix}
\begin{pmatrix}
p & q \\ q & -p
\end{pmatrix}
= [M,L]
\end{equation*}
and see that the conserved quantity $\operatorname{tr} L^2 = \frac{1}{2}(p^2+q^2)$ is the Hamiltonian.
\end{example}

We quickly remark that the existence of a Lax pair is by itself insufficient to guarantee Liouville integrability. Firstly, it might fail to produce enough \emph{independent} conserved quantities, and secondly, it might fail to produce \emph{Poisson-commuting} conserved quantities. However, there is a way to guarantee that the spectral invariants of the Lax matrix Poisson-commute. We briefly state this result here:

\begin{theorem}[Babelon-Viallet \cite{book:arutyunov:elements}]
The eigenvalues of a matrix $L$ of observables on a phase space $(M,\omega)$ Poisson-commute if and only if there exists a so-called \emph{dynamical $r$-matrix} $r \in \operatorname{Mat}_n(C^\infty(M))^{\otimes 2}$ with
\begin{equation*}
\{ L_1, L_2 \} = [r_{12},L_1] - [r_{21},L_2],
\end{equation*}
where $L_1,L_2$ respectively denote $L \otimes 1, 1 \otimes L$ and $r_{21},r_{12}$ respectively denote $r$ with and without the tensor factors swapped.
\end{theorem}

\subsection{Lax connections}

The definition of a Lax pair arguably looks ad hoc. One way to see how this structure makes sense is to look at how Lax pairs arise from the flatness equation of so called \emph{Lax connections} in two-dimensional field theories. For later purposes, we will consider Lax connections with a \emph{spectral parameter}.

\begin{definition}
Let $\Sigma$ be an oriented surface and $\mathfrak{g}$ a Lie algebra. A \emph{Lax connection with spectral parameter}\index{Lax connection}\index{Spectral parameter} is a $\mathfrak{g}$-valued 1-form $A(z)$ on $\Sigma$ meromorphic in $z \in \C$ such that $A(z)$ is flat when $z$ is not a pole. Writing
\begin{equation*}
A(z) = A_t(z) dt + A_x(z) dx
\end{equation*}
in local coordinates $t,x$, this means
\begin{equation*}
\partial_t A_x(z) - \partial_x A_t(z) = [A_t(z),A_x(z)].
\end{equation*}
\end{definition}

\begin{prop}
Let $\Sigma = \R \times S^1$ be a cylinder with axial coordinate $t$ and angular coordinate $x$ and $A(z) = A_t(z) dt + A_x(z) dx$ be a Lax connection. Let $z$ not be a pole and
\begin{equation*}
L(z) := \operatorname{Hol}_\gamma(A(z)), \quad M(z) := A_t(z)|_{x=0},
\end{equation*}
where $\gamma$ is a loop winding once around the cylinder and $\operatorname{Hol}_{\gamma}(A(z))$ denotes the holonomy of $A(z)$ around $\gamma$, which is invariant under homotopies due to flatness. Then $(L(z),M(z))$ is a Lax pair.
\end{prop}

\begin{proof}
Let us follow \cite{notes:beisert:2014} and let $\gamma$ be a curve starting at $(t_0,x_0) \in \Sigma$ and ending at $(t_1,x_1) \in \Sigma$. The defining partial differential equations for the holonomy give
\begin{equation*}
\frac{\partial}{\partial t_0} \operatorname{Hol}_\gamma(A(z)) = -A_t(z)|_{x=x_0} \operatorname{Hol}_\gamma(A(z)), \quad \frac{\partial}{\partial t_1} \operatorname{Hol}_\gamma(A(z)) = A_t(z)|_{x=x_1} \operatorname{Hol}_\gamma(A(z)).
\end{equation*}
Choosing $x_0 = x_1 = 0$ and $t_0 = t_1$ and letting $\gamma$ wind once around the cylinder implies
\begin{align*}
\dot L(z)
&= \frac{\partial}{\partial t_0} \operatorname{Hol}_\gamma(A(z)) + \frac{\partial}{\partial t_1} \operatorname{Hol}_\gamma(A(z)) \\
&=  - A_t(z)|_{x=0} \operatorname{Hol}_\gamma(A(z)) + A_t(z)|_{x=0} \operatorname{Hol}_\gamma(A(z)) = [M(z),L(z)],
\end{align*}
which shows that we indeed have a Lax pair.
\end{proof}

\begin{remark}
The conserved quantities $I_k(z) = \operatorname{tr} L(z)^k$ arising from Lax connections on a cylinder $\Sigma = \R \times S^1$ are exactly the traces of holonomies of loops with winding number $k$ around the cylinder. We may expand $I_k(z)$ around $z=0$ to obtain an infinite tower of conserved quantities.
\end{remark}

\subsection{Ruijsenaars-Schneider and Calogero-Moser models}

We now come to two very important classes of examples of classical integrable models: The Ruijsenaars-Schneider and Calogero-Moser models. Fix for the rest of this thesis two non-zero complex numbers $\hbar$ and $\eta$, respectively describing the Planck constant and coupling constant of the Ruijsenaars-Schneider and Calogero-Moser models. We will later also be interested in the limit $\hbar \to 0$.

\begin{definition}
The \emph{rational and trigonometric classical Ruijsenaars-Schneider models}\index{Ruijsenaars-Schneider model}, originally constructed in \cite{article:ruijsenaars:1987}, for $N$ particles of positions $y_i$ and momenta $p_i$, speed of light $c$, and coupling constant $\eta$ have the Hamiltonians
\begin{equation}\label{equation:ratRSHamiltonian}
H^\text{RS} := \sum_i \cosh(p_i/c) \prod_{i \neq j} \sqrt{1 + \frac{u(y_i - y_j)}{u(\eta/c)}}
\end{equation}
with $u(y) := 1/y^2$ for the rational and $u(y) := 1/(4\sinh^2(y/2))$ for the trigonometric case.
\end{definition}

For the sequel, we will set $c=1$, though we first note that setting
\begin{equation}\label{equation:trigCMHamiltonian}
H^\text{CM} := \frac{1}{2} \sum_i p_i^2 + \frac{\eta^2}{2} \sum_{i \neq j} u(y_i-y_j),
\end{equation}
and expanding $H^\text{RS}$ around $c = \infty$ yields

\begin{prop}
\begin{equation*}
H^\textnormal{RS} = N + \bigg( \frac{1}{c} \bigg)^2 H^\textnormal{CM} + \mathcal{O}\bigg( \bigg( \frac{1}{c} \bigg)^4 \bigg).
\end{equation*}
\end{prop}

\begin{proof}
This is a quick computation with Mathematica ($\to$ \texttt{RSHamiltonianExpansion.nb}).
\end{proof}

\begin{definition}
The function $H^\text{CM}$ from equation (\ref{equation:trigCMHamiltonian}) defines the Hamiltonians for the \emph{rational and trigonometric classical Calogero-Moser models}\index{Calogero-Moser model}.
\end{definition}

The Hamiltonian (\ref{equation:trigCMHamiltonian}) of the rational Calogero-Moser model evidently describes point particles repelling each other through centrifugal inverse-cube forces. \cite{article:ruijsenaars:1987} hence argues that the rational Ruijsenaars-Schneider model describes the same phenomenon in the relativistic setting with finite speed of light $c$. We further remark that the trigonometric case might be thought of as having periodic coordinates after taking the position variables $y_i$ to be purely imaginary, hence describing particles moving on a circle. Our focus will be on the rational Ruijsenaars-Schneider model and the trigonometric Calogero-Moser model.

\begin{prop}
Lax matrices ensuring Liouville integrability for the rational Ruijsenaars-Schneider and the trigonometric Calogero-Moser model are given by
\begin{equation}\label{equation:RSLaxMatrix}
L_{ij}^\textnormal{RS} = \frac{\eta}{y_i-y_j+\eta} \bigg( \prod_{k \neq j} \frac{y_j-y_k-\eta}{y_j-y_k} \bigg) e^{-p_j}
\end{equation}
and
\begin{equation*}
L_{ij}^\textnormal{CM} = \delta_{ij} p_i + (1-\delta_{ij}) \eta \theta_{ij}, \quad \theta_{ij} := \frac{e^{y_i}}{e^{y_i}-e^{y_j}}.
\end{equation*}
\end{prop}

\begin{proof}
See \cite{book:arutyunov:elements}.
\end{proof}

\begin{remark}
For the rational Ruijsenaars-Schneider model, we will make use of the alternative Hamiltonian
\begin{equation}\label{equation:ratRSHamiltonianPrime}
\operatorname{tr} L^\textnormal{RS} = \sum_i \bigg( \prod_{i \neq j} \frac{y_i-y_j-\eta}{y_i-y_j} \bigg) e^{-p_i}.
\end{equation}
Choosing this Hamiltonian is mostly a matter of convention, as $\operatorname{tr} L^\textnormal{RS} + \operatorname{tr}(L^\textnormal{RS})^{-1}$ is equivalent to (\ref{equation:ratRSHamiltonian}) up to a canonical transformation \cite{book:arutyunov:elements}. Note that for the trigonometric Calogero-Moser model we already have
\begin{equation*}
\tfrac{1}{2} \operatorname{tr} (L^\textnormal{CM})^2 = H^\textnormal{CM}
\end{equation*}
due to $\theta_{ij} \theta_{ji} = 1/(4 \sinh^2((y_i-y_j)/2))$.
\end{remark}

\section{Quantum integrability}

Integrability in the quantum context is generally considered to be a more diffuse concept than classical integrability. The basic definition generalizing Liouville integrability is the existence of a large set of mutually commuting quantum observables that include the Hamiltonian. Such can often be guaranteed by the existence of operators fulfilling the quantum Yang-Baxter equation or the applicability of various Bethe ansätze \cite{book:arutyunov:betheAnsatz}. This usually comes hand-in-hand with the existence of large symmetries, especially \emph{Hecke symmetries} and \emph{Yangian symmetries}, which automatically generate sets of commuting operators via their commutative subalgebras.

In order to quantize the rational Ruijsenaars-Schneider and trigonometric Calogero-Moser model, we will start with a discussion of Hecke algebras and their representations, after which we move on to the Yangian of $\mathfrak{gl}_\ell$, whose representation theory gives rise to the Heisenberg model.

\subsection{Weyl groups and Hecke algebras of type $A$}

\begin{definition}
\begin{enumerate}[label=(\roman*)]
\item The Weyl group of type $A_{N-1}$ is the symmetric group $S_N$ on $N$ letters. We write cycles in standard form $(1 \ 2 \ 3)$, mapping 1 to 2, 2 to 3, and 3 to 1, and denote the simple transpositions $(i \ i+1)$ by $s_i$ for $1 \leq i < N$. Finally, we let $w := s_1 \cdots s_{N-1} = (1 \ \cdots \ N)$ denote the Coxeter element.
\item Define the \emph{Jucys-Murphy elements}\index{Jucys-Murphy elements} $Y_i := \sum_{k=1}^{i-1} (k \ i) \in \C[S_N]$. They commute among each other and fulfill $s_i Y_j = Y_j s_i$ for $|i-j|>1$ as well as $s_i Y_i = Y_{i+1} s_i-1$.
%\item Given a standard Young tableau $t$ of shape $\lambda$ partitioning $N$, define the \emph{Specht polynomial}
%\begin{equation*}
%f_t(y_1,...,y_N) := \prod_{i<j \text{ in a column of } t} (y_j-y_i).
%\end{equation*}
%\item The \emph{Specht module} $S(\lambda)$ is the $\C[S_N]$-module spanned by $f_t$, where $t$ ranges over all standard Young tableaux of shape $\lambda$ and $S_N$ acts by permutation of variables.
\end{enumerate}
\end{definition}

\begin{prop}
\begin{enumerate}[label=(\roman*)]
\item The Specht modules $S(\lambda)$, for $\lambda$ ranging over Young diagrams partitioning $N$, exhaust all finite-dimensional irreducible representations of $\C[S_N]$.
\item The Specht module $S(\lambda)$ has a basis $\{ v_t \}$ labeled by standard Young tableaux $t$ of shape $\lambda$ such that
\begin{equation*}
Y_i v_t = c_i(t) v_t,
\end{equation*}
where $c_i(t)$ is the content of $i$ in $t$.
\end{enumerate}
\end{prop}

\begin{proof}
For (ii), see \cite{article:murphy:1981}, and (i) is a well-known result.
\end{proof}

\begin{definition}
\begin{enumerate}[label=(\roman*)]
\item The \emph{affine Weyl group of type $A_{N-1}$} is the group $\dot S_N := S_N \ltimes \Z^N$, where $S_N$ acts on $\Z^N$ by permutation of coordinates. The group algebra $\C[\dot S_N]$ is canonically generated by the group algebra $\C[S_N]$ of the symmetric group and an algebra of Laurent polynomials $\C[X_1^{\pm 1},...,X_N^{\pm 1}]$. In fact, it is generated by the simple transpositions $s_i$ and the element $\pi := X_1 w$.
%\item We also define the \emph{elliptic Weyl group} $\ddot S_N$. It is generated by $S_N$ as well as two sets of Laurent generators $X_1,...,X_N$ and $\bar X_1,...,\bar X_N$ forming two copies of $\dot S_N$ and fulfilling the relation $X_1 \bar X_2 = \bar X_2 X_1$. We again introduce the elements $\pi$ and $\bar pi$ as above in the two copies of $\dot S_N$.
\item The \emph{degenerate double affine Hecke algebra (of type $A_{N-1}$)}\index{Degenerate double affine Hecke algebra} is the complex associative algebra $\ddot H_N$ generated by the group algebra $\C[\dot S_N]$ and the polynomial algebra $\C[y_1,...,y_N]$ subject to the cross-relations
\begin{align*}
s_i y_j = y_j s_i, \quad s_i y_i = y_{i+1} s_i + \eta, \quad \pi y_i \pi^{-1} = y_{i+1}, \quad \pi y_N \pi^{-1} = y_1 + \I \hbar,
\end{align*}
where $1 \leq i < N, 1 \leq j \leq N$ and $|i-j|>1$. It can thus be seen to be generated by the simple transpositions $s_i$ as well as $\pi$ and $y_1$. Let us also remark that these relations admit an anti-automorphism
\begin{equation*}
s_i \mapsto s_i, \quad X_i \mapsto X_i^{-1}, \quad y_i \mapsto y_i,
\end{equation*}
making left modules equivalent to right modules.
\item The subalgebra $\dot H_N \subset \ddot H_N$ generated only by $\C[S_N]$ and $\C[y_1,...,y_N]$ is the \emph{degenerate affine Hecke algebra (of type $A_{N-1}$)}\index{Degenerate affine Hecke algebra}. It is also generated by the $s_i$ and $y_1$. There is an evaluation homomorphism
\begin{equation}\label{equation:degHeckeEval}
\operatorname{ev}: \dot H_N \to S_N[y], \quad s_i \mapsto s_i, \quad y_i \mapsto y - \eta Y_i.
\end{equation}
\item Let $e := \frac{1}{N!}\sum_{\sigma \in S_N} \sigma \in \ddot H_N$ be the symmetrizer. Then $S\ddot H_N := e \ddot H_N e$ is the \emph{spherical degenerate double affine Hecke algebra (of type $A_{N-1}$)}\index{Spherical degenerate double affine Hecke algebra}, or \emph{spherical subalgebra} for short.
\end{enumerate}
\end{definition}

The spherical degenerate double affine Hecke algebra will be of great importance, since it produces families of commuting operators by the following proposition: 

\begin{prop}
\begin{enumerate}[label=(\roman*)]
\item $S\ddot H_N$ is commutative and finitely generated by elementary symmetric polynomials in $X_1,...,X_N$ and $y_1,...,y_N$.
%\item The degenerate double affine Hecke algebra $\ddot H_N$ is finite over $S\ddot H_N$.
%\item Specializing to $\hbar = 0$, there is the Satake isomorphism $Z(\ddot H_N) \overset \sim \to S\ddot H_N, z \mapsto ze$, while one has $Z(\ddot H_N) = \C$ for $\hbar \neq 0$.
\item The spectrum of $S\ddot H_N$ is the configuration space of the classical rational Ruijsenaars-Schneider and trigonometric Calogero-Moser model.
\end{enumerate}
\end{prop}

\begin{proof}
See \cite{article:oblomkov:2003}.
\end{proof}

Much of the following is parallel to \cite{article:lamers:2022}, where the non-degenerate case is discussed. We construct a representation of $\dot H_N$ on polynomials $\C[y_1,...,y_N]$. This is supposed to become the wave function representation for the rational Ruijsenaars-Schneider model. Let us begin by considering the action where $S_N$ acts by permutation of the variables. This allows us to introduce the following operators:
\begin{enumerate}[label=(\roman*)]
\item The \emph{divided difference operators} are defined as
\begin{equation*}
\Delta_i := (y_i-y_{i+1})^{-1} (1-s_i).
\end{equation*}
Note that the anti-symmetrization implies that $\Delta_i^2 = 0$ and that $\Delta_i f$ for any polynomial $f$ will again be a polynomial despite its denominator. We further note that $\Delta_i y_i = y_{i+1} \Delta_i + 1$.
%\begin{equation*}
%\Delta_i y_i = \frac{y_i}{y_i-y_{i+1}} - \frac{y_{i+1}}{y_i-y_{i+1}} s_i = 1+\frac{y_{i+1}}{y_i-y_{i+1}} - \frac{y_{i+1}}{y_i-y_{i+1}} s_i = y_{i+1} \Delta_i + 1.
%\end{equation*}
\item The \emph{$t$-operators} are defined as
\begin{equation*}
t_i := s_i + \eta \Delta_i = \frac{y_i-y_{i+1}-\eta}{y_i-y_{i+1}} s_i + \frac{\eta}{y_i-y_{i+1}}.
\end{equation*}
\end{enumerate}

\begin{prop}
The mapping
\begin{align*}
s_i \mapsto t_i, \quad y_i \mapsto y_i
\end{align*}
gives rise to a representation of $\dot H_N$ on $\C[y_1,...,y_N]$.
\end{prop}

\begin{proof}
It is clear that $t_i$ and $t_j$ as well as $t_i$ and $y_j$ commute for $|i-j|>1$. We also have
\begin{equation*}
t_i^2 = 1 + s_i \eta \Delta_i + \eta \Delta_i s_i + \eta^2 \Delta_i^2 = 1 + \eta \Delta_i - \eta \Delta_i = 1.
\end{equation*}
as well as the braid relation $t_i t_{i-1} t_i = t_{i-1} t_i t_{i-1}$, which may be quickly checked in Mathematica ($\to$ \texttt{TOperatorRelations.nb}). The relation $t_i y_i = y_{i+1} t_i + \eta$ follows readily from $\Delta_i y_i = y_{i+1} \Delta_i + 1$.
\end{proof}

To extend this representation to the degenerate double affine Hecke algebra $\ddot H_N$, introduce the $x$-operators
\begin{equation*}
x_{ji} := \frac{y_i-y_j-\eta}{y_i-y_j} + \frac{\eta}{y_i-y_j} (i \ j).
\end{equation*}

\begin{lemma}\label{lemma:xOpLemma}
The $x$-operators fulfill the quantum Yang-Baxter equation $x_{ij} x_{ik} x_{jk} = x_{jk} x_{ik} x_{ij}$ as well as $x_{ij} e^{\I\hbar \partial_i} e^{\I\hbar \partial_j} = e^{\I\hbar \partial_j} e^{\I\hbar \partial_i} x_{ij}$.
\end{lemma}

\begin{proof}
The second identity follows because $e^{\I\hbar \partial_i}$ and $e^{\I\hbar \partial_j}$ commute and their combination $e^{\I\hbar \partial_i} e^{\I\hbar \partial_j}$ preserves the coefficients of $x_{ij}$. To tackle the first identity, note that $\sigma x_{ij} \sigma^{-1} = x_{\sigma(i)\sigma(j)}$ as well as $t_i s_i = x_{i+1,i}$ and $s_i t_i = x_{i,i+1}$. The quantum Yang-Baxter equation for the $x$-operators then reduces to the equation
\begin{equation*}
x_{i-1,i+1} x_{i-1,i} x_{i+1,i} = x_{i+1,i} x_{i-1,i} x_{i-1,i+1},
\end{equation*}
which follows from the braid relation $t_i t_{i-1} t_i = t_{i-1} t_i t_{i-1}$:
\begin{align*}
x_{i-1,i+1} x_{i-1,i} x_{i+1,i}
&= x_{i-1,i+1} s_{i-1} t_{i-1} t_i s_i \\
&= s_{i-1} x_{i,i+1} t_{i-1} t_i s_i \\
&= s_{i-1} s_i t_i t_{i-1} t_i s_i \\
&= s_{i-1} s_i t_{i-1} t_i t_{i-1} s_i \\
&= s_{i-1} s_i s_{i-1} s_{i-1} t_{i-1} t_i t_{i-1} s_{i-1} s_{i-1} s_i \\
&= s_i s_{i-1} s_i x_{i-1,i} t_i x_{i,i-1} s_{i-1} s_i \\
&= s_i s_{i-1} x_{i-1,i+1} s_i t_i x_{i,i-1} s_{i-1} s_i \\
&= s_i s_{i-1} x_{i-1,i+1} x_{i,i+1} x_{i,i-1} s_{i-1} s_i \\
&= x_{i+1,i} x_{i-1,i} x_{i-1,i+1}.
\end{align*}
\end{proof}

\begin{prop}
The mapping
\begin{align*}
s_i \mapsto t_i, \quad X_i \mapsto x_{i,i-1} \cdots x_{i1} e^{\I \hbar \partial_i} x_{iN} \cdots x_{i,i+1}, \quad y_i \mapsto y_i
\end{align*}
gives rise to a representation of $\ddot H_N$ on $\C[y_1,...,y_N]$.
\end{prop}

\begin{proof}
Let $\pi$ act on $\C[y_1,...,y_N]$ by
\begin{equation*}
(\pi f)(y_1,...,y_N) := f(y_2,...,y_N,y_1 + \I \hbar).
\end{equation*}
It is clear that this action fulfills the necessary relations between $\pi$ and the $y_i$. Furthermore, we see that $X_1 = \pi w^{-1}$ acts as $\pi t_{N-1} \cdots t_1$, which implies that $X_i$ acts as $t_{i-1} \cdots t_1 \pi t_{N-1} \cdots t_i$. We arrive at
\begin{align*}
t_{i-1} \cdots t_1 \pi t_{N-1} \cdots t_i
&= t_{i-1} \cdots t_1 e^{\I \hbar \partial_1} s_1 \cdots s_{N-1} t_{N-1} \cdots t_i \\
&= t_{i-1} \cdots t_1 s_1 \cdots s_{i-1} e^{\I \hbar \partial_i} s_i \cdots s_{N-1} t_{N-1} \cdots t_i \\
&= x_{i,i-1} \cdots x_{i1} e^{\I \hbar \partial_i} x_{iN} \cdots x_{i,i+1}.
\end{align*}
It remains to show commutativity of $X_1,...,X_N$, and it suffices to check $X_2 X_1 = X_1 X_2$. Indeed,
\begin{align*}
&x_{21} e^{\I\hbar \partial_2} x_{2N} \cdots x_{23} e^{\I\hbar \partial_1} x_{1N} \cdots x_{13} x_{12} \\
&= e^{\I\hbar \partial_1} x_{1N} \cdots x_{13} e^{\I\hbar \partial_2} x_{2N} \cdots x_{23} x_{21} x_{12} \\
&= e^{\I\hbar \partial_1} x_{1N} \cdots x_{13} x_{12} x_{21} e^{\I\hbar \partial_2} x_{2N} \cdots x_{23},
\end{align*}
where we made use of lemma \ref{lemma:xOpLemma} as well as $x_{ij} x_{ji} = 1$.
\end{proof}

We may also construct a representation on the $S$-dual Laurent generators: Clearly, there is a representation of $\dot S_N$ on $\C[X_1^{\pm 1},...,X_N^{\pm 1}]$ where $S_N$ permutes the variables and $X_i$ acts simply by multiplication. Furthermore, we can extend this representation to $\ddot H_N$ in the following way:

\begin{prop}\label{prop:trigCMRepresentation}
Let $\theta_{ij} := X_i/(X_i-X_j)$. The mapping
\begin{align*}
s_i \mapsto s_i, \quad X_i \mapsto X_i, \quad y_i \mapsto -\I \hbar X_i \partial_i - (i-1) \eta + \eta \sum_{j < i} \theta_{ji} (1-(i \ j)) - \eta \sum_{j > i} \theta_{ij} (1-(i \ j))
\end{align*}
gives rise to a representation of $\ddot H_N$ on $\C[X_1^{\pm 1},...,X_N^{\pm 1}]$.
\end{prop}

\begin{proof}
We refer to appendix \ref{appendix:dunklOperators}, lemma \ref{lemma:trigCMRepresentationAppendix}.
\end{proof}

\begin{remark}
The operators $X_i$ acting on $\C[y_1,...,y_N]$ are called \emph{rational Macdonald operators}, while the operators $y_i$ acting on $\C[X_1^{\pm 1},...,X_N^{\pm 1}]$ are called \emph{trigonometric Dunkl operators} in the literature.
\end{remark}

\subsection{Quantization of Ruijsenaars-Schneider and Calogero-Moser models}

We will now show that the former polynomial representation above yields the rational Ruijsenaars-Schneider model, while the latter yields the trigonometric Calogero-Moser model. More precisely, we will see that certain symmetric polynomials in the $X_i$ and $y_i$ respectively yield the correct Hamiltonians. This manifests the spectral duality between those two systems \cite{article:chalykh:2000} as a remnant of the $S$-duality exchanging the two sets of Laurent generators of the non-degenerate double affine Hecke algebra.

\begin{definition}
The \emph{quantum rational Ruijsenaars-Schneider model} is essentially given by the former polynomial representation of the degenerate double affine Hecke algebra\index{Quantum rational Ruijsenaars-Schneider model}. Concretely, its Hilbert space of wave functions is nothing but the vector space $\C[y_1,...,y_N]$, where the polynomial generators $y_1,...,y_N$ provide position operators while the Laurent generators $X_1,...,X_N$ provide operators involving momenta. Of particular interest is the spherical degenerate double affine Hecke algebra $S\ddot H_N$, from which we get commuting Hamiltonians
\begin{equation*}
D_k := e_k(X_1,...,X_N) \in S\ddot H_N,
\end{equation*}
with $e_k$ the $k$th elementary symmetric polynomial.
\end{definition}

\begin{prop}
On symmetric polynomials, \emph{i.e.} bosonic wave functions, $D_1$ reduces to the canonically quantized Hamiltonian (\ref{equation:ratRSHamiltonianPrime}) of the rational Ruijsenaars-Schneider model:
\begin{equation*}
D_1 = \sum_i \bigg( \prod_{i \neq j} \frac{y_i-y_j-\eta}{y_i-y_j} \bigg) e^{\I \hbar \partial_i}.
\end{equation*}
\end{prop}

\begin{proof}
We proceed in analogy to \cite{article:jimbo:1995}. We know that $X_i$ acts as
\begin{equation*}
x_{i,i-1} \cdots x_{i1} e^{\I \hbar \partial_i} x_{iN} \cdots x_{i,i+1}
\end{equation*}
by the previous lemma. It is clear that $x_{ij}$ acts as the identity on symmetric polynomials. Note however that while $D_1$ does preserve the space of symmetric polynomials, $e^{\I \hbar \partial_i}$ on its own does not, so the $x_{ij}$ to the left of $e^{\I \hbar \partial_i}$ act non-trivially. Pulling the permutations to the right yields
\begin{equation*}
\bigg( \prod_{j < i} \frac{y_i-y_j-\eta}{y_i-y_j} \bigg) e^{\I \hbar \partial_i} + (\text{terms for } e^{\I \hbar \partial_j} \text{ with } j < i).
\end{equation*}
In particular, we see that only $X_N$ contributes to the coefficient in front of $e^{\I \hbar \partial_N}$, which is exactly $\prod_{N \neq j} \frac{y_N-y_j-\eta}{y_N-y_j}$. The symmetry $(j \ \cdots \ N) D_1 (N \ \cdots \ j) = D_1$ for $j < N$ shows that the coefficients in front of $e^{\I \hbar \partial_j}$ also have this form.
\end{proof}

Let us now move on to the trigonometric Calogero-Moser model:

\begin{definition}
The \emph{quantum trigonometric Calogero-Moser model} is given by the latter polynomial representation of the degenerate double affine Hecke algebra\index{Quantum trigonometric Calogero-Moser model}, \emph{i.e.} $\C[X_1^\pm,...,X_N^\pm]$ is its Hilbert space of wave functions with position operators $X_1,...,X_N$ and momentum-like operators $y_1,...,y_N$. We again have a set of commutating Hamiltonians in the spherical degenerate double affine Hecke algebra given by
\begin{equation*}
C_k' := \frac{1}{k} p_k(y_1,...,y_N) \in S\ddot H_N,
\end{equation*}
with $p_k$ the $k$th power sum symmetric polynomial. To compare with the classical case, \cite{article:etingof:2009} considers the conjugates
\begin{equation*}
C_k := \delta^{-1} C_k' \delta, \quad \delta := \prod_{i < j} (X_i-X_j)^{\I \eta / \hbar}.
\end{equation*}
\end{definition}

\begin{prop}\label{prop:trigCMHamiltonian}
On $\delta^{-1} \C[X_1^{\pm 1},...,X_N^{\pm 1}]^{S_N}$, $C_1$ reduces to the canonically quantized total momentum of the trigonometric Calogero-Moser model, while $C_2$ reduces to the Hamiltonian:
\begin{equation*}
C_1 = -\I \hbar \sum_i X_i \partial_i, \quad C_2 = -\frac{\hbar^2}{2} \Delta + \frac{\eta(\eta-\I \hbar)}{2} \sum_{i \neq j} \theta_{ij} \theta_{ji},
\end{equation*}
where $\Delta := \sum_i (X_i \partial_i)^2$ is the Laplacian.
\end{prop}

\begin{proof}
We refer to appendix \ref{appendix:dunklOperators}, lemma \ref{lemma:trigCMHamiltonianAppendix}.
\end{proof}

\begin{remark}
The reparametrization $X_i = e^{x_i}$ yields
\begin{equation*}
X_i \frac{\partial}{\partial X_i} = \frac{\partial}{\partial x_i}, \quad \theta_{ij} \theta_{ji} = \frac{1}{4\sinh^2((x_i-x_j)/2)},
\end{equation*}
so $C_2$ will indeed reduce to the classical Hamiltonian (\ref{equation:trigCMHamiltonian}) upon sending $\hbar$ to zero.
\end{remark}

\subsection{The Yangian of $\mathfrak{gl}_\ell$}

In order to define the Heisenberg model, we will make use of the representation theory of the \emph{Yangian}. The Yangian $Y(\mathfrak{gl}_\ell)$ was first defined by Drinfeld in his seminal paper \cite{article:drinfeld:1985} introducing quantum groups. An extensive textbook review can be found in \cite{book:molev}, which we follow closely.

\begin{definition}
The \emph{Yangian}\index{Yangian} for the complex Lie algebra $\mathfrak{gl}_\ell$, written $Y(\mathfrak{gl}_\ell)$, is defined as the complex associative algebra with the following presentation: It has generators $t_{ij}^{(r)}$ for $1 \leq i,j \leq \ell$ and $r \geq 1$, which are subject to the relations
\begin{equation}\label{equation:yangianDefiningRelation}
[t_{ij}^{(r+1)},t_{kl}^{(s)}] - [t_{ij}^{(r)},t_{kl}^{(s+1)}] = \eta(t_{kj}^{(r)} t_{il}^{(s)} - t_{kj}^{(s)} t_{il}^{(r)}),
\end{equation}
with $r,s \geq 0$ making use of $t_{ij}^{(0)} := \delta_{ij}/\eta$. Note that the Yangian is a filtered algebra where we let $t_{ij}^{(r)}$ have degree $r-1$. Denote its filtered pieces by $F_i Y(\mathfrak{gl}_\ell)$.
\end{definition}

\begin{remark}
It is often useful to introduce these generators as coefficients of a formal power series
\begin{equation*}
t_{ij}(z) := \eta \sum_{r \geq 0} t_{ij}^{(r)} z^{-r} \in Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket.
\end{equation*}
The parameter $z$ is called the \emph{spectral parameter}\index{Spectral parameter}. With this notation, equation (\ref{equation:yangianDefiningRelation}) becomes
\begin{equation}\label{equation:yangianDefiningRelationUV}
(z-w) [t_{ij}(z),t_{kl}(w)] = \eta(t_{kj}(z) t_{il}(w) - t_{kj}(w) t_{il}(z)) \in Y(\mathfrak{gl}_\ell)\llbracket z^{-1},w^{-1} \rrbracket,
\end{equation}
which should be understood as an equality of the coefficients in each degree.
\end{remark}

One might ask how $Y(\mathfrak{gl}_\ell)$ is related to $\mathfrak{gl}_\ell$. To this end, we let $e_{ij}$ denote the basis of matrix units for $\mathfrak{gl}_\ell$ generating the universal enveloping algebra $U(\mathfrak{gl}_\ell)$. We observe from the defining relations for $r=0$ and $s=1$ that
\begin{equation*}
[t_{ij}^{(1)},t_{kl}^{(1)}] = \delta_{kj} t_{il}^{(1)} - t_{kj}^{(1)} \delta_{il},
\end{equation*}
which are the defining relations for the Lie algebra $\mathfrak{gl}_\ell$. This motivates the following:

\begin{prop}
\begin{enumerate}[label=(\roman*)]
\item There is an injective homomorphism
\begin{equation*}
U(\mathfrak{gl}_\ell) \to Y(\mathfrak{gl}_\ell), \quad e_{ij} \mapsto t_{ij}^{(1)}.
\end{equation*}
\item There is a surjective homomorphism
\begin{equation*}
\operatorname{ev}_0: Y(\mathfrak{gl}_\ell) \to U(\mathfrak{gl}_\ell), \quad t_{ij}^{(1)} \mapsto e_{ij}, \quad t_{ij}^{(p)} \mapsto 0, \quad p>1
\end{equation*}
called the \emph{evaluation homomorphism}. On the level of power series, it is given by
\begin{equation*}
Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \to U(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket, \quad t_{ij}(z) \mapsto \delta_{ij} + \frac{\eta e_{ij}}{z}.
\end{equation*}
which should be understood coefficient-wise.
\end{enumerate}
\end{prop}

We saw that it can be notationally convenient to introduce the formal parameter $z$ and work inside the algebra $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket$. In the same vein, it will also be convenient to work inside the algebra $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \otimes \End \C^\ell$ and write the generators of $Y(\mathfrak{gl}_\ell)$ in matrix form:
\begin{equation*}
T(z) := \sum_{ij} t_{ij}(z) \otimes e_{ij} \in Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \otimes \End \C^\ell.
\end{equation*}
The additional vector space $\C^\ell$ is usually called the \emph{auxiliary space} to distinguish it from representation spaces, usually called \emph{quantum spaces}. The expression may be thought of as a power series of matrices with coefficients in $Y(\mathfrak{gl}_\ell)$. With this in hand, define the following elements in $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket^{\otimes N} \otimes \End \C^\ell$:
\begin{equation*}
T_{[a]}(z) := \sum_{ij} \overset{1}{1} \otimes \cdots \otimes \overset{a}{t_{ij}(z)} \otimes \cdots \otimes \overset{N}{1} \otimes \overset{0}{e_{ij}},
\end{equation*}
where we have used $0$ to denote the auxiliary space index and $1,...,a,...,N$ to denote quantum space indices. We can now define the map
\begin{equation*}
Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \otimes \End \C^\ell \to Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket^{\otimes 2} \otimes \End \C^\ell, \quad T(z) \mapsto T_{[2]}(z) T_{[1]}(z).
\end{equation*}
Using the identity $e_{ij} e_{kl} = \delta_{jk} e_{il}$, we see that on $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket$ this reduces to
\begin{equation*}
Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \to Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket^{\otimes 2}, \quad t_{ij}(z) \mapsto \sum_k t_{ki}(z) \otimes t_{jk}(z),
\end{equation*}
which degree-wise gives the map
\begin{equation}\label{equation:coproduct}
\Delta: Y(\mathfrak{gl}_\ell) \to Y(\mathfrak{gl}_\ell) \otimes Y(\mathfrak{gl}_\ell), \quad t_{ij}^{(r)} \mapsto \sum_k \sum_{s=0}^r t_{ki}^{(r-s)} \otimes t_{jk}^{(s)}.
\end{equation}

\begin{prop}
The map $\Delta$ from (\ref{equation:coproduct}) is an algebra homomorphism. It equips $Y(\mathfrak{gl}_\ell)$ with the structure of a bialgebra with counit
\begin{equation*}
\epsilon: Y(\mathfrak{gl}_\ell) \to \C, \quad t_{ij}^{(r)} \mapsto 0.
\end{equation*}
Furthermore, $Y(\mathfrak{gl}_\ell)$ is a Hopf algebra. The antipode can be represented on the level of the algebra $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \otimes \End \C^\ell$ as
\begin{equation*}
S: T(z) \mapsto T(z)^{-1}.
\end{equation*}
The inverse $T(z)^{-1}$ exists since the leading term in the series is the identity matrix.
\end{prop}

\begin{proof}
This is theorem 1.5.1 of \cite{book:molev}.
\end{proof}

\begin{remark}
Similar to the definition of the $T_{[a]}(z)$, we may define the following elements of the algebra $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \otimes (\End \C^\ell)^{\otimes k}$:
\begin{equation*}
T_a(z) := \sum_{ij} \overset{0}{t_{ij}(z)} \otimes \overset{1}{1} \otimes \cdots \otimes \overset{a}{e_{ij}} \otimes \cdots \otimes \overset{k}{1},
\end{equation*}
where we have used $1,...,a,...,k$ to denote auxiliary space indices and $0$ to denote the quantum space index. Letting $P := \sum_{ij} e_{ij} \otimes e_{ji} \in (\End V)^{\otimes 2}$ be the permutation operator and
\begin{equation*}
R(z) := 1 - \frac{\eta P}{z}
\end{equation*}
be \emph{Yang's rational $R$-matrix}\index{Rational $R$-matrix}, we obtain the following proposition:
\end{remark}

\begin{prop}
\index{RTT relation}The defining relations (\ref{equation:yangianDefiningRelationUV}) of the Yangian may equivalently be written as
\begin{equation}\label{equation:RTTRelation}
R_{12}(z-w) T_1(z) T_2(w) = T_2(w) T_1(z) R_{12}(z-w),
\end{equation}
where $R_{12}(z-w)$ is understood to act on the two auxiliary spaces labeled $1$ and $2$.
\end{prop}

\begin{proof}
Consider the result of acting on $e_j \otimes e_l \in \C^\ell \otimes \C^\ell$. The left hand side gives
\begin{equation*}
\sum_{ik} t_{ij}(z) t_{kl}(w) \otimes e_i \otimes e_k - \frac{\eta}{z-w} \sum_{ik} t_{kj}(z) t_{il}(w) \otimes e_i \otimes e_k
\end{equation*}
while the right hand side gives
\begin{equation*}
\sum_{ik} t_{kl}(w) t_{ij}(z) \otimes e_i \otimes e_k - \frac{\eta}{z-w} \sum_{ik} t_{kj}(z) t_{il}(w) \otimes e_i \otimes e_k.
\end{equation*}
But this becomes exactly (\ref{equation:yangianDefiningRelationUV}) after multiplying with $z-w$.
\end{proof}

\begin{remark}
Note that the RTT relation is invariant under multiplying the $R$-matrix by a power-series in $z-w$. There are different conventions for the choice of normalization, which we briefly summarize:
\begin{center}
\begin{tabular}{|l||l|}
\hline
Yang's convention & $R(z) = 1 - \frac{\eta}{z} P$ \\
polynomial convention & $\hat R(z) = z - \eta P$ \\
unitary convention & $\check R(z) = \frac{z}{z-\eta} - \frac{\eta}{z-\eta} P$ \\
\hline
\end{tabular}
\end{center}
Diagrammatically, we write the $R$-matrix according to Yang's convention as
~\\
\begin{center}
\begin{tikzpicture}
\draw (-0.5,0) -- (0.5,0);
\draw (0,-0.5) -- (0,0.5);
\draw (0.15,0) arc (0:90:0.15);
\node[left] at (-0.5,0) {$z$};
\node[below] at (0,-0.5) {$w$};

\node at (1,0) {$=$};

\draw (1.5,0) -- (2.5,0);
\draw (2,-0.5) -- (2,0.5);

\node at (3,0) {$-$};

\node at (3.75,0) {$\frac{\eta}{z-w}$};
\draw (4.25,0) .. controls (4.75,0) .. (4.75,0.5);
\draw (4.75,-0.5) .. controls (4.75,0) .. (5.25,0);
\end{tikzpicture}
\end{center}
where we indicate the $R$-matrix at a crossing with an arc, signifying that it acts from south-west to north-east. Mathematically, these are to be read as string diagrams. Physically, the diagrams show two interacting particles: The diagram for the identity shows two particles passing through each other without interaction and the diagram for the permutation operator shows two particles repelling each other, weighted by the coupling constant and inverse distance.

We will mostly use Yang's convention, matching \cite{book:molev} and many other sources. The polynomial convention matches much of \cite{book:arutyunov:betheAnsatz}. We will later also make use of the unitary convention, which is arguably the most natural since it satisfies \emph{unitarity}:
\begin{equation*}
\check R(z-w) \check{R}(w-z) = 1,
\end{equation*}
illustrated with the diagram
~\\
\begin{center}
\begin{tikzpicture}
\draw (-0.5,0) -- (0,0);
\draw (0,-0.5) -- (0,0);
\draw (0.15,0) arc (0:90:0.15);
\draw (0.5,0.5) -- (1,0.5);
\draw (0.5,0.5) -- (0.5,1);
\draw (0.65,0.5) arc (0:90:0.15);
\draw (0,0) .. controls (0,0.5) .. (0.5,0.5);
\draw (0,0) .. controls (0.5,0) .. (0.5,0.5);
\node[left] at (-0.5,0) {$z$};
\node[below] at (0,-0.5) {$w$};

\node at (1.5,0.25) {$=$};

\draw (2.5,0) -- (3.5,1);
\draw (3,-0.5) -- (4,0.5);
\node[below left] at (2.5,0) {$z$};
\node[below left] at (3,-0.5) {$w$};
\end{tikzpicture}
\end{center}
which is essentially the second Reidemeister move. We can always switch from one convention to the other at the cost of normalization factors. The crucial difference between conventions lies in their analytic structure, which we will make use of extensively. More specifically, we summarize:
\begin{align*}
1 &= R(\infty) = \lim_{z \to \infty} \hat{R}(z)/z = \check R(\infty), \\
P &= -\operatorname{Res}_{z=0} R(z)/\eta = -\hat{R}(0)/\eta = \check R(0), \\
\Pi^+ &= R(-\eta)/2 = -\hat{R}(-\eta)/2\eta = \check R(-\eta), \\
\Pi^- &= R(\eta)/2 = \hat{R}(\eta)/2\eta = \operatorname{Res}_{z=\eta} \check R(z)/2\eta,
\end{align*}
where $\Pi^\pm = (1 \pm P)/2$ are the symmetrizer and antisymmetrizer respectively. This is where the $R$-matrix becomes non-invertible.
\end{remark}

\begin{definition}
\begin{enumerate}[label=(\roman*)]
\item There is an algebra map
\begin{equation*}
e^{-y\partial}: Y(\mathfrak{gl}_\ell) \to Y(\mathfrak{gl}_\ell)[y], \quad t_{ij}(z) \mapsto t_{ij}(z-y).
\end{equation*}
that specializes to a \emph{shift automorphism} of the Yangian for fixed values of $y$. This is possible because we can formally expand $(z-y)^{-r}$ as a power series in $z^{-1}$ such that the coefficients are polynomials in $y$:
\begin{equation*}
(z-y)^{-r} = \sum_{s=r}^\infty {s-1 \choose r-1} y^{s-r} z^{-s}.
\end{equation*}
This also yields a general evaluation homomorphism
\begin{equation*}
\operatorname{ev}: Y(\mathfrak{gl}_\ell) \to U(\mathfrak{gl}_\ell)[y], \quad t_{ij}(z) \mapsto \delta_{ij} + \frac{\eta e_{ij}}{z-y}.
\end{equation*}
\item There is the \emph{transposition automorphism} $T(z) \mapsto T^t(-z)$, or $t_{ij}(z) \mapsto t_{ji}(-z)$.
\item Given any $f(z) \in \C\llbracket z^{-1} \rrbracket$ with leading term equal to one, there is an automorphism $T(z) \mapsto f(z) T(z)$.
\item Given any $g \in \operatorname{GL}_\ell$, there is an automorphism $T(z) \mapsto g T(z) g^{-1}$.
\end{enumerate}
\end{definition}

\subsection{The dual Yangian of $\mathfrak{gl}_\ell$}

In addition to the Yangian $Y(\mathfrak{gl}_\ell)$, we will later make use of the \emph{dual Yangian} $Y^\vee(\mathfrak{gl}_\ell)$, which was studied in detail in the paper \cite{article:nazarov:2019}. Essentially, while the Yangian describes the disc at infinity with local coordinate $z^{-1}$, the dual Yangian describes the disc around zero with local coordinate $z$. We proceed parallel to the construction of the Yangian:

\begin{definition}
The \emph{incomplete dual Yangian}\index{Dual Yangian} for the complex Lie algebra $\mathfrak{gl}_\ell$, written $\widetilde Y^\vee(\mathfrak{gl}_\ell)$, is defined as the complex associative algebra with the following presentation: It has generators $t_{ij}^{(-r)}$ for $1 \leq i,j \leq \ell$ and $r \geq 1$. To describe the defining relations, we again let $t_{ij}^{(0)} = \delta_{ij}/\eta$ and introduce
\begin{equation*}
T^\vee(z) := \sum_{ij} e_{ij} \otimes t_{ij}^\vee(z) \in \End \C^\ell \otimes Y^\vee(\mathfrak{gl}_\ell)\llbracket z \rrbracket, \quad t_{ij}^\vee(z) = \eta \sum_{r \geq 0} t_{ij}^{(-r)} z^r \in Y^\vee(\mathfrak{gl}_\ell)\llbracket z \rrbracket,
\end{equation*}
as well as
\begin{equation*}
T_a^\vee(z) = \sum_{ij} \overset{1}{1} \otimes \cdots \otimes \overset{a}{e_{ij}} \otimes \cdots \otimes \overset{k}{1} \otimes \overset{0}{t_{ij}^\vee(z)}.
\end{equation*}
The defining relation of then is the \emph{TTR relation}:
\begin{equation}\label{equation:TTRRelation}
T_1^\vee(z) T_2^\vee(w) R_{12}(z-w) = R_{12}(z-w) T_2^\vee(w) T_1^\vee(z).
\end{equation}
We may equip the incomplete dual Yangian with a descending filtration by giving $t_{ij}^{(-r)}$ the degree $r$. Denote the $N$th filtered piece by $F_N Y^\vee(\mathfrak{gl}_\ell)$. The \emph{dual Yangian} $Y^\vee(\mathfrak{gl}_\ell)$ is then defined to be the completion of $\widetilde{Y}^\vee(\mathfrak{gl}_\ell)$ with respect to this filtration.
\end{definition}

Due to the topological nature of the dual Yangian, it will be convenient to work inside an alternative category of vector spaces discussed in \cite{article:costello:2013}:

\begin{definition}\label{definition:cfVect}
We let $\mathsf{cfVect}$ denote the category of complete filtered $\C$-vector spaces. Such vector spaces $V$ come equipped with a descending filtration
\begin{equation*}
V = F_0 V \supseteq F_1 V \supseteq \cdots
\end{equation*}
of subspaces such that the canonical map $V \to \varprojlim V/F_i V$ is an isomorphism. A morphism $f: V \to V'$ of complete filtered modules preserves the filtrations in the sense that $f(F_i V) \subset F_i V'$. The coproduct in this category is given by
\begin{equation*}
\bigoplus_k V_k = \varprojlim_i \bigoplus_k F_i V_k
\end{equation*}
and the tensor product is
\begin{equation*}
V \otimes V' := \varprojlim_{i,j} V/F_i V \otimes V'/F_j V'.
\end{equation*}
%If for a complete filtered vector space $V$ all $V/F_i V$ are finite-dimensional, then its (right) dual is given by
%\begin{equation*}
%V^\vee = \varinjlim_i F_i V^\vee, \quad F_i V^\vee := (V/F_i V)^*.
%\end{equation*}
\end{definition}

\begin{remark}
Note that we may equip any vector space $V$ with the trivial filtration $F_i V = 0$ for $i \geq 1$. In this case, morphisms, coproducts, tensor products, and duals reduce to their unfiltered definitions. For our purposes, $Y(\mathfrak{gl}_\ell)$ itself and all $Y(\mathfrak{gl}_\ell)$-modules except for the dual Yangian $Y^\vee(\mathfrak{gl}_\ell)$ are equipped with the trivial filtration. We will thus implicitly work inside $\mathsf{cfVect}$ whenever the dual Yangian turns up.
\end{remark}

\begin{prop}
The dual Yangian $Y^\vee(\mathfrak{gl}_\ell)$ is a Hopf algebra with comultiplication and counit
\begin{equation*}
\Delta: t_{ij}^\vee(z) \mapsto \sum_k t_{ki}^\vee(z) \otimes t_{jk}^\vee(z), \quad \epsilon: t_{ij}^\vee(z) \mapsto \delta_{ij}.
\end{equation*}
\end{prop}

\begin{proof}
This appears in \cite{article:nazarov:2019}.
\end{proof}

\begin{prop}
There is a non-degenerate Hopf pairing
\begin{equation*}
\langle \cdot,\cdot \rangle: Y(\mathfrak{gl}_\ell) \otimes Y^\vee(\mathfrak{gl}_\ell) \to \C.
\end{equation*}
\end{prop}

\begin{proof}
This appears in \cite{article:nazarov:2019}.
\end{proof}

\begin{lemma}
There is a basis $X_1,X_2,...$ of $Y(\mathfrak{gl}_\ell)$ and a basis $X_1^\vee,X_2^\vee,... \in Y^\vee(\mathfrak{gl}_\ell)$, both with increasing filtration degrees, such that $\langle X_i,X_j^\vee \rangle = \delta_{ij}$.
\end{lemma}

\begin{proof}
This appears in \cite{article:nazarov:2019}.
\end{proof}

\begin{definition}
The elements
\begin{equation}\label{equation:universalRMatrixN}
\mathcal{R}_N := \sum_{\deg X_i \leq N} X_i^\vee \otimes X_i \in Y^\vee(\mathfrak{gl}_\ell)/F_{N+1} Y^\vee(\mathfrak{gl}_\ell) \otimes Y(\mathfrak{gl}_\ell)
\end{equation}
define the \emph{canonical element} $\mathcal{R} = \sum_i X_i^\vee \otimes X_i \in Y^\vee(\mathfrak{gl}_\ell) \otimes Y(\mathfrak{gl}_\ell)$.
\end{definition}

%\begin{definition}
%The \emph{double Yangian}\index{Double Yangian} for the complex Lie algebra $\mathfrak{gl}_\ell$, written $DY(\mathfrak{gl}_\ell)$, is defined as the unital associative $\C[\eta]$-algebra with generators $t_{ij}^{(r)}$ for $1 \leq i,j \leq \ell$ and $r \in \Z$, forming matrices $T(z)$ and $T^\vee(z)$ satisfying the RTT and TTR relations (\ref{equation:RTTRelation}) and (\ref{equation:TTRRelation}) for the Yangian and dual Yangian, respectively, plus the additional relation
%\begin{equation}\label{equation:TRTRelation}
%T_{1}(z) R_{12}(z-w) T_2^\vee(w) = T_2^\vee(w) R_{12}(z-w) T_{1}(z) \in \overset{1}{\End V} \otimes \overset{0}{DY(\mathfrak{gl}_\ell)\llbracket z^{-1},w \rrbracket} \otimes \overset{2}{\End V},
%\end{equation}
%called the \emph{TRT relation}.
%\end{definition}
%
%It is a result of \cite{article:wendlandt:2022} that the double Yangian is a realization of the quantum double of the Yangian.
 
\subsection{Representations of the Yangian}

We briefly recall the representation theory of $\mathfrak{gl}_\ell$ before moving on to the Yangian. Consider a representation $V$ of $U(\mathfrak{gl}_\ell)$. A non-zero element $\omega \in V$ is a highest weight vector with highest weight $\lambda = (\lambda_1,...,\lambda_\ell)$ for $\lambda_i \in \C$ if the following relations hold:
\begin{align*}
e_{ij} \omega &= 0, \quad 1 \leq i < j \leq \ell \\
e_{ii} \omega &= \lambda_i \omega, \quad 1 \leq i \leq \ell.
\end{align*}
If $V$ is generated by $\omega$, $V$ is a highest weight representation with highest weight $\lambda$. Clearly, any highest weight representation is a quotient of the Verma module $M(\lambda)$, which is defined as $U(\mathfrak{gl}_\ell)$ quotiented by the left ideal generated by the coefficients of $e_{ij}$ for $i<j$ as well as $e_{ii} - \lambda_i$. The Verma module has a unique maximal submodule, so that it has a unique simple quotient, which is denoted $L(\lambda)$. These are finite-dimensional if and only if $\lambda_i - \lambda_{i+1} \in \Z_+$ for $i=1,...,\ell-1$, which means that, up to permutation, $\lambda$ can be thought of as a complex number $\lambda_1$ together with a Young diagram with at most $\ell$ rows, see appendix \ref{appendix:youngdiagrams} for more on Young diagrams. They exhaust all finite-dimensional irreducible polynomial representations of $U(\mathfrak{gl}_\ell)$.

We now proceed similarly with the Yangian:

\begin{definition}
Let $V$ be a representation of $Y(\mathfrak{gl}_\ell)$. A non-zero element $\omega \in V$ is of \emph{highest weight} $\lambda(z) = (\lambda_1(z),...,\lambda_\ell(z))$ for $\lambda_i(z) \in \C\llbracket z^{-1} \rrbracket$ if the following relations hold:
\begin{align*}
t_{ij}(z) \omega &= 0, \quad 1 \leq i < j \leq \ell \\
t_{ii}(z) \omega &= \lambda_i(z) \omega, \quad 1 \leq i \leq \ell.
\end{align*}
If $V$ is generated by $\omega$, we call $V$ a \emph{highest weight representation} with highest weight $\lambda(z)$. Again, any highest weight representation is a quotient of the \emph{Verma module} $M(\lambda(z))$, which is just $Y(\mathfrak{gl}_\ell)$ quotiented by the left ideal generated by the coefficients of $t_{ij}(z)$ for $i<j$ as well as $t_{ii}(z) - \lambda_i(z)$. The Verma module has a unique maximal submodule, so that it has a unique simple quotient, which we denote by $L(\lambda(z))$.
\end{definition}

\begin{theorem}
Every finite-dimensional irreducible representation of $Y(\mathfrak{gl}_\ell)$ is a highest weight representation of the form $L(\lambda(z))$ for some highest weight $\lambda(z)$ and has a unique highest weight vector $\omega$ up to rescaling.
\end{theorem}

\begin{proof}
This is theorem 3.2.7 of \cite{book:molev}.
\end{proof}

\begin{theorem}
The irreducible highest weight representation $L(\lambda(z))$ of $Y(\mathfrak{gl}_\ell)$ is finite-dimensional if and only if
\begin{equation*}
\frac{\lambda_i(z)}{\lambda_{i+1}(z)} = \frac{p_i(z+\eta)}{p_i(z)}
\end{equation*}
for $i=1,...,\ell-1$ and unique monic polynomials $p_i(z) \in \C[z]$ called \emph{Drinfeld polynomials}.
\end{theorem}

\begin{proof}
This is theorem 3.4.1 of \cite{book:molev}. We consider the case $\ell = 2$. Essentially, one first finds a power series $f(z) \in \C\llbracket z^{-1} \rrbracket$ such that $f(z) \lambda_1(z)$ and $f(z) \lambda_2(z)$ are polynomials, so that we can say without loss of generality that
\begin{equation*}
\lambda_1(z) = (1+\alpha_1 z^{-1}) \cdots (1+\alpha_k z^{-1}), \quad \lambda_2(z) = (1+\beta_1 z^{-1}) \cdots (1+\beta_k z^{-1}).
\end{equation*}
for certain complex numbers $\alpha_1,...,\alpha_k,\beta_1,...,\beta_k$. One shows that finite-dimensionality implies $(\alpha_i - \beta_i)/\eta \in \Z_+$ for all $i=1,...,k$ after some renumbering. Define the \emph{string}
\begin{equation*}
S(\alpha_i,\beta_i) := \{ \beta_i, \beta_i+\eta, ..., \alpha_i-2\eta, \alpha_i-\eta \}.
\end{equation*}
We now set
\begin{equation*}
p(z) := \prod_{i=1}^k \prod_{\gamma \in S(\alpha_i,\beta_i)} (z + \gamma),
\end{equation*}
which fulfills $\lambda_1(z) / \lambda_2(z) = p(z+\eta) / p(z)$ as can be seen by their poles and zeros.
\end{proof}

\begin{corollary}
Finite-dimensional irreducible representations of $Y(\mathfrak{gl}_\ell)$ are parametrized by tuples $(f(z),p_1(z),...,p_{\ell-1}(z))$ for $f(z)$ a power series in $z^{-1}$ with constant term one and $p_1(z),...,p_{\ell-1}(z)$ monic polynomials.
\end{corollary}

\begin{proof}
The $p_i(z)$ correspond to the Drinfeld polynomials and $f(z)$ to $\lambda_\ell(z)$.
\end{proof}

\begin{definition}
Given a weight $\lambda = (\lambda_1,...,\lambda_\ell) \in \C^\ell$ for $\mathfrak{gl}_\ell$, we can pull the irreducible representation $L(\lambda)$ of $\mathfrak{gl}_\ell$ back along the evaluation homomorphism. Due to surjectivity of the evaluation homomorphism, the resulting representation of $Y(\mathfrak{gl}_\ell)$ will still be irreducible and it will be a highest weight representation with highest weight components $\lambda_i(z) = 1 + \eta \lambda_i z^{-1}$. For simplicity, we also write $L(\lambda)$ for this $Y(\mathfrak{gl}_\ell)$-module. Such modules are called \emph{evaluation modules}\index{Evaluation module}. When they are finite-dimensional, they have Drinfeld polynomials
\begin{equation*}
p_i(z) = (z+\eta \lambda_{i+1})(z+\eta \lambda_{i+1}+\eta) \cdots (z+\eta \lambda_i-2\eta)(z+\eta \lambda_i-\eta),
\end{equation*}
which is makes sense due to $(\lambda_i - \lambda_{i+1})/\eta \in \Z_+$. We may twist evaluation modules by the transposition and obtain modules we denote by $L(\lambda)^t$. The shift map $Y(\mathfrak{gl}_\ell) \to Y(\mathfrak{gl}_\ell)[y]$ defines modules $L(\lambda)^t[y]$ which specialize to $L(\lambda)_y^t$ for $y \in \C$.
\end{definition}

\begin{remark}
Let $y_1,...,y_N \in \C$ and consider a tensor product
\begin{equation*}
L(\lambda^{(1)})_{y_1}^t \otimes \cdots \otimes L(\lambda^{(N)})_{y_N}^t,
\end{equation*}
which inherits the structure of a $Y(\mathfrak{gl}_\ell)$-module via the coproduct. Let $\omega_j$ denote the highest weight vector of $L(\lambda^{(j)})_{y_j}^t$, respectively, and define $\omega := \omega_1 \otimes \cdots \otimes \omega_N$, which is a highest weight vector with highest weight components
\begin{equation*}
\lambda_i(z) := \left( 1 - \frac{\eta \lambda_i^{(1)}}{z-y_1} \right) \cdots \left( 1 - \frac{\eta \lambda_i^{(N)}}{z-y_N} \right).
\end{equation*}
Note that these weight components are not first order polynomials anymore. This is because such representations are genuine representations of $Y(\mathfrak{gl}_\ell)$, not of $\mathfrak{gl}_\ell$. Physically, this reflects the fact that local sites usually transform in representations of $\mathfrak{gl}_\ell$ while the extended Yangian symmetry acts non-locally, \emph{i.e.} on multiple tensorands. Hence, a large class of physically relevant representations of the Yangian are given by representations of this form:
\end{remark}

\begin{definition}
Representations of the form
\begin{equation*}
L(\lambda^{(1)})_{y_1}^t \otimes \cdots \otimes L(\lambda^{(N)})_{y_N}^t,
\end{equation*}
as above are called \emph{monodromy representations}\index{Monodromy representation} with \emph{inhomogeneities} $y_1,...,y_N$. The highest weight vector $\omega$ is called the \emph{pseudovacuum}.
\end{definition}

We now take a closer look at how transfer matrices act on monodromy representations. Let us introduce the notation $V^-[y] := L(\ydiagram{1})[y]$ and $V^+[y] := L(\ydiagram{1})^t[y]$ and similarly $V_y^- := L(\ydiagram{1})_y$ and $V_y^+ := L(\ydiagram{1})_y^t$. Our starting observation is the following:

\begin{lemma}
The generator matrix $T(z)$ acts on $V_y^+$ via the $R$-matrix:
\begin{equation*}
R(z-y) = 1 - \frac{\eta P}{z-y}.
\end{equation*}
\end{lemma}

\begin{proof}
Inserting the definition of evaluation modules as well as the transposition and shift automorphisms, we see that $T(z)$ acts as
\begin{equation*}
\sum_{ij} \bigg( \delta_{ij} - \frac{\eta e_{ji}}{z-y} \bigg) \otimes e_{ij}
= \sum_{i} e_{ii} \otimes e_{ii} - \frac{\eta}{z-y} \sum_{ij} e_{ji} \otimes e_{ij} = 1 - \frac{\eta P}{z-y}.
\end{equation*}
\end{proof}

\begin{remark}
This shows that the RTT relation (\ref{equation:RTTRelation}) in the fundamental representation becomes the \emph{quantum Yang-Baxter equation}\index{Quantum Yang-Baxter equation}
\begin{equation*}
R_{12}(z-w) R_{13}(z) R_{23}(w) = R_{23}(w) R_{13}(z) R_{12}(z-w) \in (\End V)^{\otimes 3},
\end{equation*}
where the subscript again denotes which spaces the $R$-matrix acts on. Diagrammatically, this reads
\begin{center}
\begin{tikzpicture}
\draw (0,-0.5) -- (0,1.5);
\draw (-0.5,0) -- (0,0);
\draw (0.15,0) arc (0:90:0.15);
\draw (-0.5,1) -- (0,1);
\draw (0.15,1) arc (0:90:0.15);
\draw (0,0) .. controls (0.5,0) .. (1,0.5);
\draw (0,1) .. controls (0.5,1) .. (1,0.5);
\draw (1,0.5) .. controls (1.5,1) .. (2,1);
\draw (1,0.5) .. controls (1.5,0) .. (2,0);
\draw (1+.1,0.5-.1) arc (-45:45:0.15);
\node[left] at (-0.5,0) {$w$};
\node[left] at (-0.5,1) {$z$};
\node[below] at (0,-0.5) {$0$};

\node at (2.5,0.5) {$=$};

\draw (5,-0.5) -- (5,1.5);
\draw (5.5,0) -- (5,0);
\draw (5.15,0) arc (0:90:0.15);
\draw (5.5,1) -- (5,1);
\draw (5.15,1) arc (0:90:0.15);
\draw (5,0) .. controls (4.5,0) .. (4,0.5);
\draw (5,1) .. controls (4.5,1) .. (4,0.5);
\draw (4,0.5) .. controls (3.5,1) .. (3,1);
\draw (4,0.5) .. controls (3.5,0) .. (3,0);
\draw (4+.1,0.5-.1) arc (-45:45:0.15);
\node[right] at (5.5,0) {$z$};
\node[right] at (5.5,1) {$w$};
\node[below] at (5,-0.5) {$0$};
\end{tikzpicture}
\end{center}
which is the third Reidemeister move.
\end{remark}

\begin{lemma}
Similarly, $T(z)$ acts on $V_y^-$ via
\begin{equation*}
R^t(z-y) := 1 + \frac{\eta P^t}{z-y},
\end{equation*}
where the superscript $t$ denotes transposition in the second space, \emph{i.e.} $P^t = \sum_{ij} e_{ij} \otimes e_{ij}$.
\end{lemma}

Having $V_y^\pm$ under our belt, let us look at monodromy representations of the type
\begin{equation*}
V_{y_1}^+ \otimes \cdots \otimes V_{y_N}^+,
\end{equation*}
which we call \emph{fundamental}.

\begin{prop}
The generator matrix $T(z)$ acts on fundamental monodromy representations via the \emph{monodromy matrix}\index{Monodromy matrix}
\begin{equation*}
M(z) := R_{0N}(z-y_N) \cdots R_{01}(z-y_1),
\end{equation*}
where $0$ is the auxiliary space index and $1,...,N$ are quantum space indices. In terms of diagrams, this reads
\begin{center}
\begin{tikzpicture}
\node at (-2,0) {$M(z) =$};
\draw (-0.5,0) -- (0.5,0);
\draw (0,-0.5) -- (0,0.5);
\draw (0.15,0) arc (0:90:0.15);
\node[left] at (-0.5,0) {$z$};
\node[below] at (0,-0.5) {$y_1$};
\draw (0.5,0) -- (1.7,0);
\draw (1,-0.5) -- (1,0.5);
\draw (1.15,0) arc (0:90:0.15);
\node[below] at (1,-0.5) {$y_2$};
\node at (2,0) {$\cdots$};
\draw (2.25,0) -- (3.5,0);
\draw (3,-0.5) -- (3,0.5);
\draw (3.15,0) arc (0:90:0.15);
\node[below] at (3,-0.5) {$y_N$};
\end{tikzpicture}
\end{center}
\end{prop}

\begin{proof}
This follows from the previous lemma and the formula for the coproduct (\ref{equation:coproduct}).
\end{proof}

We remark that $V_y^-$ and $V_y^+$ are dual as $U(\mathfrak{gl}_\ell)$-modules, as they are both given by $\C^\ell$ with the standard and negative transposed action, respectively. This duality extends to the Yangian up to a shift of the spectral parameter:

\begin{lemma}
The standard scalar product on $\C^\ell$ gives a $Y(\mathfrak{gl}_\ell)$-linear map
\begin{equation*}
V_{y+\ell \eta}^- \otimes V_y^+ \to \C, \quad e_p \otimes e_q \mapsto \delta_{pq}.
\end{equation*}
\end{lemma}

\begin{proof}
The Yangian generator $t_{ij}(z)$ acts on $V_{y_1}^- \otimes V_{y_2}^+$ in the following way:
\begin{align*}
&\sum_k \left( \delta_{ki}+\frac{\eta e_{ki}}{z-y_1} \right) e_p \otimes \left( \delta_{jk}-\frac{\eta e_{kj}}{z-y_2} \right) e_q \\
&= \sum_k \delta_{ki} e_p \otimes \delta_{jk} e_q + \frac{\eta}{z-y_1} \sum_k e_{ki} e_p \otimes \delta_{jk} e_q \\
& \quad \quad - \frac{\eta}{z-y_2} \sum_k \delta_{ki} e_p \otimes e_{kj} e_q
- \frac{\eta^2}{(z-y_1)(z-y_2)} \sum_k e_{ki} e_p \otimes e_{kj} e_q \\
&= \delta_{ij} e_p \otimes e_q
+ \frac{\eta}{z-y_1} \delta_{ip} e_j \otimes e_q
- \frac{\eta}{z-y_2} \delta_{jq} e_p \otimes e_i
- \frac{\eta^2}{(z-y_1)(z-y_2)} \delta_{ip} \delta_{jq} \sum_k e_k \otimes e_k
\end{align*}
which the standard scalar product maps to
\begin{equation*}
\delta_{ij} \delta_{pq} \left( 1
+ \frac{\eta}{z-y_1}
- \frac{\eta}{z-y_2}
- \frac{\eta^2 \ell}{(z-y_1)(z-y_2)} \right).
\end{equation*}
This reduces to $\delta_{ij} \delta_{pq}$ when $y_1 = y_2+\ell \eta$.
\end{proof}

\begin{lemma}
The standard basis of $\C^\ell$ gives a $Y(\mathfrak{gl}_\ell)$-linear map
\begin{equation*}
\C \to V_y^+ \otimes V_{y+\ell \eta}^-, \quad 1 \mapsto \sum_p e_p \otimes e_p.
\end{equation*}
\end{lemma}

\begin{proof}
The Yangian generator $t_{ij}(z)$ acts in the following way:
\begin{align*}
&\sum_p \sum_k \left( \delta_{ki}-\frac{\eta e_{ik}}{z-y_1} \right) e_p \otimes \left( \delta_{jk}+\frac{\eta e_{jk}}{z-y_2} \right) e_p \\
&= \sum_p \sum_k \delta_{ki} e_p \otimes \delta_{jk} e_p - \frac{\eta}{z-y_1} \sum_p \sum_k e_{ik} e_p \otimes \delta_{jk} e_p \\
& \quad \quad + \frac{\eta}{z-y_2} \sum_p \sum_k \delta_{ki} e_p \otimes e_{jk} e_p
- \frac{\eta^2}{(z-y_1)(z-y_2)} \sum_p \sum_k e_{ik} e_p \otimes e_{jk} e_p \\
&= \delta_{ij} \sum_p e_p \otimes e_p
- \frac{\eta}{z-y_1} \sum_p \delta_{jp} e_i \otimes e_p
+ \frac{\eta}{z-y_2} \sum_p \delta_{ip} e_p \otimes e_j
- \frac{\eta^2 \ell}{(z-y_1)(z-y_2)} e_i \otimes e_j \\
&= \delta_{ij} \sum_p e_p \otimes e_p
+ \left(- \frac{\eta}{z-y_1}
+ \frac{\eta}{z-y_2}
- \frac{\eta^2 \ell}{(z-y_1)(z-y_2)} \right) e_i \otimes e_j
\end{align*}
The second term becomes zero when $y_2 = y_1 + \ell \eta$.
\end{proof}

\begin{prop}
The left and right duals of $V_y^+$ are $V_{y-\ell\eta}^-$ and $V_{y+\ell\eta}^-$.
\end{prop}

\begin{proof}
The fact that $V_{y+\ell\eta}^-$ is the right dual for $V_y^+$ follows from the previous two lemmata. Twisting by the transposition automorphism of the Yangian turns $V_y^\pm$ into $V_y^\mp$, showing that $V_{y-\ell\eta}^-$ is the left dual by the same argument.
\end{proof}

\subsection{The Heisenberg model}

\begin{definition}
The \emph{twisted inhomogeneous Heisenberg $\mathfrak{gl}_\ell$-spin chain} of \emph{length} $N$ with invertible \emph{twist matrix} $g = \operatorname{diag}(\gamma_1,...,\gamma_\ell)$ and \emph{inhomogeneities $y_1,...,y_N$}, or \emph{Heisenberg model}\index{Heisenberg model} for short, has as Hilbert space the fundamental monodromy representations of the Yangian with inhomogeneities $y_1,...,y_N$. Here $\eta$ plays the role of Planck's constant. The generating function for the Hamiltonians is the \emph{$g$-twisted transfer matrix}\index{Transfer matrix}
\begin{equation*}
\tau^g(z) := \operatorname{tr}_0 g_0 T(z),
\end{equation*}
where $0$ denotes the auxiliary space index. In the fundamental monodromy representation, this takes the form
\begin{equation*}
\tau^g(z) = \operatorname{tr}_0 g_0 R_{0N}(z-y_N) \cdots R_{01}(z-y_1),
\end{equation*}
or, using the the unitary convention,
\begin{equation*}
\check \tau^g(z) = \operatorname{tr}_0 g_0 \check R_{0N}(z-y_N) \cdots \check R_{01}(z-y_1).
\end{equation*}
The corresponding diagram reads
~\\
\begin{center}
\begin{tikzpicture}
\draw[red,dashed] (-0.5,-0.5) -- (-0.5,0.5);
\node at (-2,0) {$\tau^g(z) =$};
\draw (-0.5,0) -- (0.5,0);
\draw (0,-0.5) -- (0,0.5);
\draw (0.15,0) arc (0:90:0.15);
\node[left] at (-0.5,0) {$z$};
\node[below] at (0,-0.5) {$y_1$};
\draw (0.5,0) -- (1.7,0);
\draw (1,-0.5) -- (1,0.5);
\draw (1.15,0) arc (0:90:0.15);
\node[below] at (1,-0.5) {$y_2$};
\node at (2,0) {$\cdots$};
\draw (2.25,0) -- (3.5,0);
\draw (3,-0.5) -- (3,0.5);
\draw (3.15,0) arc (0:90:0.15);
\node[below] at (3,-0.5) {$y_N$};
\draw[red,dashed] (3.5,-0.5) -- (3.5,0.5);
\end{tikzpicture}
\end{center}
where the dashed red lines indicate the twist matrix and are identified so that the whole diagram wraps around a cylinder, yielding the trace over the auxiliary space. Assuming that all poles are simple, one now defines commuting \emph{non-local Hamiltonians}\index{Non-local Hamiltonians} by
\begin{align*}
H_i 
&:= -\operatorname{Res}_{z=y_i} \tau^g(z)/\eta \\
&= \operatorname{tr}_0 g_0 R_{0N}(y_i-y_N) \cdots R_{0,i+1}(y_i-y_{i+1}) P_{0i} R_{0,i-1}(y_i-y_{i-1}) \cdots R_{01}(y_i-y_1) \\
&= \operatorname{tr}_0 R_{0,i-1}(y_i-y_{i-1}) \cdots R_{01}(y_i-y_1) g_0 R_{0N}(y_i-y_N) \cdots R_{0,i+1}(y_i-y_{i+1}) P_{0i} \\
&= \operatorname{tr}_0 P_{0i} R_{i,i-1}(y_i-y_{i-1}) \cdots R_{i1}(y_i-y_1) g_i R_{iN}(y_i-y_N) \cdots R_{i,i+1}(y_i-y_{i+1}) \\
&= R_{i,i-1}(y_i-y_{i-1}) \cdots R_{i1}(y_i-y_1) g_i R_{iN}(y_i-y_N) \cdots R_{i,i+1}(y_i-y_{i+1}),
\end{align*}
similarly
\begin{align*}
\check H_i
&:= \check \tau^g(y_i) = \bigg( \prod_{i \neq j} \frac{y_i-y_j}{y_i-y_j-\eta} \bigg) H_i \\
&= \check R_{i,i-1}(y_i-y_{i-1}) \cdots \check R_{i1}(y_i-y_1) g_i \check R_{iN}(y_i-y_N) \cdots \check R_{i,i+1}(y_i-y_{i+1}).
\end{align*}
As an example, for $i=2$, this yields the diagram
~\\
\begin{center}
\begin{tikzpicture}
\draw[red,dashed] (-0.5,-0.5) -- (-0.5,0.5);
\node at (-1.5,0) {$H_2 =$};
\draw (-0.5,0) -- (0.5,0);
\draw (0,-0.5) -- (0,0.5);
\draw (0.15,0) arc (0:90:0.15);
\node[below] at (0,-0.5) {$y_1$};
\draw (0.5,0) .. controls (1,0) .. (1,0.5);
\draw (1,-0.5) .. controls (1,0) .. (1.5,0);
\draw (1.5,0) -- (1.7,0);
\node[below] at (1,-0.5) {$y_2$};
\node at (2,0) {$\cdots$};
\draw (2.25,0) -- (3.5,0);
\draw (3,-0.5) -- (3,0.5);
\draw (3.15,0) arc (0:90:0.15);
\node[below] at (3,-0.5) {$y_N$};
\draw[red,dashed] (3.5,-0.5) -- (3.5,0.5);
\end{tikzpicture}
\end{center}
To get a Hamiltonian describing local interactions, we have to restrict to $y_1,...,y_N = 0$. Define the operators
\begin{align*}
\mathcal{P} &:= g_1 P_{12} \cdots P_{N-1,N} \text{ and} \\
\mathcal{H} &:= -\sum_{i=1}^{N-1} P_{i,i+1} - g_1 g_N^{-1} P_{1N}.
\end{align*}
We call $\mathcal{P}$ the \emph{total momentum} and $\mathcal{H}$ the \emph{local Hamiltonian}\index{Local Hamiltonian}.
\end{definition}

\begin{prop}
Let $y_1,...,y_N = 0$. Then $\tau^g(z)$ has the following expansion around $z=0$:
\begin{equation*}
\tau^g(z) = \frac{\eta^N}{z^N} \mathcal{P} - \frac{\eta^{N-1}}{z^{N-1}} \mathcal{H} \mathcal{P} + \mathcal{O}(z^{-N+2})
\end{equation*}
\end{prop}

\begin{proof}
Let us expand $z^N \tau^g(z)$ around $z = 0$. To zeroth order, we have
\begin{align*}
z^N \tau^g(z)|_{z=0}
&= \eta^N \operatorname{tr}_0 g_0 P_{0N} \cdots P_{01} \\
&= \eta^N \operatorname{tr}_0 P_{0N} \cdots P_{01} g_0 \\
&= \eta^N \operatorname{tr}_0 P_{12} \cdots P_{N-1,N} g_N P_{0N} \\
&= \eta^N \operatorname{tr}_0 g_1 P_{12} \cdots P_{N-1,N} P_{0N} \\
&= \eta^N g_1 P_{12} \cdots P_{N-1,N} = \eta^N \mathcal{P}.
\end{align*}
To first order, we have
\begin{align*}
\frac{\partial}{\partial z} z^N \tau^g(z)|_{z=0}
&= \eta^{N-1} \sum_i \operatorname{tr}_0 g_0 P_{0N} \cdots P_{0,i+1} P_{0,i-1} \cdots P_{01} \\
&= \eta^{N-1} \sum_i \operatorname{tr}_0 P_{0N} \cdots P_{0,i+1} P_{0,i-1} \cdots P_{01} g_0 \\
&= \eta^{N-1} \sum_i \operatorname{tr}_0 P_{12} \cdots P_{i-1,i-2} P_{i-1,i+1} P_{i+1,i+2} \cdots P_{N-1,N} g_N P_{0N} \\
&= \eta^{N-1} \sum_i g_1 P_{12} \cdots P_{i-1,i-2} P_{i-1,i+1} P_{i+1,i+2} \cdots P_{N-1,N}.
\end{align*}
Now observe for $1 \leq i < N$:
\begin{align*}
& g_1 P_{12} \cdots P_{i-1,i-2} P_{i-1,i+1} P_{i+1,i+2} \cdots P_{N-1,N} \mathcal{P}^{-1} \\
&= g_1 P_{12} \cdots P_{i-2,i-1} P_{i-1,i+1} P_{i+1,i} P_{i,i-1} P_{i-1,i-2} \cdots P_{21} g_1^{-1} \\
&= P_{12} \cdots P_{i-2,i-1} P_{i-1,i+1} P_{i+1,i} P_{i,i-1} P_{i-1,i-2} \cdots P_{21} g_1 g_1^{-1} \\
&= P_{12} \cdots P_{i-2,i-1} P_{i-1,i+1} P_{i+1,i-1} P_{i+1,i} P_{i-1,i-2} \cdots P_{21} \\
&= P_{12} \cdots P_{i-2,i-1} P_{i+1,i} P_{i-1,i-2} \cdots P_{21} = P_{i,i+1},
\end{align*}
while $i=N$ gives
\begin{align*}
& g_1 P_{12} \cdots P_{N-2,N-1} \mathcal{P}^{-1} \\
&= g_1 P_{12} \cdots P_{N-2,N-1} P_{N,N-1} P_{N-1,N-2} \cdots P_{21} g_1^{-1} \\
&= g_1 P_{1N} g_1^{-1} = g_1 g_N^{-1} P_{1N}.
\end{align*}
Hence $z^N \tau(z) = \eta^N \mathcal{P} - z \eta^{N-1} \mathcal{H} \mathcal{P} + \mathcal{O}(z^2)$.
\end{proof}

In the case $\ell=2$, we can further rewrite this in a way that makes apparent how the Hamiltonian of the Heisenberg model describes twisted-periodic alignment of nearest neighbor spins, \emph{i.e.} ferromagnetic materials:

\begin{corollary}
Let $\ell = 2$ and $\sigma^x,\sigma^y,\sigma^z$ be the Pauli matrices. Then
\begin{align*}
\mathcal{H} = &- \frac{N-1}{2} - \frac{1}{2} \sum_{i=1}^{N-1} \left( \sigma_i^x \sigma_{i+1}^x + \sigma_i^y \sigma_{i+1}^y + \sigma_i^z \sigma_{i+1}^z \right) \\
&- \frac{1}{2} g_1 g_N^{-1} - \frac{1}{2} \left( g_1 \sigma_1^x g_N^{-1} \sigma_N^x + g_1 \sigma_1^y g_N^{-1} \sigma_N^y + g_1 \sigma_1^z g_N^{-1} \sigma_N^z \right).
\end{align*}
\end{corollary}

\begin{proof}
This follows from the well-known identity $1 + \sigma^x \otimes \sigma^x + \sigma^y \otimes \sigma^y + \sigma^z \otimes \sigma^z = 2P$.
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Duality} \label{chapter:duality}

\section{Quantum-classical duality from functional relations}

There is an enormous body of work on solving the Heisenberg model, \emph{i.e.} diagonalizing its Hamiltonians, by various loosely related methods. Prime focus is given to a variety of approaches called \emph{Bethe ansätze}, particularly the algebraic Bethe ansatz, see \cite{book:arutyunov:betheAnsatz}, which produces eigenvectors from the pseudovacuum using ladder operators supplemented by auxiliary equations called \emph{Bethe equations}. In the coming sections, we will focus on an orthogonal approach employing functional relations between transfer matrices. This approach is originally due to \cite{article:kuniba:1994} and has been further developed in \cite{book:arutyunov:betheAnsatz}, where it is shown how the Lax matrix of the classical rational Ruijsenaars-Schneider model secretly controls the fusion relations, giving a first hint of quantum-classical duality.

\subsection{Functional relations}

Our key to solving the Heisenberg model is to enlargen our consideration of the $g$-twisted transfer matrix $\tau^g(z)$ to a large commutative subalgebra that contains it and make use of functional relations inside this subalgebra to arrive at a set of polynomial equations, the \emph{spectral equation}, that the eigenvalues of the non-local Hamiltonians $H_1,...,H_N$, \emph{i.e.} the residues of $\tau^g(z)$, must satisfy. To this end, we consider the \emph{Bethe subalgebra}:

\begin{definition}
The \emph{$g$-twisted Bethe subalgebra}\index{Bethe subalgebra} is the subalgebra $B^g(\mathfrak{gl}_\ell)$ of $Y(\mathfrak{gl}_\ell)$ generated by the coefficients of the higher $g$-twisted transfer matrices $\tau_\lambda^g(z)$, where $\lambda$ ranges over Young diagrams.
\end{definition}

\begin{theorem}
The Bethe subalgebra $B^g(\mathfrak{gl}_\ell)$ is a maximal commutative subalgebra of $Y(\mathfrak{gl}_\ell)$ whenever $g$ has simple spectrum.
\end{theorem}

\begin{proof}
This appears in \cite{article:nazarov:1996}.
\end{proof}

Now, we have left out what we mean by the higher $g$-twisted transfer matrices $\tau_\lambda^g(z)$. The basic idea is to take the definition of the usual transfer matrix and switch the auxiliary space from the fundamental representation to a higher representation labeled by a Young diagram $\lambda$. This defines the higher transfer matrices $\tau_\lambda^g(z)$. In particular of course, $\tau_{\ydiagram{1}}^g(z)$ will coincide with the usual transfer matrix.

Let us start with the construction of \emph{fusion projectors} \cite{article:molev:2008}, originating in works such as \cite{article:kulish:1981}. Fix a standard Young tableau $t_\lambda$ of shape $\lambda$ with content vector $(c_1,...,c_k)$ and let
\begin{equation*}
R(z_1,...,z_k) := \overset{\longrightarrow}{\prod_{i<j}} R_{ij}(z_i-z_j),
\end{equation*}
where the arrow over the product indicates multiplication in lexicographical order. We note that successive application of the RTT relation (\ref{equation:RTTRelation}) yields
\begin{equation}\label{equation:higherRTT}
R(z_1,...,z_k) T_1(z_1) \cdots T_k(z_k) = T_k(z_k) \cdots T_1(z_1) R(z_1,...,z_k).
\end{equation}

\begin{prop}\label{prop:fusionDecomposition}
Taking the following consecutive limits of $R(z_1,...,z_k)$ yields a well-defined \emph{fusion projector}\index{Fusion projector}
\begin{equation*}
\Pi_{t_\lambda} = \frac{\dim S(\lambda)}{k!} \lim_{z_k \to \eta c_k} \cdots \lim_{z_1 \to \eta c_1} R(z_1,...,z_k).
\end{equation*}
\end{prop}

\begin{proof}
See \cite{article:molev:2008} or section 6.4 in \cite{book:molev}.
\end{proof}

\begin{example}
For $\Pi_{t_{[1^k]}}$ and $\Pi_{t_{[k]}}$, we respectively obtain the (anti-)symmetrizers:
\begin{equation*}
\Pi_{1...k}^\pm = \frac{1}{k!} \overset{\longrightarrow}{\prod_{i < j}} \bigg( 1 \pm \frac{P_{ij}}{j-i} \bigg) = \frac{1}{k!} \prod_{i=1}^k (1 \pm Y_i).
\end{equation*}
where $Y_i$ are the Jucys-Murphy elements. We will also make use of
\begin{equation}\label{equation:hookProjector}
\Pi_{t_{[2,1^{k-1}]}} = \frac{1}{(k+1)!} (k+Y_{k+1}) \prod_{i=1}^k (1-Y_i) = \frac{1}{k+1} (k + Y_{k+1}) \Pi_{t_{[1^k]}},
\end{equation}
where we have used the column tablau. These projectors can be checked to satisfy
\begin{equation}\label{equation:LRRule}
\Pi_{t_{[1^k]}} \otimes 1 = \Pi_{t_{[1^{k+1}]}} + \Pi_{t_{[2,1^{k-1}]}},
\end{equation}
consistent with the Littlewood-Richardson rule for tensor products of Young diagrams.
\end{example}

\begin{prop}
The fusion projectors form a complete set of primitive orthogonal idempotents on $V_{y+\eta c_1}^+ \otimes \cdots \otimes V_{y+\eta c_k}^+$ such that $L_{t_\lambda} := \operatorname{im} \Pi_{t_\lambda}$ is a $Y(\mathfrak{gl}_\ell)$-submodule isomorphic to $L(\lambda)_y^t$.
\end{prop}

\begin{proof}
This is is proposition 6.5.1 in \cite{book:molev}.
%It follows from the relation
%\begin{equation*}
%R_{01}(z-\eta c_1) \cdots R_{0k}(z-\eta c_k) \Pi_{t_\lambda} = \Pi_{t_\lambda} \big( 1 - \eta (P_{01} + \cdots + P_{0N}) z^{-1} \big)
%\end{equation*}
%and the fact that $T(z)$ acts on $L(\lambda)_0^t$ via $1 - \eta (P_{01} + \cdots + P_{0N}) z^{-1}$.
\end{proof}

This \emph{fusion procedure}\index{Fusion procedure} makes it possible to reduce calculations in higher representations to tensor products of $V_y^+$. Similarly, the fusion projectors allow us to define higher comodules from the basic left coaction
\begin{equation*}
\C^\ell \to Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \otimes \C^\ell, \quad e_j \mapsto \sum_i t_{ij}(z) \otimes e_i
%\mapsto \sum_i \sum_k t_{ij}(z) \otimes t_{ki}(z) \otimes e_k
\end{equation*}
and express higher transfer matrices as cocharacters:

\begin{definition}
Let $t_\lambda$ be a standard Young tableau of shape $\lambda$ with $k$ boxes and content vector $(c_1,...,c_k)$. We may define a left coaction
\begin{align}\label{equation:coaction}
(\C^\ell)^{\otimes k} \to Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \otimes (\C^\ell)^{\otimes k}, \quad v \mapsto T_{t_\lambda}^g(z)(1 \otimes v)
\end{align}
where we have defined
\begin{equation*}
T_{t_\lambda}^g(z) := g_k \cdots g_1 T_k(z+\eta c_k) \cdots T_1(z+\eta c_1).
\end{equation*}
This coaction preserves the subspace $L_{t_\lambda} \subseteq (\C^\ell)^{\otimes k}$ due to
\begin{equation*}
\Pi_{t_\lambda} T_1(z+\eta c_1) \cdots T_k(z+\eta c_k) = T_k(z+\eta c_k) \cdots T_1(z+\eta c_1) \Pi_{t_\lambda},
\end{equation*}
which is derived from the higher RTT relation (\ref{equation:higherRTT}) by taking consecutive limits. We denote the comodule resulting from restriction of the coaction (\ref{equation:coaction}) to $L_{t_\lambda}$ shited by $y \in \C$ by $C(\lambda)_y^g$.
\end{definition}

\begin{definition}
Let $\lambda$ be a Young diagram. We define the \emph{higher $g$-twisted transfer matrix of shape $\lambda$}\index{Higher transfer matrix}, denoted by $\tau_\lambda^g(z)$ as the partial trace of the coaction of the comodule $C(\lambda)_0^g$ over $C(\lambda)_0^g$, \emph{i.e.} $\tau_\lambda^g(z)$ is the \emph{cocharacter} of the comodule $C(\lambda)_0^g$. Concretely, it is given by
\begin{equation*}
\tau_\lambda^g(z) = \operatorname{tr}_{t_\lambda} T_{t_\lambda}^g(z),
\end{equation*}
where $\operatorname{tr}_{t_\lambda}$ denotes the partial trace over $L_{t_\lambda}$.
\end{definition}

\begin{example}
Consider $\tau_{[1^2]}^g(z)$. We can write this as
\begin{equation*}
\tau_{[1^2]}^g(z) = \operatorname{tr}_{t_{[1^2]}} T_{t_{[1^2]}}^g(z) = \operatorname{tr}_{12} \Pi_{t_{[1^2]}} g_2 g_1 T_2(z-\eta) T_1(z).
\end{equation*}
In particular, in the fundamental monodromy representation $V_{y_1}^+ \otimes V_{y_2}^+$, this becomes
\begin{equation*}
\tau_{[1^2]}^g(z) = \operatorname{tr}_{12} \Pi_{12}^- g_2 g_1 R_{22'}(z-\eta-y_2) R_{21'}(z-\eta-y_1) R_{12'}(z-y_2) R_{11'}(z-y_1),
\end{equation*}
which reads
~\\
\begin{center}
\begin{tikzpicture}
\node at (1.5,0.5) {$\tau_{[1^2]}^g(z) =$};
\draw[red,dashed] (3,-0.5) -- (3,1.5);
\draw (5,-0.5) -- (5,1.5);
\draw (6,-0.5) -- (6,1.5);
\draw (6.5,0) -- (5,0);
\draw (5.15,0) arc (0:90:0.15);
\draw (6.15,0) arc (0:90:0.15);
\draw (6.5,1) -- (5,1);
\draw (5.15,1) arc (0:90:0.15);
\draw (6.15,1) arc (0:90:0.15);
\draw (5,0) .. controls (4.5,0) .. (4,0.5);
\draw (5,1) .. controls (4.5,1) .. (4,0.5);
\draw (4,0.5) .. controls (3.5,1) .. (3,1);
\draw (4,0.5) .. controls (3.5,0) .. (3,0);
\draw (4+.1,0.5-.1) arc (-45:45:0.15);
\node[right] at (6.5,0) {$z$};
\node[right] at (6.5,1) {$z-\eta$};
\node[below] at (5,-0.5) {$y_1$};
\node[below] at (6,-0.5) {$y_2$};
\draw[red,dashed] (6.5,-0.5) -- (6.5,1.5);
\end{tikzpicture}
\end{center}
in terms of diagrams. Note that the auxiliary space loops twice around the cylinder, exactly shifting by $\pm \eta$ when crossing the seam.
\end{example}

Further, we see that the highest transfer matrix $\tau_{[1^\ell]}^g(z)$ has a particularly nice description in terms of a Leibniz-type formula:

\begin{corollary}
\begin{equation*}
\tau_{[1^\ell]}^g(z) = \det g \sum_\sigma \operatorname{sgn} \sigma \cdot t_{\sigma(\ell)\ell}(z-\eta (\ell-1)) \cdots t_{\sigma(1)1}(z).
\end{equation*}
\end{corollary}

\begin{proof}
We have
\begin{equation*}
\tau_{[1^\ell]}^g(z) = \operatorname{tr}_{t_{[1^\ell]}} T_{t_{[1^\ell]}}^g(z) = \operatorname{tr}_{1...\ell} \Pi_{t_{[1^\ell]}} g_\ell \cdots g_1 T_\ell(z-\eta(\ell-1)) \cdots T_1(z).
\end{equation*}
We apply $\Pi_{t_{[1^\ell]}} g_\ell \cdots g_1 T_\ell(z-\eta(\ell-1)) \cdots T_1(z)$ to $e_1 \otimes \cdots \otimes e_\ell$ and obtain
\begin{equation*}
\sum_{i_1,...,i_\ell} t_{i_\ell,\ell}(z-\eta(\ell-1)) \cdots t_{i_1,1}(z) \otimes \Pi_{t_{[1^\ell]}} (\gamma_{i_1} e_{i_1} \otimes \cdots \otimes \gamma_{i_\ell} e_{i_\ell}).
\end{equation*}
But $\Pi_{t_{[1^\ell]}} (\gamma_{i_1} e_{i_1} \otimes \cdots \otimes \gamma_{i_\ell} e_{i_\ell})$ is only non-zero when the $i_1,...,i_\ell$ define a permutation $\sigma$, in which case it reduces to $\gamma_1 \cdots \gamma_\ell \cdot \operatorname{sgn} \sigma \cdot (e_1 \otimes \cdots \otimes e_\ell)$. All in all, the trace thus reduces to
\begin{equation*}
\sum_\sigma \gamma_1 \cdots \gamma_\ell \cdot \operatorname{sgn} \sigma \cdot t_{\sigma(\ell)\ell}(z-\eta(\ell-1)) \cdots t_{\sigma(1)1}(z),
\end{equation*}
which shows the claim.
\end{proof}

\begin{definition}
Due to this fact, $\tau_{[1^\ell]}^1(z)$ deserves the name \emph{quantum determinant}\index{Quantum determinant}. We also write $\operatorname{qdet} T(z) := \tau_{[1^\ell]}^1(z)$.
\end{definition}

\begin{remark}
This definition of the quantum determinant differs from the one in \cite{book:molev} by the anti-automorphism $\sigma: T(z) \mapsto T(-z)$. Specifically, Molev's definition coincides with $\sigma(\operatorname{qdet} T(-z))$.
\end{remark}

\begin{prop}\label{prop:quantumDetGroupLike}
The quantum determinant $\operatorname{qdet} T(z)$ is group-like in the sense that
\begin{equation*}
\Delta(\operatorname{qdet} T(z)) = \operatorname{qdet} T(z) \otimes \operatorname{qdet} T(z).
\end{equation*}
\end{prop}

\begin{proof}
This is corollary 1.6.10 in \cite{book:molev}.
\end{proof}

\begin{prop}
The center of $Y(\mathfrak{gl}_\ell)$ is generated by the coefficients of $\operatorname{qdet} T(z)$.
\end{prop}

\begin{proof}
This is theorem 1.7.5 in \cite{book:molev}.
\end{proof}

\begin{prop}\label{prop:quantumDetWeights}
Let $V$ be a highest weight representation of $Y(\mathfrak{gl}_\ell)$ with highest weight $\lambda(z) = (\lambda_1(z),...,\lambda_\ell(z))$. Then $\operatorname{qdet} T(z)$ acts as a scalar of the form
\begin{equation*}
\lambda_1(-z) \lambda_2(-z-\eta) \cdots \lambda_\ell(-z-\eta(\ell-1)).
\end{equation*}
\end{prop}

\begin{proof}
This is proposition 3.2.5 of \cite{book:molev}, keeping in mind that we have to flip the sign of the spectral parameter to match conventions. %Since $T(z)$ acts as a lower-triangular matrix on the highest weight vector, the only non-zero term in the Leibniz formula above is the term for $\sigma = \id$, which acts exactly as described. Since $\operatorname{qdet} T(z)$ is central in $Y(\mathfrak{gl}_\ell)$, it will act on all vectors of $V$ via this scalar.
\end{proof}

%Using the fusion procedure and the quantum determinant, we may characterize dual representations in a new way. Recall that $V_y^+ = L(\ydiagram{1})_y^t$ and that $V_{y-\ell\eta}^- = L(\ydiagram{1})_{y-\ell\eta}$ and $V_{y+\ell\eta}^- = L(\ydiagram{1})_{y+\ell\eta}$ are its left and right duals. There is another convenient way to express duals. Let $\check V_y^+$ denote $V_y^+$ twisted by $\operatorname{qdet} T(z)^{-1}$, so that $T(z)$ acts via $(\operatorname{qdet} T(z)^{-1}) T(z)$. We note that by corollary \ref{corollary:quantumDet}, the quantum determinant acts via the scalar $1-\frac{\eta}{z-y} = \frac{z-y-\eta}{z-y}$, so that
%\begin{equation*}
%(\operatorname{qdet} T(z)^{-1}) T(z) \mapsto \tfrac{z-y}{z-y-\eta} R(z-y) = \check R(z-y).
%\end{equation*}
%We further let $\check L(\lambda)_y^t$ denote the twist of $L(\lambda)_y^t$ by the inverse quantum determinant.
%
%\begin{prop}
%The left and right duals of $\check V_y^+$ are $\check L([1^{\ell-1}])_{y+?}^t$ and $\check L([1^{\ell-1}])_{y+\eta}^t$.
%\end{prop}
%
%\begin{proof}
%We have a $Y(\mathfrak{gl}_\ell)$-linear map
%\begin{equation*}
%L([1^{\ell-1}])_\eta^t \otimes L(\ydiagram{1})_0^t \to L([1^\ell])_0^t.
%\end{equation*}
%Note that the codomain is the one-dimensional quantum determinant representation. It follows that twisting with the inverse quantum determinant yields a $Y(\mathfrak{gl}_\ell)$-linear map
%\begin{equation*}
%\check L([1^{\ell-1}])_{\eta}^t \otimes \check L(\ydiagram{1})_0^t \to \C[\eta]
%\end{equation*}
%We similarly obtain a $Y(\mathfrak{gl}_\ell)$-linear map
%\begin{equation*}
%\C[\eta] \to \check L(\ydiagram{1})_0^t \otimes \check L([1^{\ell-1}])_{\eta}^t
%\end{equation*}
%and these provide right (co)evaluation maps.
%\end{proof}
%
%\begin{definition}
%Accordingly, we let $\check V_y^- := \check L([1^{\ell-1}])_y^t$.
%\end{definition}

\begin{definition}
Let $\lambda,\mu$ be Young diagrams and $t_\lambda,t_\mu$ standard tableaux of shape $\lambda,\mu$ with content vectors $(c_1,...,c_k),(d_1,...,d_l)$. Define the \emph{higher $R$-matrices}\index{Higher $R$-matrix}
\begin{equation}\label{equation:higherRMatrix}
R_{t_\lambda,t_\mu}(z) := \overset{\longleftarrow}{\prod_i} \overset{\longrightarrow}{\prod_j} R_{ij}(z+\eta c_i - \eta d_j) \in (\End \C^\ell)^{\otimes k} \otimes (\End \C^\ell)^{\otimes l}\llbracket z^{-1} \rrbracket.
\end{equation}
We see that $R_{t_\lambda,t_\mu}(z-w)$ preserves the subspace $L_{t_\lambda} \otimes L_{t_\mu}$ due to
\begin{equation*}
R_{t_\lambda,t_\mu}(z-w) \Pi_{t_\lambda} \Pi_{t_\mu} = \Pi_{t_\mu} \Pi_{t_\lambda} \overset{\longrightarrow}{\prod_i} \overset{\longleftarrow}{\prod_j} R_{ij}(z+\eta c_i - \eta d_j)
\end{equation*}
which follows from the RTT relation and taking consecutive limits.
%and \emph{unitary higher $R$-matrices}
%\begin{equation}\label{equation:higherRMatrix}
%\check R_{t_\lambda,t_\mu}(z) := \prod_{ij} \left( \frac{z + \eta c_i- \eta d_j}{z + \eta c_i- \eta d_j - \eta} \right) R_{t_\lambda,t_\mu}(z).
%\end{equation}
Further, repeated application of the RTT relation (\ref{equation:RTTRelation})\index{Higher RTT relation} implies
\begin{align*}
R_{t_\lambda,t_\mu}(z-w) T_{t_\lambda}(z) T_{t_\mu}(w) &= T_{t_\mu}(w) T_{t_\lambda}(z) R_{t_\lambda,t_\mu}(z-w).
\end{align*}
Similarly, repeated application of the quantum Yang-Baxter equation implies the higher quantum Yang-Baxter equation:
\begin{equation*}
R_{t_\mu,t_\nu}(z-w) R_{t_\mu,t_\lambda}(z) R_{t_\nu,t_\lambda}(w) =  R_{t_\nu,t_\lambda}(w) R_{t_\mu,t_\lambda}(z) R_{t_\mu,t_\nu}(z-w).
\end{equation*}
\end{definition}

\begin{prop}
Letting
\begin{equation*}
R_{t_\lambda,t_\mu}^{(21)}(z) := \overset{\longleftarrow}{\prod_j} \overset{\longrightarrow}{\prod_i} R_{ji}(z+\eta d_j - \eta c_i)
\end{equation*}
% \quad \text{and} \quad \check R_{t_\lambda,t_\mu}^{(21)}(z) := \prod_{ij} \left( \frac{z + \eta c_i- \eta d_j}{z + \eta c_i- \eta d_j - \eta} \right) R_{t_\lambda,t_\mu}^{(21)}(z)
we obtain
\begin{equation*}
R_{t_\lambda,t_\mu}(z) R_{t_\mu,t_\lambda}^{(21)}(-z) = \prod_{ij} \left( 1 - \frac{\eta^2}{(z+\eta c_i-\eta d_j)^2}\right)
\end{equation*}
% \quad \text{and} \quad \check R_{t_\lambda,t_\mu}(z) \check R_{t_\mu,t_\lambda}^{(21)}(-z) = 1.
In particular, higher $R$-matrices are invertible almost everywhere.
\end{prop}

\begin{proof}
This is proposition 6.5.3 in \cite{book:molev}.
\end{proof}

\begin{corollary}
The transfer matrices $\tau_\lambda^g(z)$ commute among each other, making $B^g(\mathfrak{gl}_\ell)$ into a commutative algebra.
\end{corollary}

\begin{proof}
Since $R_{t_\lambda,t_\mu}(z)$ is invertible almost everywhere by the previous proposition, we can give the following argument:
\begin{align*}
\tau_\lambda^g(z) \tau_\mu^g(w)
&= \operatorname{tr}_{t_\lambda,t_\mu} g_{t_\lambda} T_{t_\lambda}(z) g_{t_\mu} T_{t_\mu}(w) \\
&= \operatorname{tr}_{t_\lambda,t_\mu} g_{t_\lambda} g_{t_\mu} T_{t_\lambda}(z) T_{t_\mu}(w) \\
&= \operatorname{tr}_{t_\lambda,t_\mu} g_{t_\lambda} g_{t_\mu} R_{t_\lambda,t_\mu}(z-w)^{-1} T_{t_\mu}(w) T_{t_\lambda}(z) R_{t_\lambda,t_\mu}(z-w) \\
&= \operatorname{tr}_{t_\lambda,t_\mu} g_{t_\lambda} g_{t_\mu} R_{t_\lambda,t_\mu}(z-w) R_{t_\lambda,t_\mu}(z-w)^{-1} T_{t_\mu}(w) T_{t_\lambda}(z) \\
&= \operatorname{tr}_{t_\lambda,t_\mu} g_{t_\lambda} g_{t_\mu} T_{t_\mu}(w) T_{t_\lambda}(z) \\
&= \operatorname{tr}_{t_\lambda,t_\mu} g_{t_\mu} T_{t_\mu}(w) g_{t_\lambda} T_{t_\lambda}(z) \\
&= \tau_\mu^g(w) \tau_\lambda^g(z).
\end{align*}
\end{proof}

The functional relations between higher transfer matrices are the so called \emph{fusion relations}, whose categorification are certain short exact sequences of comodules. Of particular importance is the following short exact sequence:
\begin{equation*}
0 \to C([2,1^{k-1}])_\eta^g \to C([1^k])_\eta^g \otimes C(\ydiagram{1})_0^g \to C([1^{k+1}])_0^g \to 0.
\end{equation*}
The rule for traces over short exact sequences immediately implies the functional relation
\begin{equation*}\label{equation:functionalRelation}
\tau_{[2,1^{k-1}]}^g(z-\eta) - \tau_{[1^k]}^g(z-\eta) \tau_{\ydiagram{1}}^g(z) + \tau_{[1^{k+1}]}^g(z) = 0,
\end{equation*}
which will be our basis for deriving the spectral equation. The analogous short exact sequence for modules over $Y(\mathfrak{sl}_2)$ was originally established in \cite{article:chari:1990}. In terms of Young diagrams, the case $k=3$ simply reads
\begin{equation*}
\ydiagram{1,1,1} \otimes \ydiagram{1} = \ydiagram{2,1,1} \oplus \ydiagram{1,1,1,1},
\end{equation*}
which is the usual Littlewood-Richardson rule, except crucially we have an added dependence on the parameter $z$, which makes this short exact sequence non-split in general.

\begin{prop}
There is a short exact sequence
\begin{equation*}
0 \to C([2,1^{k-1}])_\eta^g \to C([1^k])_\eta^g \otimes C(\ydiagram{1})_0^g \to C([1^{k+1}])_0^g \to 0.
\end{equation*}
of left $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket$-comodules.
\end{prop}

\begin{proof}
Choosing column tableaux $t_{[2,1^{k-1}]},t_{[1^k]},t_{[1^{k+1}]}$, we are led to consider the coaction
\begin{equation*}
(\C^\ell)^{\otimes (k+1)} \to Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \otimes (\C^\ell)^{\otimes (k+1)}
\end{equation*}
coming from
\begin{equation*}
g_{k+1} g_k \cdots g_1 T_{k+1}(z) T_k(z-k\eta) \cdots T_1(z-\eta).
\end{equation*}
The fusion projectors $\Pi_{t_{[2,1^{k-1}]}}$ and $\Pi_{t_{[1^k]}} \otimes 1$ project onto the left and middle pieces of the exact sequence we are after. From (\ref{equation:LRRule}), it follows that $\Pi_{t_{[2,1^{k-1}]}}$ actually factors through $\Pi_{t_{[1^k]}} \otimes 1$, which yields the inclusion from the left to the middle piece. This respects the coaction by construction. Now, $\Pi_{t_{[1^{k+1}]}}$ will be the projection onto the cokernel of this inclusion and it only remains to be checked that the projection respects the coaction. Indeed, the RTT relation supplemented by $\Pi_{t_{[1^{k+1}]}} \Pi_{t_{[1^k]}} = \Pi_{t_{[1^{k+1}]}}$ implies
\begin{align*}
&\Pi_{t_{[1^{k+1}]}} g_{k+1} g_k \cdots g_1 T_{k+1}(z) T_k(z-k\eta) \cdots T_1(z-\eta) \\
&= \Pi_{t_{[1^{k+1}]}} \Pi_{t_{[1^k]}} g_{k+1} g_k \cdots g_1 T_{k+1}(z) T_k(z-k\eta) \cdots T_1(z-\eta) \\
&= \Pi_{t_{[1^{k+1}]}}  g_{k+1} g_k \cdots g_1 T_{k+1}(z) T_1(z-\eta) \cdots T_k(z-k\eta) \Pi_{t_{[1^k]}} \\
&=  g_{k+1} g_k \cdots g_1 T_k(z-k\eta) \cdots T_1(z-\eta) T_{k+1}(z) \cdots \Pi_{t_{[1^{k+1}]}} \Pi_{t_{[1^k]}} \\
&=  g_{k+1} g_k \cdots g_1 T_k(z-k\eta) T_1(z-\eta) T_{k+1}(z) \Pi_{t_{[1^{k+1}]}}.
\end{align*}
\end{proof}

%\begin{proof}
%Consider the fundamental monodromy representation
%\begin{equation*}
%V_{\eta}^+ \otimes V_{2\eta}^+ \otimes \cdots \otimes V_{k\eta}^+ \otimes V_0^+.
%\end{equation*}
%By proposition \ref{prop:fusionReps}, the fusion projectors $\Pi_{t_{[2,1^{k-1}]}}$ and $\Pi_{t_{[1^k]}} \otimes 1$ project onto the left and middle pieces $L([2,1^{k-1}])_\eta^t$ and $L([1^k])_\eta^t \otimes L(\ydiagram{1})_0^t$. The Littlewood-Richardson rule gives
%\begin{equation*}
%\Pi_{t_{[1^k]}} \otimes 1 = \Pi_{t_{[2,1^{k-1}]}} + \Pi_{t_{[1^{k+1}]}},
%\end{equation*}
%so that $\Pi_{t_{[2,1^{k-1}]}}$ actually factors through $\Pi_{t_{[1^k]}} \otimes 1$, which yields the inclusion from the left to the middle piece. Then $\Pi_{t_{[1^{k+1}]}}$ will be the projection onto the cokernel of this inclusion. The RTT relation supplemented by $\Pi_{t_{[1^{k+1}]}} \Pi_{t_{[1^k]}} = \Pi_{t_{[1^{k+1}]}}$ gives
%\begin{align*}
%&\Pi_{t_{[1^{k+1}]}} R_{01}(z-\eta) R_{02}(z-2\eta) \cdots R_{0k}(z-k\eta) R_{0,k+1}(z) \\
%&= \Pi_{t_{[1^{k+1}]}} \Pi_{t_{[1^k]}} R_{01}(z-\eta) R_{02}(z-2\eta) \cdots R_{0k}(z-k\eta) R_{0,k+1}(z) \\
%&= \Pi_{t_{[1^{k+1}]}} R_{0k}(z-k\eta) \cdots R_{02}(z-2\eta) R_{01}(z-\eta) R_{0,k+1}(z) \Pi_{t_{[1^k]}} \\
%&= R_{0,k+1}(z) R_{01}(z-\eta) R_{02}(z-2\eta) \cdots R_{0k}(z-k\eta) \Pi_{t_{[1^{k+1}]}} \Pi_{t_{[1^k]}} \\
%&= R_{0,k+1}(z) R_{01}(z-\eta) R_{02}(z-2\eta) \cdots R_{0k}(z-k\eta) \Pi_{t_{[1^{k+1}]}},
%\end{align*}
%so $\Pi_{t_{[1^{k+1}]}}$ is in fact $Y(\mathfrak{gl}_\ell)$-linear, as required.
%\end{proof}
%
%\begin{corollary}
%We obtain the functional relation
%\begin{equation}\label{equation:functionalRelation}
%\tau_{[1^k]}^g(z-\eta) \tau_{\ydiagram{1}}^g(z) = \tau_{[2,1^{k-1}]}^g(z-\eta) + \tau_{[1^{k+1}]}^g(z).
%\end{equation}
%\end{corollary}
%
%\begin{proof}
%By the previous proposition, we have a morphism of short exact sequences of comodules: \\
%{\small
%\begin{tikzcd}[column sep=0.3cm]
%\\
%0 \arrow{r}
%& L([2,1^{k-1}])_0 \otimes Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \arrow{r} \arrow{d}{g_{[2,1^{k-1}]} T_{[2,1^{k-1}]}(z-\eta)}
%& L([1^k])_0 \otimes L(\ydiagram{1})_\eta \otimes Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \arrow{r} \arrow{d}{g_{[1^k]} T_{[1^k]}(z-\eta) g_{\ydiagram{1}} T_{\ydiagram{1}}(z)}
%& L([1^{k+1}])_\eta \otimes Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \arrow{r} \arrow{d}{g_{[1^{k+1}]} T_{[1^{k+1}]}(z)}
%& 0 \\
%0 \arrow{r}
%& L([2,1^{k-1}])_0 \otimes Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \arrow{r}
%& L([1^k])_0 \otimes L(\ydiagram{1})_\eta \otimes Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \arrow{r}
%& L([1^{k+1}])_\eta \otimes Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket \arrow{r}
%& 0 \\
%\end{tikzcd}
%}
%
%Taking the trace over everything except $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket$ yields
%\begin{equation*}
%0 = \tau_{[2,1^{k-1}]}^g(z-\eta) - \tau_{[1^k]}^g(z-\eta) \tau_{\ydiagram{1}}^g(z) + \tau_{[1^{k+1}]}^g(z)
%\end{equation*}
%as elements of $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket$.
%\end{proof}

\subsection{Spectral equation}

In this section, we will derive the \emph{spectral equation} for the non-local Hamiltonians of the Heisenberg model from the functional relation (\ref{equation:functionalRelation}). This is where we will see the Lax matrix of the rational Ruijsenaars-Schneider model appear seemingly out of nowhere. We will work along the lines of \cite{book:arutyunov:betheAnsatz}, but our approach is slightly different since we use Yang's convention for $R$-matrices instead of the polynomial convention and work in the $g$-twisted setting. The equations in this subsection are to be read as valid in the monodromy representation $V_{y_1}^+ \otimes \cdots \otimes V_{y_N}^+$ with $y_1,...,y_N$ in generic position, meaning $y_i-y_j \neq 0,...,(\ell-1)\eta$. We start with an important observation about the analytic structure of the higher transfer matrices $\tau_{[1^k]}^g(z)$:

\begin{lemma}\label{lemma:analyticStructure}
The higher transfer matrix $\tau_{[1^k]}^g(z)$ only has simple poles at $y_1,...,y_N$.
\end{lemma}

\begin{proof}
The poles of $\tau_{[1^k]}^g(z)$ can be read off from
\begin{equation*}
\tau_{[1^k]}^g(z) = \operatorname{tr}_{1...k} \Pi_{1...k}^- g_k \cdots g_1 M_k(z-(k-1)\eta) \cdots M_2(z-\eta) M_1(z),
\end{equation*}
where $M_a(z)$ is the monodromy matrix. It follows  from the analytic structure of the $R$-matrix that $\tau_{[1^k]}(z)$ may at most have simples poles at $y_i - j\eta$ for $i=1,...,N$ and $j=0,...,k-1$ when $y_1,...,y_N$ are in generic position. It remains to show that the residues at $y_i-j\eta$ for $j=1,...,k-1$ vanish. Indeed, let us look at two adjacent monodromy matrices of the form $M_2(z-\eta) M_1(z)$. Introduce the partial monodromy matrix
\begin{equation*}
M_a^{[i,j]}(z) := R_{ai}(z-y_i) \cdots R_{aj}(z-y_j)
\end{equation*}
and compute
\begin{align*}
\operatorname{Res}_{z=y_i-\eta} \Big( M_2(z-\eta) M_1(z) \Big)
&= M_2^{[N,i+1]}(y_i) \eta P_{2i} M_2^{[i-1,1]}(y_i) M_1^{[N,i+1]}(y_i-\eta) 2 \Pi_{1i}^+ M_1^{[i-1,1]}(y_i-\eta) \\
&= M_2^{[N,i+1]}(y_i) M_1^{[N,i+1]}(y_i-\eta) \eta P_{2i} 2 \Pi_{1i}^+ M_2^{[i-1,1]}(y_i) M_1^{[i-1,1]}(y_i-\eta) \\
&= M_2^{[N,i+1]}(y_i) M_1^{[N,i+1]}(y_i-\eta) 2 \Pi_{12}^+ \eta P_{2i} M_2^{[i-1,1]}(y_i) M_1^{[i-1,1]}(y_i-\eta) \\
&= \Pi_{21}^+ M_1^{[N,i+1]}(y_i-\eta) M_2^{[N,i+1]}(y_i) 2 \Pi_{12}^+ \eta P_{2i} M_2^{[i-1,1]}(y_i) M_1^{[i-1,1]}(y_i-\eta) \\
&= \Pi_{12}^+ M_2^{[N,i+1]}(y_i) M_1^{[N,i+1]}(y_i-\eta) 2 \Pi_{12}^+ \eta P_{2i} M_2^{[i-1,1]}(y_i) M_1^{[i-1,1]}(y_i-\eta) \\
&= \Pi_{12}^+ \operatorname{Res}_{z=y_i-\eta} \Big( M_2(z-\eta) M_1(z) \Big).
\end{align*}
It follows that $\operatorname{Res}_{z=y_i-\eta} \big( M_k(z-(k-1)\eta) \cdots M_1(z) \big)$ is symmetric in the indices 1 and 2, forcing $\operatorname{Res}_{z=y_i-\eta} \tau_{[1^k]}^g(z)$ to be zero due to the presence of the antisymmetrizer $\Pi_{1...k}^-$. The same argument also holds for the poles at $y_i-j\eta$ for $j=2,...,k-1$.
\end{proof}

\begin{lemma}\label{lemma:transferMatrixExpansion}
Let $\chi_\lambda$ be the character of the highest weight module $L(\lambda)$. Then
\begin{equation*}
\tau_\lambda^g(\infty) = \chi_\lambda(g).
\end{equation*}
\end{lemma}

\begin{remark}
For this reason, the higher transfer matrices are called \emph{quantum characters} in \cite{book:arutyunov:betheAnsatz}.
\end{remark}

\begin{proof}
Let us take the column tableau $t_\lambda$, giving
\begin{equation*}
\tau_\lambda^g(\infty) = \operatorname{tr}_{t_\lambda} T_{t_\lambda}^g(\infty).
\end{equation*}
But $T_{t_\lambda}^g(\infty)$ is just $g$, yielding
\begin{equation*}
\tau_\lambda^g(\infty) = \operatorname{tr}_{t_\lambda} g_k \cdots g_1,
\end{equation*}
which is exactly the character $\chi_\lambda(g)$ of the highest weight module $L(\lambda)$.
\end{proof}

\begin{lemma}
We have
\begin{equation*}
\tau_{[1^k]}^g(z) = e_k(g) + \sum_i \frac{\operatorname{Res}_{z=y_i} \tau_{[1^k]}^g(z)}{z-y_i}.
\end{equation*}
\end{lemma}

\begin{proof}
This is just the canonical partial fraction decomposition of $\tau_{[1^k]}^g(z)$, taking into account that $\tau_{[1^k]}^g(z)$ only has simple poles at $y_1,...,y_N$ and fulfills $\tau_{[1^k]}^g(\infty) = \chi_{[1^k]}(g)$, which is nothing but the $k$th elementary symmetric polynomial $e_k(g)$.
\end{proof}

\begin{lemma}\label{lemma:recursionRelation}
We have the recursion relation
\begin{equation*}
\operatorname{Res}_{z=y_i} \tau_{[1^{k+1}]}^g(z)
= -\eta e_k(g) H_i - \sum_j \frac{\eta H_i}{y_i-y_j-\eta} \operatorname{Res}_{z=y_j} \tau_{[1^k]}^g(z).
\end{equation*}
\end{lemma}

\begin{proof}
The functional relation (\ref{equation:functionalRelation}) can be rewritten as
\begin{equation*}
\tau_{[1^{k+1}]}^g(z) = \tau_{[1^k]}^g(z-\eta) \tau_{\ydiagram{1}}^g(z) - \tau_{[2,1^{k-1}]}^g(z-\eta).
\end{equation*}
Let us take the residue at $z=y_i$. Recall that $\tau_{[1^k]}^g(z-\eta)$ does not have a pole at $y_i$ by lemma \ref{lemma:analyticStructure}. If show the same for $\tau_{[2,1^{k-1}]}^g(z-\eta)$, we arrive at
\begin{equation*}
\operatorname{Res}_{z=y_i} \tau_{[1^{k+1}]}^g(z)
= -\eta \tau_{[1^k]}^g(y_i-\eta) H_i,
\end{equation*}
such that lemma \ref{lemma:transferMatrixExpansion} yields the claim.
%Indeed, taking the row tableau $t_{[2,1^{k-1}]}$, we get
%\begin{align*}
%\tau_{[2,1^{k-1}]}^g(z-\eta)
%&= \operatorname{tr}_{1...k+1} \Pi_{t_{[2,1^{k-1}]}} g_{k+1} \cdots g_1 M_{k+1}(z-k\eta) \cdots M_3(z-2\eta) M_2(z) M_1(z-\eta).
%\end{align*}
%But
%\begin{align*}
%&\operatorname{Res}_{z=y_i} M_{k+1}(z-k\eta) \cdots M_3(z-2\eta) M_2(z) M_1(z-\eta) \\
%&= M_{k+1}^{[N,i+1]}(z-k\eta) \cdots M_3^{[N,i+1]}(y_i-2\eta) M_2^{[N,i+1]}(y_i) M_1^{[N,i+1]}(y_i-\eta) \mathbf{R} M_{k+1}^{[i-1,1]}(z-k\eta) \cdots M_3^{[i-1,1]}(y_i-2\eta) M_2^{[i-1,1]}(y_i) M_1^{[i-1,1]}(y_i-\eta)
%\end{align*}
Indeed, taking the column tableau $t_{[2,1^{k-1}]}$, we get
\begin{align*}
\tau_{[2,1^{k-1}]}^g(z)
&= \operatorname{tr}_{1...k+1} \Pi_{t_{[2,1^{k-1}]}} g_{k+1} \cdots g_1 M_{k+1}(z+\eta) M_k(z-(k-1)\eta) \cdots M_2(z-\eta) M_1(z).
\end{align*}
The combination $M_2(z-\eta) M_1(z)$ again gives a vanishing residue at $z=y_i-\eta$ by the argument of lemma \ref{lemma:analyticStructure} using the identity $\Pi_{t_{[2,1^{k-1}]}} \Pi_{12}^+ = 0$, which follows from (\ref{equation:hookProjector}).
\end{proof}

In matrix notation, the previous lemma reads
\begin{equation*}
\begin{pmatrix}
\operatorname{Res}_{z=y_1} \tau_{[1^{k+1}]}^g(z) \\
\vdots \\
\operatorname{Res}_{z=y_N} \tau_{[1^{k+1}]}^g(z)
\end{pmatrix}
=
-\eta e_k(g)
\begin{pmatrix}
H_1 \\
\vdots \\
H_N
\end{pmatrix}
+L^t
\begin{pmatrix}
\operatorname{Res}_{z=y_1} \tau_{[1^k]}^g(z) \\
\vdots \\
\operatorname{Res}_{z=y_N} \tau_{[1^k]}^g(z)
\end{pmatrix}
\end{equation*}
where we have introduced the matrix $L$ with coefficients
\begin{equation*}
L_{ij} := \frac{\eta H_j}{y_i-y_j+\eta} = \frac{\eta}{y_i-y_j+\eta} \bigg( \prod_{j \neq k} \frac{y_j-y_k-\eta}{y_j-y_k} \bigg) \check H_j.
\end{equation*}
This looks awfully close to the Lax matrix (\ref{equation:RSLaxMatrix}) of the rational Ruijsenaars-Schneider model when we substitute $e^{-p_j}$ for $\check H_j$! Recall that $X_j$ is the operator that under quantization corresponds to $e^{-p_j}$, which leads us to hypothesize that $X_j$ and $\check H_j$ will in some sense turn out to be one and the same operator. This the main result of the next section.

Iterating the matrix equation and combining with the formula for the quantum determinant from corollary \ref{corollary:quantumDet} finally gives the spectral equation, resembling a Cayley-Hamilton-type identity:

\begin{theorem}[Spectral equation]\label{theorem:spectralEq}
The non-local Hamiltonians $H_1,...,H_N$ of the spin chain fulfill the \emph{spectral equation}
\begin{equation}\label{equation:spectralEq}
\sum_{k=0}^\ell e_{\ell-k}(g) (L^t)^k
\begin{pmatrix}
b_1 \\ \vdots \\ b_N
\end{pmatrix}
= 0, \quad b_i = \prod_{i \neq j} \frac{y_i-y_j+\eta}{y_i-y_j}.
\end{equation}
\end{theorem}

\begin{proof}
Iterating the recursion relation from lemma \ref{lemma:recursionRelation} until we reach the quantum determinant $\tau_{[1^\ell]}^g(z) = e_\ell(g) \operatorname{qdet} T(z)$ yields
\begin{equation*}
e_\ell(g)
\begin{pmatrix}
\operatorname{Res}_{z=y_1} \operatorname{qdet} T(z) \\ \vdots \\ \operatorname{Res}_{z=y_N} \operatorname{qdet} T(z)
\end{pmatrix}
= -\eta \sum_{k=1}^\ell e_{\ell-k}(g) (L^t)^{k-1}
\begin{pmatrix}
H_1 \\ \vdots \\ H_N
\end{pmatrix}.
\end{equation*}
By propositions \ref{prop:quantumDetGroupLike} and \ref{prop:quantumDetWeights}, we compute $\operatorname{qdet} T(z) = \prod_k \left( 1-\frac{\eta}{-(z-y_k)} \right) = \prod_k \frac{z-y_k+\eta}{z-y_k}$, implying
\begin{equation*}
\operatorname{Res}_{z=y_j} \operatorname{qdet} T(z) = \eta b_j.
\end{equation*}
On the other hand, we have $L = CH \Leftrightarrow H = L^t (C^t)^{-1}$, where $C_{ij} = \frac{\eta}{y_i-y_j+\eta}$ is the Cauchy matrix and $H = \operatorname{diag}(H_1,...,H_N)$.
This implies
\begin{equation*}
\eta e_\ell(g)
\begin{pmatrix}
b_1 \\ \vdots \\ b_N
\end{pmatrix}
= -\eta \sum_{k=1}^\ell e_{\ell-k}(g) (L^t)^k (C^t)^{-1} e
\end{equation*}
due to $H e = L^t (C^t)^{-1} e$, where $e = (1,...,1)$. Finally, the equality $(C^t)^{-1} e = (b_1,...,b_N)$ yields the claim.
\end{proof}

\begin{remark}
The Cayley-Hamilton form of the spectral equation is consistent with the findings of \cite{article:gorsky:2014}, where it is shown that the twist parameters $\gamma_1,...,\gamma_\ell$ give the eigenvalues of the Lax matrix $L$ with multiplicities given by the eigenvalues of the occupation number operators\index{Occupation number operators}
\begin{equation}\label{equation:occupationNumber}
M_a = \sum_{i=1}^N (e_{aa})_i, \quad a=1,...,\ell.
\end{equation}
\end{remark}

%\begin{corollary}
%The eigenvalues of $H_1,...,H_N$ are exactly the complex roots of the spectral equation.
%\end{corollary}
%
%\begin{proof}
%??
%\end{proof}
%
%Conjecture: $\operatorname{tr} L^k = \operatorname{Res}_{z=\infty} \tau_{[1^k]}^g(z)$.

\section{Generalized Schur-Weyl duality}

Why should the Lax matrix of the rational Ruijsenaars-Schneider model appear in the spectral equation? A first clue is given by the fact that the Yangian allows for residual symmetries through its various automorphisms, the most peculiar of which is the shift automorphism. It has no analogue for $\mathfrak{gl}_\ell$ and is thus special to the Yangian. This non-rigidity gives additional degrees of freedom for monodromy representations: the inhomogeneities. They seem to play the role of the position variables of the rational Ruijsenaars-Schneider model. What is the mathematical reason for their appearance? Most simply, it is because the Schur-Weyl dual of the Yangian is the degenerate affine Hecke algebra, whose generators include polynomial generators that act as inhomogeneities. To introduce this, we will start with a discussion of classical Schur-Weyl duality between the symmetric groups $S_N$ and the Lie algebras $\mathfrak{gl}_\ell$. A detailed account of various generalized Schur-Weyl dualities can be found in \cite{thesis:antor:2020}.

\subsection{Classical Schur-Weyl duality}

Classical Schur-Weyl duality establishes a link between the representation theory of the symmetric group $S_N$ and the representation theory of the Lie algebra $\mathfrak{gl}_\ell$. Let $\C^\ell$ be the vector representation of $\mathfrak{gl}_\ell$ and consider the $N$-fold tensor product representation $(\C^\ell)^{\otimes N}$. Clearly, $\mathfrak{gl}_\ell$ acts from the left via the coproduct of $U(\mathfrak{gl}_\ell)$. However, there is also a right action of $S_N$ by permuting tensorands. Schur-Weyl duality now states the following:

\begin{theorem}
\begin{enumerate}[label=(\roman*)]
\item The actions of $U(\mathfrak{gl}_\ell)$ and $\C[S_N]$ on $(\C^\ell)^{\otimes N}$ are each others centralizer.\index{Schur-Weyl duality}
\item We have the decomposition
\begin{equation*}
(\C^\ell)^{\otimes N} = \bigoplus_{\lambda} L(\lambda) \otimes S(\lambda),
\end{equation*}
where $\lambda$ ranges over all Young diagrams with $N$ boxes and at most $\ell$ rows. In this decomposition, we have $L(\lambda) \otimes v_t = \operatorname{im} \Pi_t$, compare proposition \ref{prop:fusionDecomposition}.
\end{enumerate}
\end{theorem}

\begin{corollary}\label{corollary:SchurWeyl}
We have $L(\lambda) \cong (\C^\ell)^{\otimes N} \otimes_{S_N} S(\lambda)$.
\end{corollary}

The last part can be nicely organized in categorical language, following \cite{article:davydov:2010}. Define a monoidal category $S_*$ with objects $[N]$ for $N \in \N$ and monoidal product $[N] \otimes [M] := [N+M]$ as well as morphisms
\begin{equation*}
\Hom_{S_*}([N],[M]) :=
\begin{cases}
\C[S_N], & N = M \\
\varnothing, & N \neq M
\end{cases}
\end{equation*}
with the monoidal product of morphisms given by the natural map $\C[S_N] \otimes \C[S_M] \to \C[S_{N+M}]$. We now take the following $\C$-linear closure of $\C$-linear copresheaves
\begin{equation*}
\mathsf{C}(S_*) := \mathsf{Func}_\C(S_*,\mathsf{Vect}) \simeq \bigoplus_N \C[S_N]\mathsf{Mod},
\end{equation*}
where we have a tensor product given by Day convolution:
\begin{equation*}
U \otimes_{S_*} W := \C[S_{N+M}] \otimes_{\C[S_N] \otimes \C[S_M]} (U \otimes W).
\end{equation*}
which gives a monoidal fiber functor
\begin{equation*}
F_\ell: \mathsf{C}(S_*) \to \mathsf{Vect}, \quad U \in \C[S_N]\mathsf{Mod} \mapsto (\C^\ell)^{\otimes N} \otimes_{S_N} U.
\end{equation*}
The fact that $U(\mathfrak{gl}_\ell)$ centralizes the action of the symmetric groups gives a homomorphism $U(\mathfrak{gl}_\ell) \to \End(F_\ell)$ and we obtain a commutative diagram of monoidal functors
\begin{center}
\begin{tikzcd}
\mathsf{C}(S_*) \arrow[swap]{dr}{SW_\ell} \arrow{rr}{F_\ell} & & \mathsf{Vect} \\
& U(\mathfrak{gl}_\ell)\mathsf{Mod} \arrow{ur}
\end{tikzcd}
\end{center}
Hence we might also say that the algebras $U(\mathfrak{gl}_\ell)$ are Tannaka dual to the algebras $\C[S_N]$.

\begin{theorem}[Classical Schur-Weyl duality]
The functor
\begin{equation*}
SW_{\ell,N}: \C[S_N]\mathsf{Mod} \to U(\mathfrak{gl}_\ell)\mathsf{Mod}, \quad U \mapsto (\C^\ell)^{\otimes N} \otimes_{S_N} U
\end{equation*}
is full and also faithful when $\ell \geq N$. Its essential image are $U(\mathfrak{gl}_\ell)$-modules of weight $N$.
\end{theorem}

\subsection{Schur-Weyl duality for the Yangian}

The important observation now is that classical Schur-Weyl duality may be generalized from the Lie algebra $\mathfrak{gl}_\ell$ to the Yangian $Y(\mathfrak{gl}_\ell)$ by replacing the symmetric group with the degenerate affine Hecke algebra. The additional action by shifts of the spectral parameter $z$ of the Yangian is defined using the action of the polynomial generators $y_i$ of the degenerate affine Hecke algebra.

Proceeding as above, following the language of \cite{article:davydov:2010,article:arakawa:1999}, we define a monoidal category $\dot H_*$ with objects $[N]$ for $N \in \N$, monoidal product $[N] \otimes [M] := [N+M]$ as well as morphisms
\begin{equation*}
\Hom_{\dot H_*}([N],[M]) :=
\begin{cases}
\dot H_N, & N = M \\
\varnothing, & N \neq M
\end{cases}
\end{equation*}
with the monoidal product of morphisms given by the canonical inclusion $\dot H_N \otimes \dot H_M \to \dot H_{N+M}$. We again take the $\C$-linear closure
\begin{equation*}
\mathsf{C}(\dot H_*) := \mathsf{Func}_\C(\dot H_*,\mathsf{Vect}) \simeq \bigoplus_N \dot H_N\mathsf{Mod},
\end{equation*}
equipped with the Day convolution tensor product
\begin{equation*}
U \otimes_{\dot H_*} W := \dot H_{N+M} \otimes_{\dot H_N \otimes \dot H_M} (U \otimes W).
\end{equation*}
We may define a fiber functor $\mathsf{C}(\dot H_*) \to \mathsf{Vect}$ that factors through the \emph{Drinfeld functor} $D_\ell: \mathsf{C}(\dot H_*) \to Y(\mathfrak{gl}_\ell)\mathsf{Mod}$.

\begin{definition}
We define the \emph{Drinfeld functor}
\begin{equation*}
D_{\ell,N}: \dot H_N\mathsf{Mod} \to Y(\mathfrak{gl}_\ell)\mathsf{Mod}, \quad U \mapsto (\C^\ell)^{\otimes N} \otimes_{S_N} U,
\end{equation*}
where the $Y(\mathfrak{gl}_\ell)$-module structure is given by $T(z) \mapsto R_{0N}(z-y_N) \cdots R_{01}(z-y_1)$.
\end{definition}

\begin{theorem}
The functor $D_\ell$ is full and also faithful when $\ell > N$. %Its essential image are $Y(\mathfrak{gl}_\ell)$-modules of weight $N$.
\end{theorem}

\begin{proof}
This is the main theorem of \cite{article:drinfeld:1986}. Drinfeld's original proof has never been published, but \cite{article:chari:1995} contains a detailed and proof for the analogous case of affine quantum groups.
\end{proof}

\begin{prop}
The functor $D_\ell$ is a monoidal functor, \emph{i.e.} there exist natural isomorphisms
\begin{equation*}
D_{\ell,N_1+N_2}(U_1 \otimes_{\dot H_*} U_2) \cong D_{\ell,N_1}(U_1) \otimes D_{\ell,N_2}(U_2).
\end{equation*}
\end{prop}

\begin{proof}
This already appears in \cite{article:drinfeld:1986}.
\end{proof}

%\begin{prop}
%The following diagram commutes on the nose:
%\begin{center}
%\begin{tikzcd}
%{\C[S_N]\mathsf{Mod}} \arrow{d}{\operatorname{ev}^*} \arrow{r}{SW_{\ell,N}} & U(\mathfrak{gl}_\ell) \arrow{d}{(-)^t \circ \operatorname{ev}^*} \\
%\dot H_N\mathsf{Mod} \arrow{r}{D_{\ell,N}} & Y(\mathfrak{gl}_\ell)
%\end{tikzcd}
%\end{center}
%\end{prop}
%
%\begin{proof}
%We have to check that the induced actions of the Yangian on $(\C^\ell)^{\otimes N} \otimes_{S_N} U$ coincide and we see indeed that the variable $y$ acts as the shift variable in both cases.
%\end{proof}

We can already see how this is beginning to resemble the structure we are looking for: The Drinfeld functor takes representations of the degenerate affine Hecke algebra $\dot H_N$, such as the wave function representation of the quantum rational Ruijsenaars-Schneider model, and produces a representation of the Yangian clearly resembling fundamental monodromy representations with inhomogeneities given by the polynomial generators $y_i$ of the degenerate affine Hecke algebra.

However, we are still missing two important ingredients: Firstly, the twist matrix does not enter into the structure at any point, and secondly, we are disregarding the Laurent generators $X_i$ of the degenerate double affine Hecke algebra $\ddot H_N$, which play an important role in defining the Hamiltonians of the quantum rational Ruijsenaars-Schneider model. These shortcomings will be remedied in the next section.

\subsection{Twisted Schur-Weyl duality for the Yangian}

It is clear that any $\ddot H_N$-module restricts to an $\dot H_N$-module to which we can apply the Drinfeld functor, giving a new functor
\begin{equation*}
\ddot H_N\mathsf{Mod} \to Y(\mathfrak{gl}_\ell)\mathsf{Mod}, \quad U \mapsto (\C^\ell)^{\otimes N} \otimes_{S_N} U.
\end{equation*}
Crucially however, we still have the action of the Laurent generators $X_i$ on $(\C^\ell)^{\otimes N} \otimes_{S_N} V$ left over. Since we tensor over the symmetric group, we are required to restrict to operators that are symmetric in the $X_i$. Such operators are provided by the spherical degenerate double affine Hecke algebra $S\ddot H_N$. Naively incorporating this action yields a functor
\begin{equation*}
\ddot H_N\mathsf{Mod} \to S\ddot H_N \# Y(\mathfrak{gl}_\ell)\mathsf{Mod},
\end{equation*}
where “$\#$” denotes the free product. Let us now twist this using the twist matrix $g$:

\begin{definition}
Define the \emph{twist-extended Drinfeld functor}\index{Twist-extended Drinfeld functor}
\begin{equation*}
D_{\ell,N}^g: \ddot H_N\mathsf{Mod} \to S\ddot H_N \# Y(\mathfrak{gl}_\ell)\mathsf{Mod}, \quad U \mapsto (\C^\ell)^{\otimes N} \otimes_{S_N} U,
\end{equation*}
by letting $X_i$ act on $(\C^\ell)^{\otimes N} \otimes_{S_N} U$ via
\begin{equation*}
X_i(v \otimes u) := g_i v \otimes X_i u.
\end{equation*}
The $y_i$ act untwisted.
\end{definition}

With this definition, we are finally ready to show explicitly how the twist-extended Drinfeld functor maps the quantum rational Ruijsenaars-Schneider model to the twisted inhomogeneous Heisenberg model in the limit $\hbar \to 0$. This is the aim of the next section.

\section{Quantum-classical duality as Schur-Weyl duality}

\subsection{Fundamental spin chain}

We are now ready to show how the Hamiltonian operators acting on the wave function representation $\C[y_1,...,y_N]$ of the quantum rational Ruijsenaars-Schneider model produce the Hamiltonian operators on the Heisenberg spin chain via the twist-extended Drinfeld functor. This result rests on the following key observation:

\begin{lemma}\label{lemma:keyLemma}
On $D_{\ell,N}^g(\C[y_1,...,y_N])$, we have
\begin{equation*}
g_i v \otimes X_i f = \check R_{i,i-1}(y_i-y_{i-1}) \cdots \check R_{i1}(y_i-y_1) (g_i \otimes e^{\I \hbar \partial_i}) \check R_{iN}(y_i-y_N) \cdots \check R_{i,i+1}(y_i-y_{i+1}) (v \otimes f).
\end{equation*}
where we have introduced
\begin{equation*}
\check R_{ij}(y_i-y_j) (v \otimes f) := v \otimes \frac{y_i-y_j}{y_i-y_j-\eta} f - P_{ij} v \otimes \frac{\eta}{y_i-y_j-\eta} f.
\end{equation*}
\end{lemma}

\begin{proof}
Since we are tensoring over $S_N$, we know that $P_{i,i+1} v \otimes f = v \otimes t_i f$, \emph{i.e.}
\begin{align*}
P_{i,i+1} v \otimes f &= v \otimes \bigg( \frac{y_i-y_{i+1}-\eta}{y_i-y_{i+1}} s_i + \frac{\eta}{y_i-y_{i+1}} \bigg) f \\
\Leftrightarrow P_{i,i+1} v \otimes f - v \otimes \frac{\eta}{y_i-y_{i+1}} f &= v \otimes \frac{y_i-y_{i+1}-\eta}{y_i-y_{i+1}} s_i f \\
\Leftrightarrow P_{i,i+1} v \otimes \frac{y_i-y_{i+1}}{y_i-y_{i+1}-\eta} f - v \otimes \frac{\eta}{y_i-y_{i+1}-\eta} f &= v \otimes s_i f,
\end{align*}
showing $\check R_{i,i+1}^+(y_i-y_{i+1}) (P_{i,i+1} v \otimes f) = v \otimes s_i f$. In combination, we obtain
\begin{equation*}
v \otimes x_{i,i+1} f = v \otimes s_i t_i f = \check R_{i,i+1}^+(y_i-y_{i+1}) (P_{i,i+1} v \otimes t_i f) = \check R_{i,i+1}^+(y_i-y_{i+1})(v \otimes f).
\end{equation*}
It follows that
\begin{align*}
g_i v \otimes X_i f
&= g_i v \otimes x_{i,i-1} \cdots x_{i1} e^{\I \hbar \partial_i} x_{iN} \cdots x_{i,i+1} f \\
&= \check R_{i,i-1}(y_i-y_{i-1}) \cdots \check R_{i1}(y_i-y_1) (g_i v \otimes e^{\I \hbar \partial_i} x_{iN} \cdots x_{i,i+1} f) \\
&= \check R_{i,i-1}(y_i-y_{i-1}) \cdots \check R_{i1}(y_i-y_1) (g_i \otimes e^{\I \hbar \partial_i}) (v \otimes x_{iN} \cdots x_{i,i+1} f) \\
&= \check R_{i,i-1}(y_i-y_{i-1}) \cdots \check R_{i1}(y_i-y_1) (g_i \otimes e^{\I \hbar \partial_i}) \check R_{iN}(y_i-y_N) \cdots \check R_{i,i+1}(y_i-y_{i+1}) (v \otimes f).
\end{align*}
\end{proof}

We are now ready to state the main theorem of this chapter, showing that the Hamiltonians of the rational Ruijsenaars-Schneider model get mapped to the Hamiltonians of the twisted inhomogeneous Heisenberg model under the twist-extended Drinfeld functor:

\begin{theorem}
The operator
\begin{equation*}
\operatorname{tr} g - \sum_i \frac{\eta}{z-y_i} \bigg( \prod_{k \neq i} \frac{y_i-y_k-\eta}{y_i-y_k} \bigg) X_i \in S\ddot H_N\llbracket z^{-1} \rrbracket
\end{equation*}
acts on $D_{\ell,N}^g(\C[y_1,...,y_N])$ as the transfer matrix $\tau^g(z)$ when $\hbar = 0$.
\end{theorem}

\begin{proof}
We notice that the constant terms coincide, so it remains to compare the residues. By lemma \ref{lemma:keyLemma}, we see that the residue $-\eta \Big( \prod_{k \neq i} \frac{y_i-y_k-\eta}{y_i-y_k} \Big) X_i$ for $\hbar = 0$ acts as
\begin{align*}
-&\eta R_{i,i-1}(y_i-y_{i-1}) \cdots R_{i1}(y_i-y_1) g_i R_{iN}(y_i-y_N) \cdots R_{i,i+1}(y_i-y_{i+1}),
\end{align*}
which is exactly how $\operatorname{Res}_{z=y_i} \tau^g(z)$ acts.
\end{proof}

Until now we have always treated the rational Ruijsenaars-Schneider model and the Heisenberg model as separate. We have now seen that there is a clear correspondence between their Hamiltonians according to the following Rosetta stone:
\begin{center}
\begin{tabular}{|r||l|}
\hline
twisted inhomogeneous Heisenberg model & rational Ruijsenaars-Schneider model \\
\hline
Yangian $Y(\mathfrak{gl}_\ell)$ & degenerate affine Hecke algebra $\dot H_N$ \\
Bethe subalgebra $B^g(\mathfrak{gl}_\ell)$ & spherical subalgebra $S\ddot H_N$ \\
fundamental monodromy representation & wave function representation \\
Planck constant $\eta$ & coupling constant $\eta$ \\
$i$th atom & $i$th particle \\
inhomogeneities $y_i$ & positions $y_i$ \\
non-local Hamiltonians $\check H_i$ & Macdonald operators $X_i$ at $\hbar = 0$ \\
\hline
\end{tabular}
\end{center}

\begin{remark}
We may think of both models as two aspects of one and the same model: The rational Ruijsenaars-Schneider model with spin, which is the rational limit of the trigonometric case described in \cite{article:lamers:2022}. Its Hilbert space is just
\begin{equation*}
D_{\ell,N}^g(\C[y_1,...,y_N]) = (\C^\ell)^{\otimes N} \otimes_{S_N} \C[y_1,...,y_N],
\end{equation*}
which evidently has two parts: The first tensorand is the Hilbert space of $N$ spins and the second tensorand is the Hilbert space of wave functions of $N$ particles. We let the usual Hamiltonians of the rational Ruijsenaars-Schneider model act on the wave function part, which intertwines with the spin chain part because we are tensoring over $S_N$. This means that an exchange of two particles acts non-trivially on their spins via the $R$-matrix.
\end{remark}

\subsection{Higher spin chain}

The way we have introduced the quantum-classical duality between the inhomogeneous Heisenberg and rational Ruijsenaars-Schneider models easily lends itself to a generalization to spins in higher representations.
%
%Consider the spin chain with monodromy representation
%\begin{equation*}
%L(\lambda^{(1)})_{y_1}^t \otimes \cdots \otimes L(\lambda^{(N)})_{y_N}^t
%\end{equation*}
%whose spins transform in the representations labeled by Young diagrams $\lambda^{(i)}$ at each site. By monoidality, we can construct this monodromy representation as the image of
%\begin{equation*}
%S(\lambda^{(1)})_{y_1} \otimes_{\dot H_*} \cdots \otimes_{\dot H_*} S(\lambda^{(N)})_{y_N}
%\end{equation*}
%under the Drinfeld functor as follows:
Let us look at a single site labeled by a Young diagram $\lambda$ of $k$ boxes. Take the Specht module $S(\lambda)$, take the twist by the sign representation, which we denote $S(\lambda)^s$, and pull back along the evaluation morphism (\ref{equation:degHeckeEval}). This yields the $\dot H_k$-module $S(\lambda)^s[y]$ where $y_i$ acts as $y+\eta Y_i$, reducing to $y+\eta c_i(t)$ on the basis vector $v_t$ labeled by a standard Young tableau $t$ of shape $\lambda$.

\begin{prop}
There is an isomorphism
\begin{equation*}
D_{\ell,N}(S(\lambda)^s[y]) \cong L(\lambda)^t[y]
\end{equation*}
of $Y(\mathfrak{gl}_\ell)$-modules.
\end{prop}

\begin{proof}
The Yangian action on $(\C^\ell)^{\otimes N} \otimes_{S_N} S(\lambda)^s[y]$ is given by
\begin{equation*}
T(z) \mapsto R_{0k}(z-y-\eta Y_k) \cdots R_{01}(z-y-\eta Y_1),
\end{equation*}
which on $v_t$ reduces to
\begin{equation*}
T(z) \mapsto R_{0k}(z-y-\eta c_k(t)) \cdots R_{01}(z-y-\eta c_1(t)).
\end{equation*}
This coincides with the Yangian action on $L(\lambda)^t[y]$ by the fusion procedure.
\end{proof}

We conclude that a single site with spin representation labeled by $\lambda$ corresponds to a \emph{stack of $k$ particles} that sit at relative positions determined by content vectors for standard Young tableaux of shape $\lambda$. A general quantum state is a superposition of such configurations and transforms under $S_k$ in the representation given by the Specht module $S(\lambda)$, \emph{i.e.} the wave function of the stack satisfies exchange statistics determined by the Specht module $S(\lambda)$. This allows us to state the following correspondence:
%For a general spin chain, let $\lambda^{(1)},...,\lambda^{(N)}$ be Young diagrams with $k_1,...,k_N$ boxes, respectively. Let $K_i := k_1+...+k_i$. We obtain an $\dot H_{K_N}$-module
%\begin{equation*}
%S(\lambda^{(1)})[y_1] \otimes_{\dot H_*} \cdots \otimes_{\dot H_*} S(\lambda^{(N)})[y_N]
%\end{equation*}
%We introduce \emph{higher $x$-operators}
%\begin{equation*}
%x_{\lambda^{(j)}\lambda^{(i)}} := \overleftarrow{\prod_k} \overrightarrow{\prod_l} \left( \frac{y_j+\eta Y_l-y_i- \eta Y_k-\eta}{y_j+\eta Y_l-y_i- \eta Y_k} + \frac{\eta}{y_i + \eta Y_k-y_j - \eta Y_l} (k \ l) \right)
%\end{equation*}
%as well as \emph{higher Macdonald operators}
%\begin{equation*}
%\mathbf{X}_i := x_{\lambda^{(i)}\lambda^{(i-1)}} \cdots x_{\lambda^{(i)}\lambda^{(1)}} e^{\I\hbar\partial_i} x_{\lambda^{(i)}\lambda^{(N)}} \cdots x_{\lambda^{(i)}\lambda^{(i+1)}}.
%\end{equation*}
% and define
%\begin{equation*}
%S(\lambda^{(1)},...,\lambda^{(N)}) := S_{K_N} \otimes_{S_{k_1} \times \cdots \times S_{k_N}} \Big( S(\lambda^{(1)}) \otimes \cdots \otimes S(\lambda^{(N)}) \Big).
%\end{equation*}
%Extend the natural $S_{K_N}$-module structure on
%\begin{equation*}
%S(\lambda^{(1)},...,\lambda^{(N)}) \otimes \C[y_1,...,y_N]
%\end{equation*}
%to a $\dot H_{K_N}$-module structure via
%\begin{equation*}
%y_{K_i+j} \mapsto -y_i - \eta Y_j, \quad 1 \leq i \leq N, 1 \leq j \leq k_i.
%\end{equation*}

%Applying the fusion procedure on the spin side, we find that $\tau^g(z)$ obtains poles at $z = y_i+\eta c_j(t)$, but these in general might not be simple. Let us nonetheless consider the residues at the poles $z = y_i+\eta c_j(t)$. In general, these have the form
%\begin{align*}
%\operatorname{Res}_{z=y_i+\eta c_j(t)} \tau^g(z)
%&= R_{\lambda^{(i)}\lambda^{(i-1)}}(y_i-y_{i-1}) \cdots R_{\lambda^{(i)}\lambda^{(1)}}(y_i-y_1) \\ &\times W_{\lambda^{(i)},j} \times R_{\lambda^{(i)}\lambda^{(N)}}(y_i-y_N) \cdots R_{\lambda^{(i)}\lambda^{(i+1)}}(y_i-y_{i+1}),
%\end{align*}
%where $W$ is some operator acting on $L(\lambda^{(i)})_{y_i}^t$.
%On the particle side, we may similarly introduce \emph{higher $x$-operators} $x_{\lambda \mu} := \overleftarrow{\prod_k} \overrightarrow{\prod_l} x_{kl}$ and define \emph{higher Macdonald operators}
%\begin{equation*}
%\mathbf{X}_i := x_{\lambda^{(i)}\lambda^{(i-1)}} \cdots x_{\lambda^{(i)}\lambda^{(1)}} e^{\I\hbar\partial_i} x_{\lambda^{(i)}\lambda^{(N)}} \cdots x_{\lambda^{(i)}\lambda^{(i+1)}}.
%\end{equation*}
%They relate as follows:
%
%\begin{prop}
%The higher $x$-operators $x_{\lambda^{(i)}\lambda^{(j)}}$ act on $D_{\ell,N}^g(S(\lambda^{(1)}) \otimes \cdots \otimes S(\lambda^{(N)}) \otimes \C[y_1,...,y_N])$ in the same way as the higher $R$-matrix $\check R_{\lambda^{(i)}\lambda^{(j)}}(y_i-y_j)$.
%\end{prop}
%
%\begin{proof}
%Lemma \ref{lemma:keyLemma} implies that acting on the basis vector $v_{t_{\lambda^{(i)}}} \otimes v_{t_{\lambda^{(j)}}} \in S(\lambda^{(i)}) \otimes S(\lambda^{(j)})$, we have
%\begin{equation*}
%x_{\lambda^{(i)}\lambda^{(j)}} := \overleftarrow{\prod_k} \overrightarrow{\prod_l} x_{kl}
%= \overleftarrow{\prod_k} \overrightarrow{\prod_l} \check R_{kl}(y_i-y_j+\eta c_k(t_{\lambda^{(i)}})-\eta c_l(t_{\lambda^{(j)}})),
%\end{equation*}
%which coincides with $\check R_{\lambda^{(i)}\lambda^{(j)}}(y_i-y_j)$.
%\end{proof}
%
%\begin{corollary}
%The symmetric polynomials $e_k(\mathbf{X}_1,...,\mathbf{X}_N)$ act on $D_{\ell,N}^g(\C[y_1,...,y_N])$ in the same way as $e_k(\mathbf{\check H}_1,...,\mathbf{\check H}_N)$ when $\hbar = 0$.
%\end{corollary}

\begin{center}
\begin{tabular}{|r||l|}
\hline
twisted inhomogeneous Heisenberg model & rational Ruijsenaars-Schneider model \\
\hline
$i$th atom & $i$th stack of particles \\
spin in representation $\lambda$ & stack satisfying $\lambda$-exchange statistics \\
inhomogeneity $y_i$ of $i$th spins & ``center of mass'' position $y_i$ of $i$th stack \\
%higher non-local Hamiltonians $\mathbf{\check H}_i$ & higher Macdonald operators $\mathbf{X}_i$ \\
\hline
\end{tabular}
\end{center}

\begin{example}
Let us look at the two site spin chain
\begin{equation*}
L(\ydiagram{2})_{y_1}^t \otimes L(\ydiagram{2})_{y_2}^t \subseteq V_{y_1}^+ \otimes V_{y_1'}^+ \otimes V_{y_2}^+ \otimes V_{y_2'}^+.
\end{equation*}
for $y_i' = y_i+\eta$ with projector $\Pi_{\ydiagram{2}} = (1 + (1 \ 2))/2$ for $\ell=2$. Explicitly solving for the spectrum of this spin chain using the spectral equation derived earlier proves difficult for the following reasons:
\begin{enumerate}[label=(\roman*)]
\item We cannot take the limit $y_i' \to y_i + \eta$ in the spectral equation, since its coefficients have a pole at $y_i'=y_i+\eta$.
\item We might try to solve the spectral equation for generic inhomogeneities and \emph{then} take the limit $y_i' \to y_i + \eta$ in the solution we obtained. However, the spectral equation for a spin chain with four sites and generic inhomogeneities contains polynomials in four variables and degree $\ell = 2$. Solving such an equation analytically is already computationally intractable.
\end{enumerate}
However, solving the Wronskian equation from section 8.6 of \cite{book:arutyunov:betheAnsatz} for the $N=4$ $\mathfrak{gl}_2$ spin chain with generic inhomogeneities and performing the fusion procedure as well as going to the homogeneous limit ($\to$ \texttt{WronskianEq.nb}) yields the solution
\begin{center}
\begin{tabular}{|c||l|}
\hline
eigenspace labeled by & eigenvalue of transfer matrix \\
\hline
$\ydiagram{4}$ & $(z-\eta)^2 (2 z^2 - 4 \eta z + 4 \eta^2)$ \\
$\ydiagram{3,1}$ & $(z-\eta)^2 (2 z^2 - 4 \eta z)$ \\
$\ydiagram{2,2}$ & $(z-\eta)^2 (2 z^2 - 4 \eta z - 2 \eta^2)$ \\
\hline
\end{tabular}
\end{center}
This is exactly correct, compare \cite{book:arutyunov:betheAnsatz}, section 8.7, up to the prefactor $(z-\eta)^2$, which results from fusion in the polynomial convention used in \emph{loc. cit.}
\end{example}

\section{$S$-duality}

\subsection{Schur-Weyl duality for the loop Yangian}

Let us reexamine the twist-extended Drinfeld functor
\begin{equation*}
D_{\ell,N}^g: \ddot H_N\mathsf{Mod} \to S\ddot H_N \# Y(\mathfrak{gl}_\ell) \mathsf{Mod}.
\end{equation*}
Note that there is an asymmetry in its definition: It prioritizes the polynomial generators $y_i$ by incorporating them in the action of the Yangian, while the $S$-dual Laurent generators $X_i$ are artificially added on. It is known that there is a generalized Schur-Weyl duality between the affine symmetric group, which is the source of the Laurent generators, and the loop algebra $L(\mathfrak{gl}_\ell) := U(\mathfrak{gl}_\ell[t^{\pm 1}])$\index{Loop algebra}. Thus, we might hope to put both sides on a more equal footing by incorporating an action of the loop algebra on $(\C^\ell)^{\otimes N} \otimes_{S_N} U$ in addition to the action of the Yangian, making use of the Laurent generators $X_i$:
\begin{equation*}
(x t)(v \otimes u) := \sum_i x_i v \otimes X_i u.
\end{equation*}
This yields an action of $L(\mathfrak{gl}_\ell) \# Y(\mathfrak{gl}_\ell)$ on $(\C^\ell)^{\otimes N} \otimes_{S_N} U$. By \cite{article:guay:2005}, this action in fact descends to the \emph{loop Yangian $LY(\mathfrak{gl}_\ell)$}\index{Loop Yangian}, which is a quotient of $L(\mathfrak{gl}_\ell) \# Y(\mathfrak{gl}_\ell)$:

\begin{theorem}
The action of the Yangian $Y(\mathfrak{gl}_\ell)$ and the loop algebra $L(\mathfrak{gl}_\ell)$ glue together to an action of the loop Yangian $LY(\mathfrak{gl}_\ell)$.
\end{theorem}

\begin{proof}
This is proved in \cite{article:guay:2005}, also see \cite{article:kodera:2016}.
\end{proof}

\begin{definition}
This defines the \emph{loop-extended Drinfeld functor}\index{Loop-extended Drinfeld functor}
\begin{equation*}
LD_{\ell,N}: \ddot H_N\mathsf{Mod} \to LY(\mathfrak{gl}_\ell) \mathsf{Mod}.
\end{equation*}
\end{definition}

We can now identify the Hamiltonians of the quantum rational Ruijsenaars-Schneider model and the quantum trigonometric Calogero-Moser model as elements of the loop Yangian, or more precisely of the centers of the loop algebra and the Yangian sitting inside the loop Yangian, respectively:

\begin{prop}
On $LD_{\ell,N}(\C[y_1,...,y_N])$, we have
\begin{equation*}
t(v \otimes f) = v \otimes D_1 f,
\end{equation*}
where $D_1$ is the standard Hamiltonian of the quantum rational Ruijsenaars-Schneider model.
\end{prop}

\begin{proof}
We immediately see this from the definition of the action of the loop algebra:
\begin{equation*}
t(v \otimes f) = \sum_i v \otimes X_i f = v \otimes D_1 f.
\end{equation*}
\end{proof}

We also obtain the following result for the $S$-dual representation, which should be compared to equation (4.2) in \cite{article:bernard:1993}:

\begin{prop}
On $LD_{\ell,N}(\C[X_1^{\pm 1},...,X_N^{\pm 1}])$, the quantum determinant has the following expansion:
\begin{align*}
\operatorname{qdet} T(z)
= 1 &+ \frac{\eta}{z} N + \frac{\eta}{z^2} \bigg( C_1' + \eta \frac{N(N-1)}{2} \bigg) \\
&+ \frac{\eta}{z^3} \bigg( 2C_2' + \eta (N-1) C_1' + \eta^2 \frac{N(N-1)(N-2)}{6} \bigg) + \cdots,
\end{align*}
where $C_1' = \sum_i y_i$ and $C_2' = \frac{1}{2}\sum_i y_i^2$ are the first two Hamiltonians of the trigonometric Calogero-Moser model.
\end{prop}

\begin{proof}
Since the quantum determinant is group-like according to proposition \ref{prop:quantumDetGroupLike}, we find that the quantum determinant acting on $LD_{\ell,N}(\C[X_1^{\pm 1},...,X_N^{\pm 1}])$ is given by the product of elementary quantum determinants $1+\frac{\eta}{z-y_i}$, which becomes
\begin{equation*}
\operatorname{qdet} T(z) = \prod_{i=1}^N \left( 1 + \frac{\eta}{z-y_i} \right).
\end{equation*}
Recalling that
\begin{equation*}
1+ \frac{\eta}{z-y_i} = 1 + \frac{\eta}{z} + \frac{\eta}{z^2} y_i + \frac{\eta}{z^3} y_i^2 + \cdots,
\end{equation*}
we obtain the expansion
\begin{equation*}
\operatorname{qdet} T(z) = 1 + \frac{\eta}{z} N + \frac{\eta}{z^2} \bigg( \sum_i y_i + \sum_{i < j} \eta \bigg)
+ \frac{\eta}{z^3} \bigg( \sum_i y_i^2 + \sum_{i < j} y_i \eta + \sum_{j < i} \eta y_j + \sum_{i < j < k} \eta^2 \bigg) + \cdots,
\end{equation*}
which reduces to the desired expression.
%
%Recall that the $R$-matrix has the expansion:
%\begin{equation*}
%R(z-y) = 1 - \frac{\eta P}{z-y} = 1 - \frac{\eta}{z} P - \frac{\eta}{z^2} y P - \frac{\eta}{z^3} y^2 P + \cdots
%\end{equation*}
%The monodromy matrix on $LD_{\ell,N}(\C[X_1^{\pm 1},...,X_N^{\pm 1}])$ then has the expansion:
%\begin{align*}
%M_a(z-y) &= R_{aN}(z-y-y_N) \cdots R_{a1}(z-y-y_1) \\
%&= 1 - \frac{\eta}{z} \sum_i P_{ai} - \frac{\eta}{z^2} \bigg( \sum_i (y_i+y) P_{ai} - \sum_{i < j} P_{ai} P_{aj} \bigg) \\
%&- \frac{\eta}{z^3} \bigg( \sum_i (y_i+y)^2 P_{ai} - \sum_{i < j} (y_i+y) P_{ai} P_{aj} - \sum_{i < j} P_{ai} (y_j+y) P_{aj}
%+ \sum_{i < j < k} P_{ai} P_{aj} P_{ak} \bigg) + \cdots
%\end{align*}
%and their product becomes
%\begin{align*}
%M_\ell(z-(\ell-1)\eta) \cdots M_1(z)
%&= 1 - \frac{\eta}{z} \sum_{a=1}^\ell \sum_{i=1}^N P_{ai} \\
%&- \frac{\eta}{z^2} \bigg( \sum_a \bigg( \sum_i (y_i+(a-1)\eta) P_{ai} - \sum_{i < j} P_{ai} P_{aj} \bigg) - \sum_{a < b} \sum_{i,j} P_{ai} P_{bj} \bigg) \\
%&- \frac{\eta}{z^3} \bigg( \sum_a \bigg( \sum_i (y_i+(a-1))^2 P_{ai} - \sum_{i < j} (y_i+(a-1)) P_{ai} P_{aj} \\
%&- \sum_{i < j} P_{ai}(y_j+(a-1)) P_{aj} + \sum_{i < j < k} P_{ai} P_{aj} P_{ak} \bigg) \\
%&- \sum_{a < b} \sum_i P_{ai} \bigg( \sum_j (y_j+(b-1)\eta) P_{bj} - \sum_{j < k} P_{bj} P_{bk} \bigg) \\
%&- \sum_{a < b} \bigg( \sum_j (y_j+(a-1)\eta) P_{aj} - \sum_{j < k} P_{aj} P_{ak} \bigg) \sum_i P_{bi} \\
%&+ \sum_{a < b < c} \sum_{i,j,k} P_{ai} P_{bj} P_{ck} \bigg) + \cdots
%\end{align*}
%Using the identity $\Pi_{1...\ell}^- P_{ab} = -\Pi_{1...\ell}^-$ and $\operatorname{tr}_{1...\ell} \Pi_{1...\ell}^- P_{ai} = 1/\ell$ as well as $\operatorname{tr}_{1...\ell} \Pi_{1...\ell}^- = 1$, we find that the first order term reduces to $N$, the second order term reduces to
%\begin{align*}
%\sum_i y_i + \frac{(\ell-1)\eta}{2} - \sum_{i < j} P_{ij} - \frac{\ell(\ell-1)}{2} (\frac{N(N-1)}{\ell^2} - N/\ell)
%\end{align*}
%\begin{align*}
%\operatorname{qdet}^1 T(z)
%&= \operatorname{tr}_{1...\ell} \Pi_{1...\ell}^- M_\ell(z-(\ell-1)\eta) \cdots M_1(z) \\
%&= 1 + \frac{\eta}{z} N
%- \frac{\eta}{z^2} \bigg( \sum_a \bigg( \sum_i (y_i+(a-1)\eta)/\ell - \sum_{i < j} P_{ij}/\ell \bigg) - \sum_{a < b} \sum_{i,j} P_{ai} P_{bj} \bigg) \\
%&- \frac{\eta}{z^3} \sum_a \bigg( \sum_i (y_i+(a-1)\eta)^2/\ell - \sum_{i < j} (y_i+(a-1)\eta) P_{ij}/\ell \\
%&- \sum_{i < j} (y_j+(a-1)\eta) P_{ij}/\ell + \sum_{i < j < k} P_{ij} P_{ik}/\ell \bigg) \\
%&- \sum_{a < b} \bigg( \sum_{ij} (y_j+(b-1)\eta) P_{ai} P_{bj} - \sum_i \sum_{j < k} P_{ai} P_{bj} P_{bk} \bigg) \\
%&- \sum_{a < b} \bigg( \sum_{ij} (y_j+(a-1)\eta) P_{aj} P_{bi} - \sum_i \sum_{j < k} P_{aj} P_{ak} P_{bi} \bigg) \\
%&+ \sum_{a < b < c} \sum_{i,j,k} P_{ai} P_{bj} P_{ck} \bigg) + \cdots
%\end{align*}
%\begin{align*}
%\operatorname{qdet}^1 T(z)
%&= \operatorname{tr}_{1...\ell} \Pi_{1...\ell}^- \prod_{ai} R_{ai}(z-y_i-a\eta) \\
%&= \operatorname{tr}_{1...\ell} \Pi_{1...\ell}^- \bigg( 1
%- \frac{\eta}{z} \sum_{ai} P_{ai}
%- \frac{\eta}{z^2} \bigg( \sum_{ai} (y_i-a\eta) P_{ai} - \sum_{ai<bj} P_{ai} P_{bj} \bigg) \\
%&- \frac{\eta}{z^3} \bigg( \sum_{ai} (y_i-a\eta)^2 P_{ai} + \sum_{ai \neq bj} (y_i-a\eta) (P_{ai} P_{bj} + P_{bj} P_{ai}) + \sum_{ai<bj<ck} P_{ai} P_{bj} P_{ck} \bigg) \bigg) + \cdots,
%\end{align*}
%%\begin{align*}
%%\operatorname{qdet}^1 T(z)
%%&= \operatorname{tr}_{1...\ell} \Pi_{1...\ell}^- \prod_{ij} R_{ij}(z-y_j-i\eta) \\
%%&= \operatorname{tr}_{1...\ell} \Pi_{1...\ell}^- \bigg( 1
%%- \frac{\eta}{z} \sum_{ij} P_{ij}
%%- \frac{\eta}{z^2} \sum_{ij} \bigg( (y_j-i\eta) P_{ij} - \sum_{kl} P_{ij} P_{kl} \bigg) \\
%%&- \frac{\eta}{z^3} \sum_{ij} \bigg( (y_j-i\eta)^2 P_{ij} + \sum_{kl} (y_j-i\eta) P_{ij} P_{kl} + \sum_{klmn} P_{ij} P_{kl} P_{mn} \bigg) \bigg) + \cdots \\
%%&= 1 - \frac{\eta}{z} N - \frac{\eta}{z^2} \sum_{ij} (y_j-i\eta) - \frac{\eta}{z^3} \sum_{ij} (y_j-i\eta)^2 + \cdots,
%%\end{align*}
%where the mixed terms of the product expansion vanish after antisymmetrization since they are symmetric in the auxiliary indices. Plugging in the definition of $C_1$ and $C_2$ then yields the claim.
\end{proof}

\begin{remark}
It is clear from the proof that higher Hamiltonians of the trigonometric Calogero-Moser model can be obtained from higher order expansions of the quantum determinant.
\end{remark}

\subsection{The trigonometric Gaudin model}

In order to define the trigonometric Gaudin model\index{Trigonometric Gaudin model}, let us follow \cite{article:molev:2019} by introducing the trigonometric $r$-matrix\index{Trigonometric $r$-matrix}
\begin{equation*}
r(t) = \frac{t+1}{t-1} P + Q, \quad Q = \sum_{ab} \operatorname{sgn}(b-a) e_{ab} \otimes e_{ba}
\end{equation*}
and considering the generating function
\begin{equation*}
G(t) = \sum_i r_{0i}(t/X_i) = \sum_i \left( \frac{t+X_i}{t-X_i} P_{0i} + Q_{0i} \right),
\end{equation*}
from which we obtain the commuting \emph{Gaudin Hamiltonians}:
\begin{equation*}
G_i := \operatorname{Res}_{t=X_i} \frac{\operatorname{tr}_0 G(t)^2}{2 X_i} = \sum_{i \neq j} r_{ij}(X_i/X_j) = \sum_{i \neq j} \left( \frac{X_i+X_j}{X_i-X_j} P_{ij} + Q_{ij} \right).
\end{equation*}

\begin{theorem}
The Hamiltonian $\delta^{-1} C_1 \delta \in \delta^{-1} S\ddot H_N \delta$ acts on $LD_{\ell,N}(\C[X_1^{\pm 1},...,X_N^{\pm 1}])$ in the same way as $-\frac{\eta}{2} \sum_i G_i$ when $\hbar = 0$.
\end{theorem}

\begin{proof}
Let us rewrite $\delta^{-1} y_i \delta$:
\begin{align*}
\delta^{-1} y_i \delta
&= y_i + \eta \sum_{i \neq j} \theta_{ij} \\
&= -\I \hbar X_i \partial_i - (i-1) \eta + \eta \sum_{j < i} \theta_{ji} (1+(i \ j)) - \eta \sum_{j > i} \theta_{ij} (1+(i \ j)) + \eta \sum_{i \neq j} \theta_{ij} \\
&= -\I \hbar X_i \partial_i + \eta \sum_{j < i} \theta_{ji} (i \ j) - \eta \sum_{j > i} \theta_{ij} (i \ j) \\
&= -\I \hbar X_i \partial_i + \eta \sum_{j < i} \frac{\theta_{ji}+1-\theta_{ij}}{2} (i \ j) - \eta \sum_{j > i} \frac{\theta_{ij}+1-\theta_{ji}}{2} (i \ j) \\
&= -\I \hbar X_i \partial_i - \eta \sum_{i \neq j} \frac{\theta_{ij}-\theta_{ji}}{2} (i \ j) - \eta \sum_j \operatorname{sgn}(j-i) (i \ j).
\end{align*}
Summing over $i$ cancels the last term, giving
\begin{align*}
\sum_i \delta^{-1} y_i \delta
&= -\I\hbar \sum_i X_i \partial_i - \frac{\eta}{2} \sum_{i \neq j} \frac{X_i+X_j}{X_i-X_j} P_{ij} \\
&\overset{\hbar \to 0}\longrightarrow - \frac{\eta}{2} \sum_{i \neq j} \frac{X_i+X_j}{X_i-X_j} P_{ij} = -\frac{\eta}{2} \sum_i G_i.
\end{align*}
where in the last step we have used that $Q_{ij} + Q_{ji} = 0$.
\end{proof}

Unfortunately, the higher Hamiltonians of the trigonometric Calogero-Moser model significantly grow in complexity, often positioning statements about them in the conjectural realm. Here, we see a reflection of this phenomenon, since it becomes very hard to see how the $Q$-operator enters into higher Hamiltonians. In contrast, it is immediate that the $Q$-operators cancel for the lowest Hamiltonian $\delta^{-1} C_1 \delta$. Nonetheless, the more general findings of quantum-classical duality between the trigonometric Calogero-Moser model and the trigonometric Gaudin model in section 4 of \cite{article:zabrodin:2017} lead us to conjecture that the higher Hamiltonians $\delta^{-1} C_k \delta$ yield a generating set of symmetric polynomials in $G_1,...,G_N$ modulo polynomials in the occupation number operators (\ref{equation:occupationNumber}).

%\begin{equation*}
%\sum_i G_i^2 = \sum_i \sum_{i \neq j} \sum_{i \neq k} \left( \frac{X_i+X_j}{X_i-X_j} \frac{X_i+X_k}{X_i-X_k} P_{ij} P_{ik} + \frac{X_i+X_j}{X_i-X_j} P_{ij} Q_{ik} + \frac{X_i+X_k}{X_i-X_k} Q_{ij} P_{ik} + Q_{ij} Q_{ik} \right)
%\end{equation*}

\chapter{Geometry}\label{chapter:geometry}

\section{Quantum-classical duality in terms of functorial quantum field theory}

The aim of this section is to reformulate Yangian Schur-Weyl duality in terms of a functorial quantum field theory. The mathematical structures used so far have been heavily representation theoretical. Nonetheless, we have seen some hints that there is an underlying geometry at play: We have made use of braids on cylinders as well as complex coordinates that may be reinterpreted geometrically as punctures on a Riemann surface. Together, they give two topological and two holomorphic dimensions, and both may be formulated in terms of cobordisms.

\subsection{From diagrams to field theory}

Since we are working in four total dimensions, the diagrams on cylinders suggest the following scheme for our functorial quantum field theory:
~\\
\begin{center}
\begin{tabular}{|l|l|l|}
\hline
space & dimensionality & valued in \\
\hline
$C \times S_*^1 \times [0,1]$ & 4-dimensional & vectors/transformations \\
$C \times S_*^1$ & 3-dimensional & (co)modules/functors \\
$D^\times \times S_*^1 \times [0,1]$ & 3-dimensional & (co)modules/functors \\
%$\P^1 \setminus \{ \infty \} \times *$ & 2-dimensional & algebras \\
$D^\times \times S_*^1$ & 2-dimensional & (co)algebras/categories \\
$D^\times \times *$ & 1-dimensional & 2-(co)algebras/2-categories \\
\hline
\end{tabular}
\end{center}
~\\
Here $C$ is a complex curve punctured by ingoing and outgoing points, $D^\times$ denotes the formal punctured disc, which we view as 1-dimensional, and $S_*^1$ denotes a circle marked with a basepoint. The (co)module assigned to $D^\times \times S_*^1 \times [0,1]$ will be the identity bi(co)module over the (co)algebra assigned to $D^\times \times S_*^1$, which in turn can be computed in terms of the 2-category assigned to $D^\times \times *$. Since the diagrams on cylinders label $D^\times \times *$ with a representation of the Yangian, our functorial quantum field theory should assign the delooping $\mathcal{B}Y(\mathfrak{gl}_\ell)\mathsf{Mod}$ of the monoidal category of modules over the Yangian to $D^\times \times *$. From this, let us compute what should be assigned to $D^\times \times S_*^1$ by cutting $S_*^1$ into a line marked with the basepoint on the interior and an unmarked line as follows:
~\\
\begin{center}
\begin{tikzpicture}
\draw (0,0) circle (0.75cm);
\filldraw (0,-0.75cm) circle (2pt);
\node at (1.5,0) {$\longrightarrow$};
\draw (3.75,0.25) arc (0:180:0.75cm);
\draw (3.75,-0.25) arc (0:-180:0.75cm);
\filldraw (3,-1) circle (2pt);
\end{tikzpicture}
\end{center}
~\\
If we insert a right dualizable $Y(\mathfrak{gl}_\ell)$-module $V$ at the basepoint, the marked line gives the 2-functor that sends $\mathsf{Vect}$ to the category $Y(\mathfrak{gl}_\ell)\mathsf{Mod}^\text{op} \boxtimes Y(\mathfrak{gl}_\ell)\mathsf{Mod}$ and $\C$ to $V^\vee \boxtimes V$, while the unmarked line is nothing but the Hom 2-functor
\begin{equation*}
\mathcal{B}Y(\mathfrak{gl}_\ell)\mathsf{Mod}^\text{op} \times \mathcal{B}Y(\mathfrak{gl}_\ell)\mathsf{Mod} \to \mathcal{R}ex,
\end{equation*}
which evaluates to $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$ on the unique object $*$ of $\mathcal{B}Y(\mathfrak{gl}_\ell)\mathsf{Mod}$ and sends any two $Y(\mathfrak{gl}_\ell)$-modules $V,V'$ to the functor
\begin{equation*}
\Hom_{\mathcal{B}Y(\mathfrak{gl}_\ell)\mathsf{Mod}}(V,V'): \Hom_{\mathcal{B}Y(\mathfrak{gl}_\ell)\mathsf{Mod}}(*,*) \to \Hom_{\mathcal{B}Y(\mathfrak{gl}_\ell)\mathsf{Mod}}(*,*), \quad U \mapsto V' \otimes U \otimes V
\end{equation*}
which represents the $Y(\mathfrak{gl}_\ell)$-module $V' \otimes V$. We conclude that the (co)algebra corresponding to $D^\times \times S_*^1$ with $V$ inserted at the basepoint is the coalgebra $V \otimes V^\vee$. To get rid of the dependence on $V$, we should take the coend
\begin{equation*}
\int^{V \in Y(\mathfrak{gl}_\ell)\mathsf{Mod}} V \otimes V^\vee.
\end{equation*}

This gives a heuristic argument for assigning the coend $\int^{V \in Y(\mathfrak{gl}_\ell)\mathsf{Mod}} V \otimes V^\vee$ to $D^\times \times S_*^1$. However, for technical reasons, it will be necessary to work inside the category $\mathsf{cfVect}$ (see definition \ref{definition:cfVect}) and replace the coend by the \emph{universal coacting coalgebra}:

\begin{definition}
Let $\mathsf{C}$ be a monoidal category. A \emph{coacting coalgebra for $\mathsf{C}$} is a coalgebra $L'$ with coactions $V \to L' \otimes V$ for all $V \in \mathsf{C}$ such that
\begin{center}
\begin{tikzcd}
V \arrow{r} \arrow{d}{f} & L' \otimes V \arrow{d}{\id \otimes f} \\
W \arrow{r} & L' \otimes W
\end{tikzcd}
\end{center}
commutes for all morphisms $f: V \to W$. A \emph{universal} coacting coalgebra $L$ has unique maps $\psi: L \to L'$ to all other coacting coalgebras that commute with the coactions. It is unique up to unique isomorphism.
\end{definition}

This extends the definition of the coend $\int^{V \in \mathsf{C}} V \otimes V^\vee$ to monoidal categories $\mathsf{C}$ that are not necessarily rigid. We now make the following observation:

%that we should assign a 2-categorical object to the direct product of a formal punctured disc and a point $D^\times \times *$, which should be seen as a one-dimensional object, as well as a 1-categorical object to $D^\times \times S_*^1$, where $S_*^1$ is a circle marked with a basepoint.
%
% We also know that this is labeled by a representation $V_y^+$ of the Yangian, so we conclude that this bicategory should be the delooping of the monoidal category $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$. It remains to determine what should be assigned to $D^\times \times S_*^1$, where $S_*^1$ is a circle marked with a basepoint. By general abstract arguments from the theory of factorization algebras and topological quantum field theory recounted in \cite{article:costello:2013}, this will be given by the \emph{dual Bethe subalgebra} $C(\mathfrak{gl}_\ell)$.
%a sensible guess would be the vertical trace
%\begin{equation*}
%\operatorname{Tr}(Y(\mathfrak{gl}_\ell)\mathsf{Mod}) := \int^{V \in Y(\mathfrak{gl}_\ell)\mathsf{Mod}} \Hom_{Y(\mathfrak{gl}_\ell)}(V,V).
%\end{equation*}
%We would expect that this coend is given by the invariants of some kind of coadjoint representation of the Yangian. Thus, the best candidate would be the dual Bethe subalgebra $C(\mathfrak{gl}_\ell)$ of the dual Yangian $Y^\vee(\mathfrak{gl}_\ell)$. Indeed, we have:
%\begin{definition}
%The dual Bethe subalgebra $C(\mathfrak{gl}_\ell)$ is the space of $\C$-linear forms on $Y(\mathfrak{gl}_\ell)$ that vanish on commutators. It is a subalgebra of the dual Yangian via the coproduct of the Yangian.
%\end{definition}
%
%In particular, the dual Bethe subalgebra contains the characters of finite-dimensional modules over the Yangian, just like the usual Bethe subalgebra contains the cocharacters of finite-dimensional comodules over $Y(\mathfrak{gl}_\ell)\llbracket z^{-1} \rrbracket$. Thus, we are led to assign the category $C(\mathfrak{gl}_\ell)\mathsf{mod}_{Y(\mathfrak{gl}_\ell)\mathsf{Mod}}$ of $C(\mathfrak{gl}_\ell)$-modules internal to $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$.

\begin{prop}
Equipping $Y^\vee(\mathfrak{gl}_\ell)$ with the coadjoint action makes it into a coacting coalgebra for $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$ via the left coactions
\begin{equation*}
V \to Y^\vee(\mathfrak{gl}_\ell) \otimes V, \quad v \mapsto \mathcal{R} (1 \otimes v).
\end{equation*}
\end{prop}

\begin{proof}
If we let $\rho$ denote the action of $V$, then the coaction is defined via the composition
\begin{equation*}
\delta := (\id \otimes \rho) \circ (\mathcal{R} \otimes \id): V \to Y^\vee(\mathfrak{gl}_\ell) \otimes Y(\mathfrak{gl}_\ell) \otimes V \to Y^\vee(\mathfrak{gl}_\ell) \otimes V,
\end{equation*}
where we have equipped $Y(\mathfrak{gl}_\ell)$ with the adjoint action, making $\rho$ into a $Y(\mathfrak{gl}_\ell)$-linear map. The map $\delta$ satisfies the properties of a coaction due to $(\Delta \otimes \id) = \mathcal{R}_{23} \mathcal{R}_{13}$ and $(\epsilon \otimes \id)(\mathcal{R}) = 1$, which was proven in \cite{article:nazarov:2019}. Furthermore, it commutes with $Y(\mathfrak{gl}_\ell)$-linear maps since $\rho$ does. It remains to show that
\begin{equation*}
\C \to Y^\vee(\mathfrak{gl}_\ell) \otimes Y(\mathfrak{gl}_\ell), \quad 1 \mapsto \mathcal{R}
\end{equation*}
is $Y(\mathfrak{gl}_\ell)$-linear, \emph{i.e.} that $c \cdot \mathcal{R} = \epsilon(c) \mathcal{R}$. To this end, note that the coadjoint action $\operatorname{ad}_c^*$ is uniquely defined by
\begin{equation*}
\langle a,\operatorname{ad}_c^* b \rangle = \langle \operatorname{ad}_{S(c)} a,b \rangle,
\end{equation*}
implying
\begin{equation*}
\langle \operatorname{ad}_{c_{(2)}} X_i, \operatorname{ad}_{c_{(1)}}^* X_j^\vee \rangle = \langle \operatorname{ad}_{S(c_{(1)})} \operatorname{ad}_{c_{(2)}} X_i, X_j^\vee \rangle = \epsilon(c) \langle X_i,X_j^\vee \rangle = \epsilon(c) \delta_{ij}.
\end{equation*}
This shows that the endomorphism
\begin{equation*}
(\langle \cdot,\cdot \rangle \otimes \id) \circ (\id \otimes c \cdot \mathcal{R}): Y(\mathfrak{gl}_\ell) \to Y(\mathfrak{gl}_\ell) \otimes Y^\vee(\mathfrak{gl}_\ell) \otimes Y(\mathfrak{gl}_\ell) \to Y(\mathfrak{gl}_\ell)
\end{equation*}
coincides with $\epsilon(c) \id$. We conclude $c \cdot \mathcal{R} = \epsilon(c) \mathcal{R}$.
\end{proof}

%\begin{lemma}
%There exist finitely many tuples $(y_1,...,y_N)$ such that $x \in F_N Y(\mathfrak{gl}_\ell)$ is zero if and only if $x$ acts as zero on all $V_{y_1}^+ \otimes \cdots \otimes V_{y_N}^+$.
%\end{lemma}
%
%\begin{proof}
%Let $\rho_{y_1,...,y_N}: Y(\mathfrak{gl}_\ell) \to \End V_{y_1}^+ \otimes \cdots \otimes V_{y_N}^+$ denote the action. Given any $x \in F_N Y(\mathfrak{gl}_\ell)$, it is a result of \cite{article:nazarov:2019} that $\rho_{y_1,...,y_N}(x) = 0$ for all values of $y_1,...,y_N$ implies $x = 0$. But $\rho_{y_1,...,y_N}(x)$ is polynomial in $y_1,...,y_N$, so it is enough to know that it vanishes at finitely many points.
%\end{proof}

\begin{prop}
The dual Yangian $Y^\vee(\mathfrak{gl}_\ell)$ is the universal coacting coalgebra of $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$.
\end{prop}

%\begin{proof}
%An extranatural transformation $V^\vee \otimes V \to L$ is the same as a collection of coactions $V \to V \otimes L$ commuting with $Y(\mathfrak{gl}_\ell)$-linear maps since $V$ was assumed to be right dualizable. Letting $L := \int^{V \in Y(\mathfrak{gl}_\ell)\mathsf{mod}} V^\vee \otimes V$, the coactions of the dual Yangian then guarantee the existence of a unique map $\psi: L \to Y^\vee(\mathfrak{gl}_\ell)$ commuting with the coactions $V \to V \otimes L$ and $V \to V \otimes Y^\vee(\mathfrak{gl}_\ell)$.
%
%Let $\mathsf{M}_N$ be the full subcategory of $Y(\mathfrak{gl}_\ell)\mathsf{mod}$ spanned by $V_{y_1}^+ \otimes \cdots \otimes V_{y_N}^+$ for the finitely many tuples $(y_1,...,y_N)$ of the previous lemma. Let
%\begin{equation*}
%E_N := \bigoplus_{V \in \mathsf{M}_N} V \otimes V^\vee \in Y(\mathfrak{gl}_\ell)\mathsf{mod}
%\end{equation*}
%with the special element $1_N \in E_N$ representing the sum of identities. By the previous lemma, we can identify $F_N Y(\mathfrak{gl}_\ell)$ as a subspace of $E_N$ via the map $Y(\mathfrak{gl}_\ell) \to E_N$ induced by the jointly faithful actions. In the case of $E_N$, the coaction of $Y^\vee(\mathfrak{gl}_\ell)$ sends $1_N$ to $\mathcal{R}(1_N \otimes 1)$, which projects onto
%\begin{equation*}
%\mathcal{R}_N \in F_N Y(\mathfrak{gl}_\ell) \otimes Y^\vee(\mathfrak{gl}_\ell)/F_N Y^\vee(\mathfrak{gl}_\ell),
%\end{equation*}
%confer (\ref{equation:universalRMatrixN}).
%
%The image of $1_N$ under the coaction $E_N \to E_N \otimes L$ yields an element $\widetilde{\mathcal{R}}_N \in E_N \otimes L$ that maps to $\mathcal{R}_N$ using $\psi$. In the limit, we obtain an element $\widetilde{\mathcal{R}}$ mapping to the universal $R$-matrix $\mathcal{R}$. The element $\widetilde{\mathcal{R}}$ then witnesses that the composition $Y(\mathfrak{gl}_\ell) \otimes L \to Y(\mathfrak{gl}_\ell) \otimes Y^\vee(\mathfrak{gl}_\ell) \to \C$ is a non-degenerate pairing, implying that $\psi$ is an isomorphism.
%\end{proof}

\begin{proof}
The coactions of the dual Yangian guarantee the existence of a unique morphism $\psi: L \to Y^\vee(\mathfrak{gl}_\ell)$ that commutes with the coactions $Y(\mathfrak{gl}_\ell) \to Y^\vee(\mathfrak{gl}_\ell) \otimes Y(\mathfrak{gl}_\ell)$ and $Y(\mathfrak{gl}_\ell) \to L \otimes Y(\mathfrak{gl}_\ell)$. The image of $1$ under the first map is nothing but the canonical element $\mathcal{R}$. Call the image of $1$ under the second map $\mathcal{R}_L$. Then $(\psi \otimes \id)(\mathcal{R}_L) = \mathcal{R}$, so that $\mathcal{R}_L$ witnesses that
\begin{equation*}
\langle \cdot,\cdot \rangle \circ (\id \otimes \psi): Y(\mathfrak{gl}_\ell) \otimes L \to Y(\mathfrak{gl}_\ell) \otimes Y^\vee(\mathfrak{gl}_\ell) \to \C
\end{equation*}
is a non-degenerate pairing, implying that $\psi$ is an isomorphism.
\end{proof}

\subsection{A first stab at a category of cobordisms}\label{subsection:naiveDef}

%These data are combined in the complex Teichmüller tower, whose genus zero part describes $(1+N)$-pointed Riemann spheres $(\P^1;\infty,y_1,...,y_N;-\partial_{z^{-1}},v_1,...,v_N)$, where $y_1,...,y_N$ are distinct complex numbers and $v_1,...,v_N$ are non-zero tangent vectors at $y_1,...,y_N$, respectively. The morphisms in genus zero are generated by braidings and twists, visualized in figure \ref{figure:braidTwist}. In \cite{book:bakalov}, it is proved that the complex Teichmüller groupoid is equivalent to the topological Teichmüller groupoid, coming from the following construction:
%
%\begin{definition}
%\begin{enumerate}[label=(\roman*)]
%\item An \emph{extended surface} is a smooth oriented 2-manifold $\Sigma$ with parametrized boundary circles.
%\item The \emph{topological Teichmüller groupoid} $\mathsf{Teich}$ is the groupoid of extended surfaces and orientation-preserving homeomorphisms up to isotopy.
%\end{enumerate}
%\end{definition}
%
%\begin{figure}
%\centering
%\begin{center}
%\begin{tabular}{cc}
%\begin{tikzpicture}
%\draw[gray] (0,0) ellipse (2cm and 0.7cm);
%\node[right] at (2cm,0) {$\infty$};
%\draw[gray] (-2cm,0) -- (-2cm,2);
%\draw[gray] (2cm,0) -- (2cm,2);
%\draw[gray] (0,2) ellipse (2cm and 0.7cm);
%\node[right] at (2cm,2) {$\infty$};
%
%\fill (-0.7,0) circle (0.07cm);
%\node[below] at (-0.7,0) {$y_1$};
%\fill (0.7,0) circle (0.07cm);
%\node[below] at (0.7,0) {$y_2$};
%\fill (-0.7,2) circle (0.07cm);
%\node[above] at (-0.7,2) {$y_1$};
%\fill (0.7,2) circle (0.07cm);
%\node[above] at (0.7,2) {$y_2$};
%
%\draw[dotted,very thick] (0.62,0) .. controls (0.62,1) and (-0.62,1) .. (-0.62,2);
%\draw (0.7,0) .. controls (0.7,1) and (-0.7,1) .. (-0.7,2);
%
%\fill[white] (0,1) circle (0.08cm);
%
%\draw[dotted,very thick] (-0.62,0) .. controls (-0.62,1) and (0.62,1) .. (0.62,2);
%\draw (-0.7,0) .. controls (-0.7,1) and (0.7,1) .. (0.7,2);
%\end{tikzpicture}
%&
%\begin{tikzpicture}
%\draw[red,dashed] (-1.5,-0.5) -- (-1.5,1.5);
%
%\draw (0.5,-0.5) .. controls (0.5,0.5) and (-0.5,0.5) .. (-0.5,1.5);
%\draw (-0.5,-0.5) .. controls (-0.5,0.5) and (0.5,0.5) .. (0.5,1.5);
%\draw (0.1,0.6) arc (45:135:0.15);
%
%\node[below] at (-0.5,-0.5) {$y_1$};
%\node[below] at (0.5,-0.5) {$y_2$};
%
%\draw[red,dashed] (1.5,-0.5) -- (1.5,1.5);
%\end{tikzpicture}
%\\ (a) & (b) \\~\\
%\begin{tikzpicture}
%\draw[gray] (0,0) ellipse (2cm and 0.7cm);
%\node[right] at (2cm,0) {$\infty$};
%\draw[gray] (-2cm,0) -- (-2cm,2);
%\draw[gray] (2cm,0) -- (2cm,2);
%\draw[gray] (0,2) ellipse (2cm and 0.7cm);
%\node[right] at (2cm,2) {$\infty$};
%
%\fill (0,0) circle (0.07cm);
%\node[below] at (0,0) {$y$};
%\fill (0,2) circle (0.07cm);
%\node[above] at (0,2) {$y$};
%
%\draw[dotted,very thick] (0.08,0) .. controls (0.08,0.5) and (-0.08,0.5) .. (-0.08,1);
%\draw[dotted,very thick] (-0.07,1.07) .. controls (-0.07,1.5) and (0.07,1.5) .. (0.07,2);
%\draw (0,0) -- (0,2);
%\end{tikzpicture}
%&
%\begin{tikzpicture}
%\draw[red,dashed] (-0.5,-0.5) -- (-0.5,1.5);
%\draw (-0.5,0.5) -- (0.5,0.5);
%\draw (0.5,0.5) .. controls (1,0.5) .. (1,1.5);
%\draw (1,-0.5) .. controls (1,0.5) .. (1.5,0.5);
%\draw (1.5,0.5) -- (2.5,0.5);
%\node[below] at (1,-0.5) {$y$};
%\draw[red,dashed] (2.5,-0.5) -- (2.5,1.5);
%\end{tikzpicture}
%\\
%(c) & (d)
%\end{tabular}
%\caption{(a) A framed braiding in the $(1+2)$-pointed Riemann sphere. (b) The corresponding diagram on a cylinder as we would have drawn it until now. (c) A counter-clockwise $2\pi$-twist of the framing around a single strand in the $(1+1)$-pointed Riemann sphere. (d) The corresponding diagram on a cylinder.}
%\label{figure:braidTwist}
%\end{center}
%\end{figure}

%Let us start with a naive definition: Let $\C\mathsf{Cob}$ denote the monoidal 2-category whose
%\begin{enumerate}[label=(\roman*)]
%\item objects are natural numbers $[N]$, thought of as a disjoint union of $N$ formal punctured discs,
%\item 1-morphisms $[N] \to [M]$ are nodal complex curves marked with $N$ ingoing and $M$ outgoing ordered points. Composition is defined by gluing outgoing to ingoing points and identities are given by $\P^1$ marked with $0$ and $\infty$,
%\item 2-morphisms are homotopy classes of paths in the moduli space of curves,
%\item the tensor product is disjoint union.
%\end{enumerate}
%Let $\C\mathsf{Cob}_0$ denote the same monoidal 2-category, but where we additionally require morphisms to only have connected components of genus zero and have exactly one outgoing point per connected component. This last condition is needed to make the set of genus zero morphisms closed under composition.
%
%We would like to be able to define a monoidal 2-functor $\C\mathsf{Cob}_0 \to \mathsf{Rex}$ by sending
%\begin{enumerate}[label=(\roman*)]
%\item the formal punctured disc $[1]$ to $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$,
%\item the cylinders $(\P^1;\infty,y)$ to the shift functors,
%\item the pair-of-pants $(\P^1;\infty,y_1,y_2)$ to the shifted tensor product functor
%\begin{equation*}
%Y(\mathfrak{gl}_\ell)\mathsf{Mod}^{\boxtimes 2} \to Y(\mathfrak{gl}_\ell)\mathsf{Mod}, \quad V_1 \boxtimes V_2 \mapsto V_1(y_1) \otimes V_2(y_2),
%\end{equation*}
%where $V_i(y_i)$ denotes $V_i$ shifted by $y_i$,
%\item the action of the braid group via 2-morphisms to the action of the braid group on the tensor product functor via a braiding.
%\end{enumerate}

We now set out to give a rigorous definition of our functorial quantum field theory. We start with a naive definition for our cobordism category: Let $\mathbb{C}\textnormal{ob}'$ denote the double category (see appendix \ref{appendix:doubleCats} for a review on double categories) whose
\begin{enumerate}[label=(\roman*)]
\item objects $[N]$ are disjoint unions of $N$ copies of $D^\times \times S_*^1$,%, where $D^\times$ is the formal punctured disc and $S_*^1$ is a circle with a chosen basepoint.
\item tight morphisms $[N] \longrightarrow [N]$ are cylinder cobordisms equipped with isotopy classes of paths connecting the basepoints of the boundary circles. This specifies an element in $\dot S_N$ by permutation of the boundary circles and paths winding around the cylinders,
\item loose morphisms $[N] \dashrightarrow [1]$ are holomorphic cobordisms $\P^1$ with distinct ingoing points $y_1,...,y_N$ and outgoing point $\infty$, where we imagine that the points $y_1,...,y_N$ are secretly labeled by the Young diagram $\ydiagram{1}$,
\item squares of the form
\begin{center}
\begin{tikzcd}[column sep=2cm]
{[N]} \arrow[dashed]{r}{(y_1,...,y_N)} \arrow{d}{\sigma} & {[1]} \arrow{d}{\id} \\
{[N]} \arrow[dashed]{r}{(y_{\bar \sigma(1)},...,y_{\bar \sigma(N)})} & {[1]}
\end{tikzcd}
\end{center}
are homotopy classes of paths in the moduli space of pointed complex curves. Here $\bar \sigma$ denotes the image of $\sigma$ under $\dot S_N \to S_N$, sending the Laurent generators $X_i$ to unity.
\end{enumerate}

We note that this is already suspect because composition of loose morphisms is not well-defined unless we allow nodal curves as holomorphic cobordisms. Nonetheless, we would want to define a double functor that sends
\begin{enumerate}[label=(\roman*)]
\item the object $[1]$ to $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$,
\item the cobordism specifying a simple permutation $s_i$ to the permutation map $Y(\mathfrak{gl}_\ell)\mathsf{Mod}^{\boxtimes 2} \to Y(\mathfrak{gl}_\ell)\mathsf{Mod}^{\boxtimes 2}$,
\item the cobordism specifying a winding around the $i$th cylinder to the identity,
\item a loose morphism $(y_1,...,y_N)$ to the shifted tensor product functor
\begin{equation*}
Y(\mathfrak{gl}_\ell)\mathsf{Mod}^{\boxtimes N} \to Y(\mathfrak{gl}_\ell)\mathsf{Mod}, \quad V_1 \boxtimes \cdots \boxtimes V_N \mapsto V_1(y_1) \otimes \cdots \otimes V_N(y_N),
\end{equation*}
where $V_i(y_i)$ denotes $V_i$ shifted by $y_i$,
\item a square specifying a simple permutation $s_i$ to the corresponding braiding,
\item a square specifying a path winding once around the $i$th cylinder to $X_i$.
\end{enumerate}
It is here that we also run into problems: The braiding of the Yangian induced by the $R$-matrices is neither invertible nor defined for all values of the spectral parameter. We have already seen that the $R$-matrix has poles and at some points becomes a projector. Furthermore, the braiding degenerates when we try to braid $V_y^+$ with its dual: It can be easily checked that dualizing the braiding
\begin{equation*}
P \check R(y_1-y_2): V_{y_1}^+ \otimes V_{y_2}^+ \to V_{y_2}^+ \otimes V_{y_1}^+
\end{equation*}
yields
\begin{equation*}
\tfrac{y_2-y_1-\ell\eta}{y_2-y_1-(\ell+1)\eta} P - \tfrac{\eta}{y_2-y_1-(\ell+1)\eta} P^t: V_{y_1}^+ \otimes V_{y_2}^- \to V_{y_2}^- \otimes V_{y_1}^+,
\end{equation*}
where $P^t = \sum_{ij} e_{ij} \otimes e_{ij}$. In particular, we see that braiding $V_y^+$ with its left dual $V_{y+\ell\eta}^-$ reduces to $P^t$, which projects onto the one-dimensional subspace spanned by $\sum_i e_i \otimes e_i$, and is hence not invertible.

\subsection{Patching up the naive definition}\label{subsection:patch}

We have seen that the naive description above is not workable, essentially because the category of representations of the Yangian is not braided in the standard sense. Instead, it is a result of \cite{article:soibelman:1997} that the category of finite-dimensional representations of the Yangian is a \emph{meromorphic braided category}. This means that the operadic data defining the tensor product and the braiding actually form sheaves on a complex analytic space, which might degenerate on subspaces of proper codimension. We will roughly follow this idea and replace loose morphisms $[N] \dashrightarrow [1]$ by quasi-coherent sheaves on an analogue of the moduli space
\begin{equation*}
M_{0,1+N} = \{ (y_1,...,y_N) \in \C^N \mid y_i \neq y_j \} / S_N \times \C^\times \ltimes \C
\end{equation*}
of $(1+N)$-pointed complex smooth projective curves of genus zero. Indeed, to get a well-defined braiding, it will be important to impose the condition $y_i-y_j \neq \eta$, which breaks the $\C^\times$-symmetry and gives the quotient stack
\begin{equation*}
Y_N := \{ (y_1,...,y_N) \in \C^N \mid y_i-y_j \neq 0,\eta \}/S_N \times \C.
\end{equation*}
Writing $\underline{\dot H}_N := \dot H_N[(y_i-y_j)^{-1},(y_i-y_j-\eta)^{-1}]$, we then arrive at the following proposition:

\begin{prop}
The category of quasi-coherent sheaves on $Y_N$ is equivalent to the category of $\C$-equivariant $\underline{\dot H}_N$-modules.
\end{prop}

\begin{proof}
Quasi-coherent sheaves on $Y_N$ are equivalently $S_N \times \C$-equivariant modules $U$ over
\begin{equation*}
A := \C[y_1,...,y_N][(y_i-y_j)^{-1},(y_i-y_j-\eta)^{-1}].
\end{equation*}
Being $\C$-equivariant means that $U$ comes equipped with a coaction $U \to U[y]$ compatible with the algebra map $A \to A[y], y_i \mapsto y_i+y$. Being $S_N$-equivariant means that $U$ comes equipped with an action of $S_N$ satisfying
\begin{equation*}
\sigma (f u) = (\sigma f) (\sigma u), \quad \forall \sigma \in S_N, f \in A, u \in U,
\end{equation*}
This means that we can think of $U$ as a module over the semidirect product algebra $S_N \ltimes A$. Note that the operators
\begin{equation*}
T_i = \frac{y_i-y_{i+1}-\eta}{y_i-y_{i+1}} s_i + \frac{\eta}{y_i-y_{i+1}} \in S_N \ltimes A
\end{equation*}
together with $y_1,...,y_N$ generate a subalgebra of $S_N \ltimes A$ isomorphic to $\dot H_N$. On the other hand, we have $s_i = \frac{y_i-y_{i+1}}{y_i-y_{i+1}-\eta} T_i - \frac{\eta}{y_i-y_{i+1}-\eta}$, so that localizing at $y_i-y_{i+1}$ and $y_i-y_{i+1}-\eta$ makes both algebras isomorphic:
\begin{equation*}
S_N \ltimes A \cong \dot H_N[(y_i-y_j)^{-1},(y_i-y_j-\eta)^{-1}] = \underline{\dot H}_N.
\end{equation*}
\end{proof}

%Being a module over $\underline{\ddot H}_N := \ddot H_N[(y_i-y_j)^{-1},(y_i-y_j-\eta)^{-1}]$ extends the $\underline{\dot H}_N$-module structure by the difference operators $X_1,...,X_N$.
Hence, we may think of $\dot H_N$-modules as quasi-coherent sheaves on $Y_N$. Interpreting these as distributions over holomorphic cobordisms (with fixed topology), we can view the twist-extended Drinfeld functor as a well-defined replacement for the shifted tensor product functor.

\begin{remark}
We may add boundary points to $Y_N$ via the fusion procedure. The ingoing points on cobordisms can then be labeled by general Young diagrams.
\end{remark}

%This way, we come to the following definition:
%\begin{definition}
%\begin{enumerate}[label=(\roman*)]
%\item objects are elements of $\C[y_1,...,y_N][(y_i-y_j)^{-1}][(y_i-y_j-\eta)^{-1}]$, which are distributions over $X_N^\eta(\C)$,
%\item morphisms are cylinder cobordisms permuting circles and winding, giving an action of $\dot S_N$.
%\end{enumerate}
%\end{definition}
%
%\begin{remark}
%Linear presheaves become $\ddot H_N$-modules. The preaffine Drinfeld functor gives the FQFT.
%\end{remark}
%
%It is well known that the interior of $\overline{M}_{0,N+1}$ is given by the quotient space
%\begin{equation*}
%M_{0,N+1} := \{ (y_1,...,y_N) \in \C^N \mid y_i \neq y_j \}/(S_N \times \C^\times \ltimes \C),
%\end{equation*}
%where $S_N$ acts by permutation of the $y_i$ and $\C^\times \ltimes \C$ acts by simultaneous scalings and translations. We may thus identify quasi-coherent sheaves on $M_{0,N+1}$ with $S_N \times \C^\times \ltimes \C$-equivariant $\C[y_1,...,y_N]_\delta$-modules, where we have localized at the Vandermonde determinant $\delta = \prod_{i<j} (y_i-y_j)$. This means that $U$ comes equipped with an action of $S_N$ and a coaction of $\C[a^{\pm 1},y]$ such that
%\begin{equation*}
%\sigma f u = f^\sigma \sigma u, \quad \forall \sigma \in S_N, f \in \C[y_1,...,y_N]_\delta, u \in U,
%\end{equation*}
%and similarly for the coaction. Hence we may also think of a quasi-coherent sheaf on $M_{0,N+1}$ as a $\C^\times \ltimes \C$-equivariant module over the algebra $S_N \ltimes \C[y_1,...,y_N]_\delta$. Morphisms of such modules are morphisms that respect both the module and comodule structure.
%
%
%
%To give a geometric interpretation to the algebra $\dot{\underline{H}}_N$, let us consider a moduli space that additionally imposes the condition $y_i-y_j \neq \eta$:
%
%\begin{definition}
%An \emph{$N$-extended Riemann sphere} is a Riemann sphere $\P^1$ equipped with a meromorphic 1-form $\omega$ of the form
%\begin{equation*}
%\omega
%= \frac{(z-y_1+\eta) \cdots (z-y_N+\eta)}{(z-y_1) \cdots (z-y_N)} dz
%\end{equation*}
%that has a double pole at infinity and $N$ simple poles and zeros away from infinity. Morphisms of $N$-extended Riemann spheres are biholomorphic maps preserving the 1-form.
%\end{definition}
%
%\begin{prop}
%The moduli space $M_{0,1+N}^\omega$ of isomorphism classes of $N$-extended Riemann spheres is given by the quotient space
%\begin{equation*}
%\{ (y_1,...,y_N) \in \C^N \mid y_i-y_j \neq 0,\eta \}/(S_N \times \C).
%\end{equation*}
%\end{prop}
%
%\begin{proof}
%Let $\varphi: \P^1 \to \P^1$ be a biholomorphic map fixing $\infty$ (the double pole), hence of the form $z \mapsto az+y$ for $(a,y) \in \C^\times \ltimes \C$. Then
%\begin{align*}
%\varphi^* \omega
%&= \frac{(az+y-y_1+\eta) \cdots (az+y-y_N+\eta)}{(az+y-y_1) \cdots (az+y-y_N)} a dz \\
%&= a \frac{(z-a^{-1}(y_1-y)+a^{-1}\eta) \cdots (z-a^{-1}(y_N-y)+a^{-1}\eta)}{(z-a^{-1}(y_1-y)) \cdots (z-a^{-1}(y_N-y))}dz.
%\end{align*}
%We see that the $\C^\times$-symmetry is broken by the requirement that $a^{-1}\eta = \eta$ and that the prefactor be unity. The only remaining symmetry is $S_N \times \C$. The requirement that $\omega$ should have $N$ simple poles and zeros away from infinity implies $y_i-y_j \neq 0,\eta$.
%\end{proof}
%
%This shows that we may think of quasi-coherent sheaves on $M_{0,1+N}^\omega$ as $\C$-equivariant $\underline{\dot H}_N$-modules. We can now give a more serious definition for our category of cobordisms:

%Recall that we used the gluing map
%\begin{equation*}
%\gamma: \overline{M}_{0,N_1+1} \times \cdots \times \overline{M}_{0,N_M+1} \times \overline{M}_{0,M+1} \to \overline{M}_{0,N_1+\cdots+N_M+1}.
%\end{equation*}
%to define composition of complex cobordisms. This gluing map generally maps to the boundary of the moduli space, since gluing creates nodal singularities. This means that we also have to look at the boundary of $\overline{M}_{0,N_1+\cdots+N_M+1}$, which leads us to consider fusion of points. Let us split the points into $M=2$ sets $y_1,...,y_{N_1}$ and $y_{N_1+1},...,y_{N_1+N_2}$ and fuse $y_1,...,y_{N_1}$ at a point $y_1'$ as well as $y_{N_1+1},...,y_{N_1+N_2}$ at a point $y_2'$. We obtain a nodal curve glued from three Riemann spheres: The first hast points $\infty_1,y_1,...,y_{N_1}$, the second has points $\infty_2,y_{N_1+1},...,y_{N_1+N_2}$, and the third has points $\infty,y_1',y_2'$, where we glue $\infty_1$ and $\infty_2$ to $y_1'$ and $y_2'$, respectively. Quasi-coherent sheaves on the moduli space of such curves arise from $\C^2$-equivariant $A_{N_1} \otimes A_{N_2} \otimes A_2$-modules.
%
%Let $U$ be such a module. Then $U$ has a map $U \to U[y_1',y_2']$ compatible with the maps $A_{N_i} \to A_{N_i}[y_i']$.
%
% We may similarly define composition of $A_N$-modules using the homomorphism
%\begin{equation*}
%A_M \otimes A_{N_1} \otimes \cdots \otimes A_{N_M} \to A_{N_1+\cdots+N_M}
%\end{equation*}
%that maps $A_{N_1} \otimes \cdots \otimes A_{N_M}$ via the canonical inclusion and $A_M$ by sending 
%
%\begin{definition}
%Let $\C\mathsf{Cob}_0^\omega$ denote the monoidal $2$-category whose
%\begin{enumerate}[label=(\roman*)]
%\item objects are natural numbers $[N]$,
%\item 1-morphisms $[N] \to [1]$ are quasi-coherent sheaves on $M_{0,N+1}^\omega$, %or more generally for $[N] \to [M]$ on
%%\begin{equation*}
%%M_{0,N \to M}^\omega := \bigsqcup_{N_1+\cdots+N_M=N} M_{0,N_1+1}^\omega \times \cdots \times M_{0,N_M+1}^\omega,
%%\end{equation*}
%which for our purposes are $\C$-equivariant $\underline{\dot H}_N$-modules,
%\item 2-morphisms are morphisms of such modules,
%\item tensor product is given by disjoint union, meaning $[N] \otimes [M] := [N+M]$ and $U_1 \otimes U_2$ is the external tensor product of sheaves,
%\item composition of a sheaf $U: [N_1+\cdots+N_M] \to [M]$ that has a decomposition
%\begin{equation*}
%U = U_1 \boxtimes \cdots \boxtimes U_M, \quad U_i: [N_i] \to [1],
%\end{equation*}
%with $W: [M] \to [1]$ is defined via push-pull of $U_1 \boxtimes \cdots \boxtimes U_M \boxtimes W$ along the span of algebra morphisms
%\begin{equation*}
%\underline{\dot H}_{N_1+N_2} \leftarrow \underline{\dot H}_{N_1} \otimes \underline{\dot H}_{N_2} \to \underline{\dot H}_{N_1}[y_1] \otimes \underline{\dot H}_{N_2}[y_2] \to \underline{\dot H}_{N_1} \otimes \underline{\dot H}_{N_2} \otimes \underline{\dot H}_2
%\end{equation*}
%\end{enumerate}
%\end{definition}

%\begin{prop}
%There is a monoidal 2-functor
%\begin{equation*}
%\mathcal{Z}_0: \C\mathsf{Cob}_0^\omega \to \mathsf{Rex}
%\end{equation*}
%that sends the formal punctured disc $D^\times$ to $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$ and on Hom categories
%\begin{equation*}
%\Hom_{\C\mathsf{Cob}_0^\omega}([N],[1]) = \underline{\dot H}_N[K^{\pm 1}]\mathsf{Mod}_\C
%\end{equation*}
%is given by the generalized Drinfeld functor:
%\begin{align*}
%\underline{\dot H}_N[K^{\pm 1}]\mathsf{Mod}_\C &\to \mathsf{Rex}(Y(\mathfrak{gl}_\ell)\mathsf{Mod}^{\boxtimes N},Y(\mathfrak{gl}_\ell)\mathsf{Mod}), \\
%U &\mapsto (V_1 \boxtimes \cdots \boxtimes V_N \mapsto (V_1[y_1] \otimes \cdots \otimes V_N[y_N]) \otimes_{\underline{\dot H}_N} U).
%\end{align*}
%\end{prop}

\subsection{Full construction of the functorial quantum field theory}

Let us write $\Gamma: N \to M$ whenever $\Gamma$ is a composition of $N$ by $M$ numbers $N_1,...,N_M$. This gives the combinatorial data for the topology underlying a holomorphic cobordism with $N$ ingoing and $M$ outgoing circles, where each connected component has exactly one outgoing circle. We can compose $\Gamma: N \to M$ with another composition $\Gamma': M \to L$ and obtain a composition $\Gamma' \circ \Gamma: N \to L$, representing the gluing of cobordisms. Given $\Gamma_1: N_1 \to M_1$ and $\Gamma_2: N_2 \to M_2$, we may also build a composition $\Gamma_1 \otimes \Gamma_2: N_1+N_2 \to M_1+M_2$, representing the disjoint union of cobordisms. Define
\begin{equation*}
\underline{\dot H}_\Gamma := \underline{\dot H}_{N_1} \otimes \cdots \otimes \underline{\dot H}_{N_M}, \quad \dot S_\Gamma := \dot S_{N_1} \times \cdots \times \dot S_{N_M}, \quad S_\Gamma := S_{N_1} \times \cdots \times S_{N_M}.
\end{equation*}
Then $\dot H_\Gamma$ controls the moduli space of holomorphic cobordisms with topology fixed by $\Gamma$. There are algebra maps $\underline{\dot H}_{\Gamma' \circ \Gamma} \to \underline{\dot H}_\Gamma$ defined via the canonical inclusions, as well as $\underline{\dot H}_\Gamma \to \underline{\dot H}_\Gamma \otimes \underline{\dot H}_{\Gamma'}$ defined via the coactions $\underline{\dot H}_N \to \underline{\dot H}_N[y]$. Together, they give an algebra map
\begin{equation*}
\alpha_{\Gamma,\Gamma'}: \underline{\dot H}_{\Gamma' \circ \Gamma} \to \underline{\dot H}_\Gamma \otimes \underline{\dot H}_{\Gamma'}.
\end{equation*}
Finally, we also have isomorphisms $\underline{\dot H}_{\Gamma_1 \otimes \Gamma_2} \cong \underline{\dot H}_{\Gamma_1} \otimes \underline{\dot H}_{\Gamma_2}$. With this in hand, we can give a serious definition for our category of cobordisms:

\begin{definition}
Let $\mathbb{C}\textnormal{ob}$ denote the monoidal double category defined by:
\begin{enumerate}[label=(\roman*)]
\item $\mathbb{C}\textnormal{ob}_0$ is the category whose objects are natural numbers $[N]$ with $\Hom([N],[N]) := \dot S_N$ and zero otherwise. The monoidal structure is given by $[N] \otimes [M] := [N+M]$ and the canonical inclusions $\dot S_N \times \dot S_M \to \dot S_{N+M}$. This category represents topological cobordisms as discussed in subsection \ref{subsection:naiveDef}.
\item $\mathbb{C}\textnormal{ob}_1$ is the category whose objects are pairs $(\Gamma,U)$, where $\Gamma: N \to M$ and $U$ is a module over $\underline{\dot H}_\Gamma$ and whose morphisms are pairs $(\sigma,f):(\Gamma,U) \to (\Gamma,U')$, where $\sigma \in \dot S_\Gamma$ and $f$ is a $\bar \sigma$-equivariant map of $\underline{\dot H}_\Gamma$-modules. Source and target are given by $[N]$ and $[M]$. The monoidal structure is given by $(\Gamma_1,U_2) \otimes (\Gamma_2,U_2) := (\Gamma_1 \otimes \Gamma_2, U_1 \otimes U_2)$. This category represents distributions over genus zero holomorphic cobordisms with topology fixed by $\Gamma$ as discussed in subsection \ref{subsection:patch}.
\item Loose composition of $(\Gamma,U): [N] \to [M]$ with $(\Gamma',U'): [M] \to [L]$ is defined to be $(\Gamma' \circ \Gamma, \alpha_{\Gamma,\Gamma'}^*(U \otimes U'))$. The identities are given by $(\id,\C)$, where $\C$ is the trivial $\underline{\dot H}_\id$-module, meaning $\dot S_N$ acts as the identity and $y_i$ acts as zero.
\end{enumerate}
\end{definition}

\begin{prop}
Loose composition in $\mathbb{C}\textnormal{ob}$ is weakly associative and unital.
\end{prop}

\begin{proof}
Consider a composable triple
\begin{center}
\begin{tikzcd}[column sep=1.5cm]
{[N]} \arrow{r}{(\Gamma,U)} &
{[N']} \arrow{r}{(\Gamma',U')} &
{[N'']} \arrow{r}{(\Gamma'',U'')} &
{[N''']}
\end{tikzcd}
\end{center}
It is clear that $(\Gamma'' \circ \Gamma') \circ \Gamma = \Gamma'' \circ (\Gamma' \circ \Gamma)$. We notice that the algebra maps
\begin{align*}
(\alpha_{\Gamma',\Gamma''} \otimes \id) \circ \alpha_{\Gamma,\Gamma'' \circ \Gamma'}&: \underline{\dot H}_{\Gamma'' \circ \Gamma' \circ \Gamma} \to \underline{\dot H}_\Gamma \otimes \underline{\dot H}_{\Gamma'' \circ \Gamma'} \to \underline{\dot H}_\Gamma \otimes \underline{\dot H}_{\Gamma'} \otimes \underline{\dot H}_{\Gamma''}, \\
(\id \otimes \alpha_{\Gamma,\Gamma'}) \circ \alpha_{\Gamma' \circ \Gamma,\Gamma''}&: \underline{\dot H}_{\Gamma'' \circ \Gamma' \circ \Gamma} \to \underline{\dot H}_{\Gamma' \circ \Gamma} \otimes \underline{\dot H}_{\Gamma''} \to \underline{\dot H}_\Gamma \otimes \underline{\dot H}_{\Gamma'} \otimes \underline{\dot H}_{\Gamma''}
\end{align*}
coincide, reducing weak associativity to the weak associativity of the tensor product of vector spaces. Similarly, the maps $\alpha_{\Gamma,\id}: \underline{\dot H}_\Gamma \to \underline{\dot H}_\Gamma \otimes \underline{\dot H}_\id$ and $\alpha_{\id,\Gamma}: \underline{\dot H}_\Gamma \to \underline{\dot H}_\id \otimes \underline{\dot H}_\Gamma$ reduce weak unitality to unitality of the tensor product of vector spaces.
\end{proof}

%Let $\mathsf{V}^+$ denote the full subcategory of $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$ generated under finite colimits by $V_y^+$ for $y \in \C$.

Let $E$ denote the coalgebra $V_0^+ \otimes V_{\ell\eta}^-$ internal to $Y(\mathfrak{gl}_\ell)\mathsf{Mod}$ and let $\Gamma: N \to M$ be composed of $N_1,...,N_M$. Define
\begin{equation*}
E_\Gamma := E[y_1] \otimes \cdots \otimes E[y_N]
\end{equation*}
This is an $E^{\otimes N}$-$E^{\otimes M}$-bicomodule and we have coalgebra maps $E \to Y^\vee(\mathfrak{gl}_\ell)$, making $E_\Gamma$ into a $Y^\vee(\mathfrak{gl}_\ell)^{\otimes N}$-$Y^\vee(\mathfrak{gl}_\ell)^{\otimes M}$-bicomodule. There is an $R$-matrix
\begin{equation*}
\check R^E(y_1-y_2) := \check R_{24}(y_1-y_2-\ell\eta) \check R_{13}(y_1-y_2+\ell\eta) \in \operatorname{End} E[y_1] \otimes E[y_2],
\end{equation*}
where we have used the index labeling
\begin{align*}
E[y_1] \otimes E[y_2]
= \overset{1}{V_0^+} \otimes \overset{2}{V_{\ell\eta}^-}[y_1] \otimes \overset{3}{V_0^+} \otimes \overset{4}{V_{\ell\eta}^-}[y_2].
\end{align*}
This defines a right $\underline{\dot H}_\Gamma$-module structure on $E_\Gamma$, where the permutation $(i \ j)$ acts via the braiding $P_{ij} \check R_{ij}^E(y_i-y_j)$.

\begin{theorem}
There is a monoidal double functor $Z: \mathbb{C}\textnormal{ob} \to Y(\mathfrak{gl}_\ell)\mathbb{C}\textnormal{o}\mathbb{A}\textnormal{lg}$ with components
\begin{align*}
Z_0&: \mathbb{C}\textnormal{ob}_0 \to Y(\mathfrak{gl}_\ell)\mathbb{C}\textnormal{o}\mathbb{A}\textnormal{lg}_0, \quad [N] \mapsto Y^\vee(\mathfrak{gl}_\ell)^{\otimes N}, \\
Z_1&: \mathbb{C}\textnormal{ob}_1 \to Y(\mathfrak{gl}_\ell)\mathbb{C}\textnormal{o}\mathbb{A}\textnormal{lg}_1, \quad (\Gamma,U) \mapsto E_\Gamma \otimes_{\underline{\dot H}_\Gamma} U,
\end{align*}
where $Z_0$ maps $s_i$ to the corresponding permutation of tensorands and $X_i$ to tba and $Z_1$ maps $(s_i,f): (\Gamma,U) \to (\Gamma,U')$ to the $R$-matrix composed with $f$ and $(X_i,f): (\Gamma,U) \to (\Gamma,U')$ to $X_i$ composed with $f$.
\end{theorem}

\begin{proof}
\begin{enumerate}[label=(\roman*)]
\item Well-definition: It is immediate that $Z_0$ is well-defined. It remains to check that $Z_1$ maps the morphisms of $\mathbb{C}\textnormal{ob}_1$ to $Y(\mathfrak{gl}_\ell)$-linear maps. Indeed, $(s_i,f)$ gets mapped to the composition
\begin{center}
\begin{tikzcd}[column sep=2cm]
E_\Gamma \otimes_{S_\Gamma} U \arrow{r}{\check R_{i,i+1}(y_i-y_{i+1})} & E_\Gamma \otimes_{S_\Gamma} U \arrow{r}{\id \otimes f} & E_\Gamma \otimes_{S_\Gamma} U',
\end{tikzcd}
\end{center}
Both maps are $s_i$-equivariant maps of $Y(\mathfrak{gl}_\ell)$-modules, so their composition will be an $\id$-equivariant map of $Y(\mathfrak{gl}_\ell)$-modules, meaning it is $Y(\mathfrak{gl}_\ell)$-linear. tba
\item $Z$ respects loose composition: tba
\item Monoidality: It is immediate that $Z_0$ is monoidal. For $Z_1$, we recall that for $(\Gamma_1,U_1): [N_1] \to [M_1]$ and $(\Gamma_2,U_2):[N_2] \to [M_2]$, we have $\underline{\dot H}_{\Gamma_1 \otimes \Gamma_2} \cong \underline{\dot H}_{\Gamma_2} \otimes \underline{\dot H}_{\Gamma_2}$. We similarly have $E_{\Gamma_1 \otimes \Gamma_2} \cong E_{\Gamma_1} \otimes E_{\Gamma_2}$, giving natural isomorphisms
\begin{equation*}
E_{\Gamma_1 \otimes \Gamma_2} \otimes_{\underline{\dot H}_{\Gamma_1 \otimes \Gamma_2}} (U_1 \otimes U_2) \cong (E_{\Gamma_1} \otimes_{\underline{\dot H}_{\Gamma_1}} U_1) \otimes (E_{\Gamma_2} \otimes_{\underline{\dot H}_{\Gamma_2}} U_2).
\end{equation*}
\end{enumerate}
\end{proof}

\section{Quantum-classical duality in terms of four-dimensional Chern-Simons theory}

It is natural to ask which physical theory gives rise to the functorial quantum field theory $Z$ we have defined. Considering that we are looking at topological surfaces as tight morphisms and (sheaves on moduli spaces of) complex curves as loose morphisms, we are already given a hint that the theory should include two holomorphic and two topological dimensions. The functorial field theory should assign holonomies of some flat connection on $S^1 \times [0,1]$ to braids. Furthermore, the Yangian provides the 2-Hilbert space of the formal punctured disc. These observations all point to four-dimensional Chern-Simons theory.

Four-dimensional Chern-Simons theory was first described in \cite{article:costello:2013}, a recent review can be found in \cite{article:lacroix:2022}. It\index{Four-dimensional Chern-Simons theory} is easily constructed by promoting one coordinate of the usual three-dimensional Chern Simons theory to a complex coordinate $z$ on a complex curve $C$ and introducing an additional meromorphic 1-form $\omega$ on $C$ to be able to integrate the Chern-Simons 3-form over a four-dimensional manifold $C \times \Sigma$ with $\Sigma$ an oriented surface, yielding the following action:
\begin{equation*}
S_\omega(A) = \frac{i}{4\pi} \int_{C \times \Sigma} \omega \wedge \textnormal{CS}(A), \quad \textnormal{CS}(A) := \langle A, dA + \tfrac 23 A \wedge A \rangle.
\end{equation*}
The field $A$ is a $\mathfrak{gl}_\ell$-valued 1-form on $C \times \Sigma$ that has no components in the $z,\bar z$ direction up to some gauge transformation, meaning we can write it as $A = A_t dt + A_x dx$. The equations of motion let us interpret $A$ as a Lax connection on $\Sigma$ with spectral parameter $z$, writing $A(z) \in \Omega^1(\Sigma,\mathfrak{gl}_\ell)$. Thus, four-dimensional Chern-Simons theory reduces to a two-dimensional integrable field theory on $\Sigma$ with spectral parameter in $C$.

The functorial quantum field theory $Z$ we constructed above exactly represents four-dimen\-sional Chern-Simons theory for $C=\P^1$ with $\omega = dz$ and $\Sigma = S^1 \times [0,1]$. The topological cobordisms are nothing but Wilson lines along $S^1 \times [0,1]$ and the holomorphic cobordisms specify their (constant) coordinate in $\P^1 \setminus \{ \infty \}$ as well as the representation labeling them, in our case $V_y^+$. The twist matrix parametrizes transition function of the background principal $GL_\ell$-bundle on the cylinder. It is a famous result of \cite{article:costello:2013} that Wilson lines in four-dimensional Chern-Simons theory reproduce the Heisenberg model in the way we described.

We can now perform two dimensional reductions: Firstly, we may shrink $S^1 \times [0,1]$ to a point, so that our Wilson lines become point particles on $\P^1 \setminus \{ \infty \}$ that carry internal spin degrees of freedom, following the rational Ruijsenaars-Schneider Hamiltonian. Secondly, we may shrink $\P^1$ to a point, which gives the homogeneous limit $y_1,...,y_N \to 0$, in which we obtain the homogeneous Heisenberg spin chain with its local Hamiltonian. This paints a nicely intuitive picture of quantum-classical duality.

%Certain classical solutions for $A(z)$ are determined in \cite{article:lacroix:2021}. They satisfy $A(y_i) = J_i$ and have poles at $y_i-\eta$. This is consistent with the analytic structure of the unitary transfer matrix. We obtain the Cauchy matrix $C_{ij} = \frac{1}{y_i-y_j+\eta}$, which has inverse
%\begin{equation*}
%(C^{-1})_{ij} = -(y_j-y_i+\eta) \prod_{k \neq i} \frac{y_j-y_k+\eta}{y_i-y_k} \prod_{k \neq j} \frac{y_k-y_i+\eta}{y_i-y_k}
%\end{equation*}
%The Cauchy matrix should be seen as a linear map $\mathfrak{gl}_\ell^{(\zeta)} \to \mathfrak{gl}_\ell^{(z)}$.

%\subsection{The elliptic Drinfeld functor}
%
%To construct this $\ddot S_N$-action, let us warm up with an $\dot S_N$-action involving the dual Yangian. We shorten our notation by suppressing the spectral parameters, implicitly making the association that $z$ corresponds to the auxiliary space index $0$, while $y_i$ corresponds to the quantum space index $i$:
%
%\begin{prop}
%There is an action of $\dot S_N$ on
%\begin{equation*}
%Y^\vee(\mathfrak{gl}_\ell) \otimes V^+[y_1] \otimes \cdots \otimes V^+[y_N]
%\end{equation*}
%via
%\begin{equation*}
%s_i \mapsto P_{i,i+1} \check R_{i,i+1}, \quad \pi \mapsto T_1^\vee(z-y_1) P_w.
%\end{equation*}
%\end{prop}
%
%\begin{proof}
%The relations for the symmetric group immediately follow from the Yang-Baxter equation and unitarity. For $X_1$, we obtain
%\begin{equation*}
%X_1 = \pi w^{-1} \mapsto T_1^\vee(z-y_1) P_w P_{N,N-1} \check R_{N,N-1} \cdots P_{2,1} \check R_{2,1} = T_1^\vee(z-y_1) \check R_{N,1} \cdots \check R_{2,1},
%\end{equation*}
%and
%\begin{equation*}
%X_i = \check R_{i-1,i} \cdots \check R_{1,i} T_i^\vee(z-y_i) \check R_{N,i} \cdots \check R_{i+1,i}
%\end{equation*}
%more generally. We have to check that $X_2 X_1 = X_1 X_2$. Indeed,
%\begin{align*}
%&\check R_{1,2} T_2^\vee(z-y_2) \check R_{N,2} \cdots \check R_{3,2} T_1^\vee(z-y_1) \check R_{N,1} \cdots \check R_{3,1} \check R_{2,1} \\
%&= T_1^\vee(z-y_1) \check R_{N,1} \cdots \check R_{3,1} T_2^\vee(z-y_2) \check R_{N,2} \cdots \check R_{3,2} \check R_{1,2} \check R_{2,1} \\
%&= T_1^\vee(z-y_1) \check R_{N,1} \cdots \check R_{3,1} \check R_{1,2} \check R_{2,1} T_2^\vee(z-y_2) \check R_{N,2} \cdots \check R_{3,2},
%\end{align*}
%where we have used the Yang-Baxter equation and the TTR relation for the first equality as well as unitarity for the second equality.
%\end{proof}
%
%\begin{definition}
%The \emph{double Yangian} $DY(\mathfrak{gl}_\ell)$ is generated by the matrix generators $T^\vee(z),\bar T^\vee(z)$, respectively satisfying the TTR and RTT relation, such that the \emph{TRT relation} is satisfied:
%\begin{equation*}
%T_1^\vee(z) R_{12}(z-w) \bar T_2^\vee(w) = \bar T_2^\vee(w) R_{12}(z-w) T_1^\vee(z).
%\end{equation*}
%The \emph{double Yangian with trivial monodromy} $DY_0(\mathfrak{gl}_\ell)$ additionally imposes the  \emph{trivial monodromy relation}
%\begin{equation*}
%T^\vee(z) \bar T^\vee(z) = \bar T^\vee(z) T^\vee(z).
%\end{equation*}
%\end{definition}
%
%\begin{prop}
%We may define an action of $\widetilde{SL_2(\Z)}$ by automorphisms on $DY_0(\mathfrak{gl}_\ell)$ via:
%\begin{align*}
%s &: T^\vee(z) \mapsto \bar T^\vee(z)^{-1}, \quad \bar T^\vee(z) \mapsto T^\vee(-z) \\
%t &: T^\vee(z) \mapsto T^\vee(z), \quad \bar T^\vee(z) \mapsto T^\vee(z)^{-1} \bar T^\vee(z)
%\end{align*}
%\end{prop}
%
%\begin{proof}
%Consider the automorphism $s$. The RTT and TTR relations are mapped to each other. The TRT relation gets sent to the relation
%\begin{equation*}
%\bar T_1^\vee(z)^{-1} R_{12}(z-w) T_2^\vee(-w) = T_2^\vee(-w) R_{12}(z-w) \bar T_1^\vee(z)^{-1}
%\end{equation*}
%which gets mapped to
%\begin{equation*}
%T_1^\vee(-z)^{-1} R_{12}(z-w) \bar T_2^\vee(-w)^{-1} = \bar T_2^\vee(-w)^{-1} R_{12}(z-w) T_1^\vee(-z)^{-1}
%\end{equation*}
%which is nothing but the TRT relation.
%
%Now consider the automorphism $t$. It sends the TTR relation to the TTR relation and the RTT relation to
%\begin{equation*}
%R_{12}(z-w) T_1^\vee(z)^{-1} \bar T_1^\vee(z) T_2^\vee(w)^{-1} \bar T_2^\vee(w) = T_2^\vee(w)^{-1} \bar T_2^\vee(w) T_1^\vee(z)^{-1} \bar T_1^\vee(z) R_{12}(z-w),
%\end{equation*}
%which is satisfied due to the TTR and RTT relations. The TRT relation gets sent to
%\begin{equation*}
%T_1^\vee(z) R_{12}(z-w) T_2^\vee(w)^{-1} \bar T_2^\vee(w) = T_2^\vee(w)^{-1} \bar T_2^\vee(w) R_{12}(z-w) T_1^\vee(z)
%\end{equation*}
%This would add infinitely many relations to the double Yangian.
%Maybe we should rather consider $Y^\vee(\mathfrak{gl}_\ell)^{\otimes 2}$ with some nicer relation. \cite{article:brochier:2017} would suggest the elliptic relation.
%\end{proof}
%
%\begin{remark}
%The matrices $\bar T^\vee(z)$ and $T^\vee(z)$ work two represent a line crossing a seam in a torus diagram. This gives a graphical interpretation to the relations. 
%\end{remark}
%
%\begin{definition}
%Let $\ddot S_N$ denote that group that is generated by $S_N$ as well as Laurent generators $X_1$ and $\bar X_1$ with $\pi := X_1 w,\bar \pi = w^{-1} \bar X_1$ and an element $p$, such that
%\begin{enumerate}[label=(\roman*)]
%\item Commutativity: $X_1 s_1 X_1 s_1 = s_1 X_1 s_1 X_1$, $\bar X_1 s_1 \bar X_1 s_1 = s_1 \bar X_1 s_1 \bar X_1$,
%\item Rotation axiom: $p^N = 1$,
%\item Trivial monodromy: $p \bar \pi \pi = \pi \bar \pi p$, or equivalently $\bar \pi p \pi^{-1} = \pi^{-1} p \bar \pi$.
%\end{enumerate}
%\end{definition}
%
%\begin{prop}
%There is an action of $\ddot S_N$ on
%\begin{equation*}
%DY_0(\mathfrak{gl}_\ell) \otimes V^+[y_1] \otimes \cdots \otimes V^+[y_N]
%\end{equation*}
%via
%\begin{align*}
%s_i \mapsto P_{i,i+1} R_{i,i+1}(y_i-y_{i+1}), \quad \pi \mapsto T_1^\vee(z-y_1) P_w, \quad \bar \pi &\mapsto P_{w^{-1}} \bar T_1^\vee(z-y_1), \quad p \mapsto P_w.
%\end{align*}
%\end{prop}
%
%\begin{proof}
%The relations for both copies of $\dot S_N$ in $\ddot S_N$ are satisfied by the previous proposition. It remains to check $\bar X_2 X_1 = X_1 \bar X_2$. Indeed,
%\begin{align*}
%\check R_{2,3} \cdots \check R_{2,N} \bar T_2^\vee(z-y_2) &\check R_{2,1} T_1^\vee(z-y_1) \check R_{N,1} \cdots \check R_{3,1} \check R_{2,1} \\
%= T_1^\vee(z-y_1) \check R_{N,1} \cdots \check R_{3,1} &\check R_{2,1} \check R_{2,3} \cdots \check R_{2,N} \bar T_2^\vee(z-y_2) \check R_{2,1},
%\end{align*}
%where we have used the Yang-Baxter equation and the TRT relation.
%\end{proof}

%\begin{remark}
%An invertible solution seems to be given by
%\begin{align*}
%T_{10}^\vee(z) &\mapsto f(z) K(z;a) \otimes 1 + f(z) K(z;b) \otimes \sigma_1 \\
%\bar T_{10}^\vee(z) &\mapsto \bar f(z) K(z;\bar a) \otimes 1 - \bar f(z) K(z;\bar b) \otimes \sigma_1,
%\end{align*}
%where $\sigma_1 =
%\begin{pmatrix}
%0 & 1 \\ 1 & 0
%\end{pmatrix}$ is the first Pauli matrix and $K(z;a) = a + z \sigma_1, a \in \C$ is a solution to the reflection equation
%\begin{equation*}
%R(z-w) K_1(z) R(z+w) K_2(w) = K_2(w) R(z+w) K_1(z) R(z-w)
%\end{equation*}
%and $a \neq b, \bar a \neq \bar b$.
%\end{remark}
%
%\begin{prop}
%There is an action of $\widetilde{SL_2(\Z)} = \langle s,t,c \mid (st)^3 = s^2 = c \rangle$ on $\ddot S_N$ by group automorphisms via
%\begin{align*}
%s(\pi) &;= \bar \pi^{-1}, \quad s(\bar \pi) := p^{-1} \pi p^{-1} \\
%t(\pi) &:= \pi, \quad t(\bar \pi) := \bar \pi p \pi^{-1}
%\end{align*}
%and leaving $p$ and $S_N \subset \ddot S_N$ invariant. In terms of the Laurent generators, this reads
%\begin{align*}
%s(X_1) &:= \bar X_1^{-1}, \quad s(\bar X_1) := w p^{-1} X_1 w p^{-1} = X_1 w p^{-2} \\
%t(X_1) &:= X_1, \quad t(\bar X_1) := \bar X_1 p w^{-1} X_1^{-1}.
%\end{align*}
%\end{prop}
%
%\begin{proof}
%We check the homomorphism property:
%\begin{equation*}
%s(X_1 s_1 X_1 s_1) = \bar X_1^{-1} s_1 \bar X_1^{-1} s_1 = s_1 \bar X_1^{-1} s_1 \bar X_1^{-1} = s(s_1 X_1 s_1 X_1)
%\end{equation*}
%\begin{equation*}
%t(X_1 s_1 X_1 s_1) = X_1 s_1 X_1 s_1 = s_1 X_1 s_1 X_1 = t(s_1 X_1 s_1 X_1)
%\end{equation*}
%\begin{equation*}
%s(\bar X_1 s_1 \bar X_1 s_1) = wp^{-1} X_1 wp^{-1} s_1 wp^{-1} X_1 wp^{-1} s_1 = ?
%\end{equation*}
%\begin{equation*}
%s(s_1 \bar X_1 s_1 \bar X_1) = s_1 wp^{-1} X_1 wp^{-1} s_1 wp^{-1} X_1 wp^{-1} = ?
%\end{equation*}
%\begin{equation*}
%t(\bar X_1 s_1 \bar X_1 s_1) = \bar X_1 pw^{-1} X_1^{-1} s_1 \bar X_1 pw^{-1} X_1^{-1} s_1 = ?
%\end{equation*}
%\begin{equation*}
%s(p \bar \pi \pi) = p p^{-1} \pi p^{-1} \bar \pi^{-1} = \bar \pi^{-1} p^{-1} \pi p^{-1} p = \bar \pi^{-1} p^{-1} \pi = s(\pi \bar \pi p),
%\end{equation*}
%\begin{equation*}
%t(p \bar \pi \pi) = p \bar \pi p \pi^{-1} \pi = p \bar \pi p = \pi \pi^{-1} p \bar \pi p = \pi \bar \pi p \pi^{-1} p = t(\pi \bar \pi p),
%\end{equation*}
%We check the relations for $\widetilde{SL_2(\Z)}$:
%\begin{equation*}
%s^2(\pi) = s \bar \pi^{-1} = p \pi^{-1} p
%\end{equation*}
%\begin{equation*}
%s^2(\bar \pi) = s p^{-1} \pi p^{-1} = p^{-1} \bar \pi^{-1} p^{-1}
%\end{equation*}
%\begin{align*}
%(st)^3(\pi)
%&= ststs(\pi) \\
%&= stst(\bar \pi^{-1}) \\
%&= sts(\pi p^{-1} \bar \pi^{-1}) \\
%&= st(\bar \pi^{-1} p^{-1} p \pi^{-1} p) \\
%&= st(\bar \pi^{-1} \pi^{-1} p) \\
%&= s(\pi p^{-1} \bar \pi^{-1} \pi^{-1} p) \\
%&= s(\pi p^{-1} p \pi^{-1} \bar \pi^{-1}) \\
%&= s(\bar \pi^{-1}) \\
%&= p \pi^{-1} p
%\end{align*}
%\begin{align*}
%(st)^3(\bar \pi)
%&= ststs(\bar \pi p \pi^{-1}) \\
%&= stst(p^{-1} \pi p^{-1} p \bar \pi) \\
%&= stst(p^{-1} \pi \bar \pi) \\
%&= sts(p^{-1} \pi \bar \pi p \pi^{-1}) \\
%&= st(p^{-1} \bar \pi^{-1} p^{-1} \pi p^{-1} p \bar \pi) \\
%&= st(p^{-1} \bar \pi^{-1} p^{-1} p \bar \pi \pi p^{-1}) \\
%&= st(p^{-1} \pi p^{-1}) \\
%&= p^{-1} \bar \pi^{-1} p^{-1}
%\end{align*}
%\end{proof}
%
%\begin{prop}
%The action of $\ddot S_N$ on
%\begin{equation*}
%DY_0(\mathfrak{gl}_\ell) \otimes V^+[y_1] \otimes \cdots \otimes V^+[y_N]
%\end{equation*}
%extends to an action of $\widetilde{SL_2(\Z)} \ltimes \ddot S_N$.
%\end{prop}
%
%\begin{proof}
%We let $s$ and $t$ act via the corresponding automorphisms of $DY_0(\mathfrak{gl}_\ell)$. This is compatible with the action of $SL_2(\Z)$ on $\ddot S_N$ by construction.
%\end{proof}
%
%\begin{definition}
%The \emph{elliptic degenerate affine Hecke algebra} $\dot H_N^\textnormal{ell}$ is the algebra
%\begin{equation*}
%S_N \times SL_2(\Z) \ltimes (\Z^2)^N \ltimes \mathcal{O}(Y_N^\text{ell}).
%\end{equation*}
%\end{definition}
%
%\begin{theorem}
%There is an elliptic Drinfeld functor
%\begin{align*}
%D_{\ell,N}^\textnormal{ell}: \dot H_N^\textnormal{ell} \mathsf{Mod} &\to E(\mathfrak{gl}_\ell)\mathsf{Mod}, \\
%U &\mapsto ?
%\end{align*}
%\end{theorem}
%
%\subsection{From the elliptic transfer matrix to the elliptic Lax matrix}
%
%\begin{prop}
%There is a homomorphism $DY_0(\mathfrak{gl}_\ell) \to \operatorname{End} V[w^{\pm 1}]$ via
%\begin{equation*}
%T^\vee(z) \mapsto f(z) R(w-z), \quad \bar T^\vee(z) \mapsto \bar f(z) R(z-w),
%\end{equation*}
%where $f(z)$ and $\bar f(z)$ are power series in $z$ and $z^{-1}$ with constant term one, respectively. In particular, we obtain a representation of $DY_0(\mathfrak{gl}_\ell)$ which we denote by $V^+[w^{\pm 1}]$, suppressing $f(z)$ and $\bar f(z)$.
%\end{prop}
%
%\begin{definition}
%The \emph{elliptic transfer matrix with spectral parameter $w$} is given by
%\begin{equation*}
%\tau(z;w) := \operatorname{tr}_{0a} R_{aN}(z-y_N) \cdots R_{a1}(z-y_1),
%\end{equation*}
%acting on
%\begin{equation*}
%(\overset{0}{V^+[w^{\pm 1}]} \otimes \overset{1}{V^+[y_1]} \otimes \cdots \otimes \overset{N}{V^+[y_N]}) \otimes_{\ddot S_N} \mathcal{O}(\C^N).
%\end{equation*}
%\end{definition}
%
%\begin{prop}
%The elliptic transfer matrix $\tau(z;w)$ is a doubly quasi-periodic function.
%\end{prop}
%
%\begin{proof}
%We have
%\begin{align*}
%e^{\partial_z} \tau(z;w) &= e^{-\sum_i \partial_i} \tau(z;w) = \operatorname{tr}_0 X_1 \cdots X_N \tau(z;w), \\
%e^{\tau \partial_z} \tau(z;w) &= e^{-\tau \sum_i \partial_i} \tau(z;w) = \operatorname{tr}_0 \bar X_1 \cdots \bar X_N \tau(z;w).
%\end{align*}
%There is an easy diagrammatic proof that
%\begin{align*}
%X_1 \cdots X_N &= T_N^\vee(y_N) \cdots T_1^\vee(y_1), \\
%\bar X_1^{-1} \cdots \bar X_N^{-1} &= \bar T_N^\vee(y_N) \cdots \bar T_1^\vee(y_1).
%\end{align*}
%The trace reduces to the usual transfer matrix
%\begin{align*}
%\operatorname{tr}_0 X_1 \cdots X_N &= f(y_1) \cdots f(y_N) \operatorname{tr}_0 R_{0N}(w-y_N) \cdots R_{01}(w-y_1) = f(y_1) \cdots f(y_N) \tau(w), \\
%\operatorname{tr}_0 \bar X_1^{-1} \cdots \bar X_N^{-1} &= \bar f(y_1) \cdots \bar f(y_N) \operatorname{tr}_0 R_{0N}(w-y_N) \cdots R_{01}(w-y_1) = \bar f(y_1) \cdots \bar f(y_N) \tau(w).
%\end{align*}
%It follows that
%\begin{align*}
%\tau(z+1;w) &= f(y_1) \cdots f(y_N) \tau(w) \tau(z;w), \\
%\tau(z+\tau;w) &= \bar f(y_1) \cdots \bar f(y_N) \tau(w) \tau(z;w).
%\end{align*}
%\end{proof}
%
%We may look at eigenfunctions of $\tau(w)$ with eigenvalues $\epsilon(w)$, so we have
%\begin{align*}
%\tau(z+1;w) &= f(y_1) \cdots f(y_N) \epsilon(w) \tau(z;w), \\
%\tau(z+\tau;w) &= \bar f(y_1) \cdots \bar f(y_N) \epsilon(w) \tau(z;w).
%\end{align*}
%Can we do it such that $f(y_1) \cdots f(y_N) \epsilon(w) = 1$ and $\bar f(y_1) \cdots \bar f(y_N) \epsilon(w) = e^{-2\pi\I u}$?

%\begin{lemma}
%We have
%\begin{equation*}
%\tau(z;w) = C + \sum_j \phi(u,z-y_j) \operatorname{Res}_{z=y_j} \tau(z;w).
%\end{equation*}
%\end{lemma}
%
%\begin{proof}
%Let
%\begin{equation*}
%\Phi(w,z) := C + \sum_j \phi(u,z-y_j) \operatorname{Res}_{z=y_j} \tau(z;w).
%\end{equation*}
%Then $\Phi(w,z)$ and $\tau(z;w)$ both have only simple poles at $y_1,...,y_N$ and no zeros. Furthermore, let us match the quasi-periodicity of $\tau(z;w)$ and $\Phi(w,z)$. It follows that $\tau(z;w)/\Phi(w,z)$ is a holomorpic elliptic function, hence constant. But both have the same residues, so they must be identical.
%\end{proof}
%
%\begin{prop}
%We have
%\begin{equation*}
%\operatorname{Res}_{z=y_i} \tau_{[1^{k+1}]}(z) = \widehat{\chi}_{[1^k]}(1) H_i + \sum_j \phi(w,y_i-y_j-\eta) \eta H_i \operatorname{Res}_{z=y_j} \tau_{[1^k]}(z)
%\end{equation*}
%Again we find $\phi(x,y_i-y_j-\eta) \eta H_i \sim -L_{ji}$?
%\end{prop}

\chapter{Conclusion}\label{chapter:conclusion}

In this thesis, we have explored the quantum-classical duality between the inhomogeneous Heisenberg model and the rational Ruijsenaars-Schneider model, as well as their $S$-dual counterparts, the trigonometric Gaudin model and the trigonometric Calogero-Moser model. Starting from the appearance of the Lax matrix of the classical rational Ruijsenaars-Schneider model in the fusion relations of the Heisenberg model, we have shown how this duality can be understood in terms of generalized Schur-Weyl duality between the Yangian $Y(\mathfrak{gl}_\ell)$ and the degenerate affine Hecke algebra $\dot H_N$, as well as between the loop Yangian $LY(\mathfrak{gl}_\ell)$ and the degenerate double affine Hecke algebra $\ddot H_N$, which gave us a natural extension of the duality to spins transforming in higher representations. Thus, we have teased out a beautifully symmetric structure: The four models emerging from the representation theory of the loop Yangian are all related by clear dualities as summarized in figure \ref{figure:dualities}.

Moreover, we have given a geometric picture of this duality in the framework of dimensional reduction of four-dimensional Chern-Simons theory living on $\P^1 \times S^1 \times [0,1]$: Reduction to $\P^1$ yields the rational Ruijsenaars-Schneider model with spin and reduction to $S^1 \times [0,1]$ yields the Heisenberg model. This came about through the construction of a functorial quantum field theory on the double category $\mathbb{C}\text{ob}$ organizing topological and holomorphic cobordisms. The crucial step in defining this category was to parametrize holomorphic cobordisms in terms of modules over $\underline{\dot H}_N$, allowing us to reinterpret the Drinfeld functor as part of a functorial quantum field theory.

We hope that we have shed some light on the rich and beautiful interplay between integrable models, representation theory, and geometry, and that it will inspire further research in this direction.

\section*{Future work}

We expect as before that the action of the Laurent generators $X_1,...,X_N$ in the functorial quantum field theory $Z$ representing 4d Chern-Simons theory is placed on a more equal footing with that of the polynomial generators $y_1,...,y_N$ once we incorporate the full loop Yangian $LY(\mathfrak{gl}_\ell)$. However, due its complex nature, more work needs to be done in order to establish some necessary properties of $LY(\mathfrak{gl}_\ell)$, so we leave this for future work. We expect that the corresponding quantum field theory is given by five-dimensional Chern-Simons theory on $\P^1 \times \P^1 \times [0,1]$ with the 1-forms $dz$ and $dw/w$ on the first and second copy of $\P^1$, respectively.

Another fruitful direction might be the quantization of the elliptic Ruijsenaars-Schneider model with spin. We have seen how the rational Ruijsenaars-Schneider model with spin arises from the dynamics of Wilson lines in four-dimensional Chern-Simons theory on $\P^1 \times S^1 \times [0,1]$. One might hope that the functorial quantum field theory we constructed has an extension to complex curves of higher genus. In the case of an elliptic curve $E = \C/\Lambda$, we can look at $E \times S^1 \times [0,1]$ and hope for a description of Wilson lines in terms of the elliptic Ruijsenaars-Schneider model with spin.

To this end, we will have to determine which module the functorial quantum field theory assigns to $E \times S^1$, or more precisely, we have to determine the Drinfeld-type functor defined on quasi-coherent sheaves on
\begin{equation*}
Y_N^\text{ell} := \{ (y_1,...,y_N,\tau) \in \C^N \times \mathbb{H} \mid y_i,y_i-y_j,y_i-y_j-\eta \notin \Z \oplus \Z \tau \}/S_N \times SL_2(\Z) \ltimes (\Z^2)^N.
\end{equation*}
In accordance with \cite{article:costello:2018b}, we have to replace the Yangian with Belavin's elliptic quantum group $E(\mathfrak{gl}_\ell)$, so our Drinfeld functor will be valued in modules over $E(\mathfrak{gl}_\ell)$. Thus, we will have to construct a bimodule
\begin{equation*}
E(\mathfrak{gl}_\ell) \curvearrowright (\C^\ell)^{\otimes N} \otimes \mathcal{O}(Y_N^\textnormal{ell}) \curvearrowleft \dot H_N^\text{ell},
\end{equation*}
where $\mathcal{O}(Y_N^\textnormal{ell})$ denotes holomorphic functions on $Y_N^\text{ell}$ and $\dot H_N^\text{ell}$ is the algebra whose modules model quasi-coherent sheaves on $Y_N^\textnormal{ell}$. The quantum elliptic Ruijsenaars-Schneider model with spin will be given by
\begin{equation*}
\Big( (\C^\ell)^{\otimes N} \otimes \mathcal{O}(Y_N^\textnormal{ell}) \Big) \otimes_{\dot H_N^\text{ell}} \mathcal{O}(Y_N^\textnormal{ell})
\end{equation*}
with Hamiltonians given by the usual elliptic difference operators acting on this representation.

\let\thefootnote\relax\footnotetext{This thesis has benefited from large language models.}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\numberwithin{theorem}{chapter}

\appendix \label{appendix}

\chapter{Young diagrams} \label{appendix:youngdiagrams}

\begin{definition}
\begin{enumerate}[label=(\roman*)]
\item A \emph{partition} of a natural number $N$ is a sequence $\lambda = [\lambda_1,...,\lambda_\ell]$ of weakly decreasing natural numbers such that $\sum_i \lambda_i = N$. We adopt exponent notation in which $[2,1^k]$ means that $1$ appears $k$ times, so $[2,1^k]$ would be a partition of $k+2$. Partitions can be visualized using \emph{Young diagrams}, by drawing rows of boxes with decreasing row lengths, each corresponding to $\lambda_i$. For example, the partition $[4,2,1]$ of $7$ would be drawn as:
\begin{equation*}
\ytableausetup{boxsize=1em}
\ydiagram{4,2,1}
\end{equation*}
%Every partition $\lambda$ has a \emph{dual partition} $\lambda'$ given by transposing the Young diagram. In the above case, this would be $[3,2,1^2]$, which we draw here:
%\begin{equation*}
%\ytableausetup{boxsize=1em}
%\ydiagram{3,2,1,1}
%\end{equation*}
\item Let $\lambda$ be a partition of $N$. A \emph{Young tableau $t$ of shape $\lambda$} is a choice of bijectively labeling the boxes of the corresponding Young diagram by the numbers $1,...,N$. Clearly, there are $N!$ such tableaux. As an example, we take the following Young tableau of shape $[4,2,1]$:
\begin{equation*}
\ytableausetup{boxsize=1em}
\begin{ytableau}
3 & 5 & 1 & 6 \\
7 & 2 \\
4
\end{ytableau}
\end{equation*}
Given a number $k \in \{ 1,...,N \}$, we define its \emph{content} to be $c_k(t) := j-i$, where $i$ and $j$, respectively, are the row and column in which $k$ appears on the Young tableau. Then $(c_1(t),...,c_N(t))$ is called the \emph{content vector} of $t$. The tableau above has content vector $(2,0,0,-2,1,3,-1)$. A Young tableau is \emph{standard}, if the numbers are increasing from left to right and from top to bottom. The tableau above is \emph{not} standard. Given a Young diagram, there are two easily definable standard Young tableaux: The \emph{row  tableau} and the \emph{column tableau}, obtained by filling in the boxes in ascending order row-by-row or column-by-column.
%\item There is an action of the \emph{Young subgroup} $S_\lambda := S_{\lambda_1} \times \cdots \times S_{\lambda_\ell}$ on the set of Young tableaux of shape $\lambda$ by permuting the entries of each row. Two Young tableaux that are in the same orbit of this action are called \emph{row-equivalent}, because they share the same sets of numbers in each row. Equivalence classes of row-equivalent tableaux are called \emph{Young tabloids of shape $\lambda$}. We know that there are $|S_N/S_\lambda| = \frac{N!}{\lambda_1! \cdots \lambda_\ell!}$ such Young tabloids, and they span the \emph{permutation module} $\mathcal{P}^\lambda$.
%\item Let $t$ be a Young tableau of shape $\lambda$. Define the \emph{Young symmetrizer}
%\begin{equation*}
%Y_t := \sum_{\sigma \in S_t, \tau \in S_{t'}} \operatorname{sgn} \tau \cdot \tau \sigma,
%\end{equation*}
%where here we take $S_t$ and $S_{t'}$ to be the row and column stabilizers of $t$, respectively.
%\item A \emph{polytabloid} is an integer linear combination of tabloids. Corresponding to a tableau $t$ is the polytabloid $Y_t \cdot [t] \in \mathcal{P}^\lambda$. General tableaux may give linearly dependent polytabloids. Canonical linearly independent polytabloids are given by standard tableaux. These span the \emph{Specht module} $\mathcal{S}^\lambda$, which classify all finite-dimensional irreducible complex representations of $S_N$. The dimension of $\mathcal{S}^\lambda$ is given by the \emph{hook length formula}:
%\begin{equation*}
%d_\lambda := \frac{N!}{\prod_{ij} h_{ij}},
%\end{equation*}
%where $i$ and $j$ go over all row and column indices of the boxes of the Young diagram and $h_{ij}$ denotes the corresponding \emph{hook length}, \emph{i.e.} the total number of boxes to the right and to the bottom. As an example, we see that the hook length $h_{22}$ is given by 4:
%\begin{equation*}
%\ytableausetup{boxsize=1em}
%\begin{ytableau}
%\ & \ & \ & \ \\
%\ & \bullet & \bullet \\
%\ & \bullet & \ \\
%\ & \bullet \\
%\
%\end{ytableau}
%\end{equation*}
%It should be noted that the normalized Young symmetrizers $\frac{d_\lambda}{N!} Y_t$ form a complete (non-orthogonal) set of idempotents of $\C[S_N]$.
\end{enumerate}
\end{definition}

\chapter{Dunkl operators}\label{appendix:dunklOperators}

\begin{lemma}[See proposition \ref{prop:trigCMRepresentation}]\label{lemma:trigCMRepresentationAppendix}
Let $\theta_{ij} := X_i/(X_i-X_j)$. The mapping
\begin{align*}
s_i \mapsto s_i, \quad X_i \mapsto X_i, \quad y_i \mapsto -\I \hbar X_i \partial_i - (i-1) \eta + \eta \sum_{j < i} \theta_{ji} (1-(i \ j)) - \eta \sum_{j > i} \theta_{ij} (1-(i \ j))
\end{align*}
gives rise to a representation of $\ddot H_N$ on $\C[X_1^{\pm 1},...,X_N^{\pm 1}]$.
\end{lemma}

\begin{proof}
It is clear that the necessary relations hold for the $s_i$ and $X_i$. It is also clear that $s_i y_j = y_j s_i$ for $|i-j|>1$. Let $1 \leq i < N$ and check the other relations:
\begin{enumerate}[label=(\roman*)]
\item $y_i y_j = y_j y_i$: It suffices to check $[y_1,y_N] = 0$:
\begin{align*}
[y_1,y_N] &= \left[ -\I \hbar X_1 \partial_1 - \eta \sum_{j=2}^N \theta_{1j} (1-(1 \ j)), -\I \hbar X_N \partial_N - (N-1) \eta + \eta \sum_{j=1}^{N-1} \theta_{jN} (1-(N \ j)) \right] \\
&= -\I\hbar\eta \sum_{j=1}^{N-1} \left[ X_1 \partial_1,\theta_{jN} (1-(N \ j)) \right] 
+ \I \hbar \eta \sum_{j=2}^N \left[ \theta_{1j} (1-(1 \ j)), X_N \partial_N \right] \\
&\quad \quad \quad-\eta^2 \sum_{j=2}^N \sum_{k=1}^{N-1} \left[ \theta_{1j} (1-(1 \ j)), \theta_{kN} (1-(N \ k)) \right] \\
&= -\I\hbar\eta \left[ X_1 \partial_1,\theta_{1N} (1-(N \ 1)) \right] 
+ \I \hbar \eta \left[ \theta_{1N} (1-(1 \ N)), X_N \partial_N \right] \\
&\quad \quad \quad-\eta^2 \sum_{j=2}^N \sum_{k=1}^{N-1} \left[ \theta_{1j} (1-(1 \ j)), \theta_{kN} (1-(N \ k)) \right] \\
&= -\I\hbar\eta \left[ X_1 \partial_1 + X_N \partial_N,\theta_{1N} (1-(N \ 1)) \right] \\
&\quad \quad \quad-\eta^2 \sum_{j=2}^N \sum_{k=1}^{N-1} \left[ \theta_{1j} (1-(1 \ j)), \theta_{kN} (1-(N \ k)) \right].
\end{align*}
Using $[X_i \partial_i,\theta_{ij}] = \theta_{ij} \theta_{ji}$, we compute $
[X_i \partial_i,\theta_{ji}] = [X_i \partial_i,1-\theta_{ij}] = -\theta_{ij} \theta_{ji}$, giving
\begin{equation*}
[X_i \partial_i + X_j \partial_j,\theta_{ij}] = [X_i \partial_i + X_j \partial_j,\theta_{ji}] = 0.
\end{equation*}
We also compute
%\begin{align*}
%&\left[ \theta_{1j} (1-(1 \ j)), \theta_{kN} (1-(N \ k)) \right] \\
%&= \theta_{1j} (1-(1 \ j)) \theta_{kN} (1-(N \ k)) - \theta_{kN} (1-(N \ k)) \theta_{1j} (1-(1 \ j)) \\
%&=
%\begin{cases}
%\theta_{1N} (\theta_{kN}-\theta_{k1}(1 \ N)) (1-(N \ k)) - \theta_{kN} (\theta_{1N}-\theta_{1k}(N \ k)) (1-(1 \ N)) & j = N \\
%\theta_{1j} (\theta_{1N}-\theta_{jN}(1 \ j)) (1-(N \ 1)) - \theta_{1N} (\theta_{1j}-\theta_{Nj}(N \ 1)) (1-(1 \ j)) & k = 1 \\
%\theta_{1j} (\theta_{jN}-\theta_{1N}(1 \ j)) (1-(N \ j)) - \theta_{jN} (\theta_{1j}-\theta_{1N}(N \ j)) (1-(1 \ j)) & j = k \\
%0 & \text{otherwise}.
%\end{cases}
%\end{align*}
\begin{align*}
&\left[ \theta_{1j} (1-(1 \ j)), \theta_{kN} (1-(N \ k)) \right] \\
&= [\theta_{1j}(1 \ j),\theta_{kN}(N \ k)]-[\theta_{1j},\theta_{kN}(N \ k)]-[\theta_{1j}(1 \ j),\theta_{kN}] \\
&= [\theta_{1j}(1 \ j),\theta_{kN}](N \ k)+\theta_{kN}[\theta_{1j}(1 \ j),(N \ k)]-\theta_{kN}[\theta_{1j},(N \ k)]-\theta_{1j}[(1 \ j),\theta_{kN}] \\
&= \theta_{1j}[(1 \ j),\theta_{kN}]((N \ k)-1)+\theta_{kN}\theta_{1j}[(1 \ j),(N \ k)]+\theta_{kN}[\theta_{1j},(N \ k)]((1 \ j)-1) \\
&=
\begin{cases}
\theta_{1j}(\theta_{jN}-\theta_{1N})(1 \ j)((N \ 1)-1)+\theta_{1N}\theta_{1j}[(1 \ j),(N \ 1)]+\theta_{1N}(\theta_{1j}-\theta_{Nj})(N \ 1)((1 \ j)-1), \\
\theta_{1N}(\theta_{k1}-\theta_{kN})(1 \ N)((N \ k)-1)+\theta_{kN}\theta_{1N}[(1 \ N),(N \ k)]+\theta_{kN}(\theta_{1N}-\theta_{1k})(N \ k)((1 \ N)-1), \\
\theta_{1j}(\theta_{1N}-\theta_{jN})(1 \ j)((N \ j)-1)+\theta_{jN}\theta_{1j}[(1 \ j),(N \ j)]+\theta_{jN}(\theta_{1j}-\theta_{1N})(N \ j)((1 \ j)-1),
\end{cases}
\end{align*}
in the cases $\{ 1<j<N, k=1 \}$, $\{ j=N, 1<k<N \}$, and $\{ 1<j=k<N \}$, respectively, otherwise zero. This gives
\begin{align*}
\sum_{j=2}^N \sum_{k=1}^{N-1} &\left[ \theta_{1j} (1-(1 \ j)), \theta_{kN} (1-(N \ k)) \right] \\
= \sum_{j=2}^{N-1} \Big(
&\theta_{1j}(\theta_{jN}-\theta_{1N})((1 \ N \ j)-(1 \ j \ N)) + \theta_{1N}\theta_{1j}((1 \ N \ j)-(1 \ j \ N)) \\
+ &\theta_{1N}(\theta_{1j}-\theta_{Nj})((1 \ j \ N)-(1 \ N \ j)) + \theta_{jN}\theta_{1N}((1 \ N \ j)-(1 \ j \ N)) \\
+ &\theta_{jN}(\theta_{1j}-\theta_{1N})((1 \ N \ j)-(1 \ j \ N)) + \theta_{jN}\theta_{1j}((1 \ j \ N)-(1 \ N \ j)) \Big) \\
= \sum_{j=2}^{N-1} \Big(
&\theta_{1j}\theta_{jN}((1 \ N \ j)-(1 \ j \ N)) \\
+ &\theta_{1N}(\theta_{1j}-\theta_{Nj})((1 \ j \ N)-(1 \ N \ j)) + \theta_{jN}\theta_{1N}((1 \ N \ j)-(1 \ j \ N)) \\
- &\theta_{jN}\theta_{1N}((1 \ N \ j)-(1 \ j \ N)) \Big) \\
= \sum_{j=2}^{N-1}
&(\theta_{1j}\theta_{jN} + \theta_{1N}\theta_{Nj}-\theta_{1N}\theta_{1j})((1 \ N \ j)-(1 \ j \ N))
\end{align*}
and
\begin{align*}
\theta_{1j}\theta_{jN} + \theta_{1N}\theta_{Nj}-\theta_{1N}\theta_{1j}
= \frac{X_1 X_j (X_1-X_N)-X_1 X_N(X_1-X_j)-X_1^2(X_j-X_N)}{(X_1-X_j)(X_j-X_N)(X_1-X_N)} = 0,
\end{align*}
finally giving $[y_1,y_N] = 0$.
\item Note that $s_i \theta_{i+1,i} = \theta_{i,i+1} s_i$ and $\theta_{i,i+1} = 1 - \theta_{i+1,i}$, leading to
\begin{align*}
s_i y_i
&= s_i \bigg( -\I \hbar X_i \partial_i - (i-1) \eta + \eta \sum_{j < i} \theta_{ji} (1-(i \ j)) \\
&\quad \quad \quad - \eta \theta_{i,i+1} (1-(i \ i+1)) - \eta \sum_{j > i+1} \theta_{ij} (1-(i \ j)) \bigg) \\ \displaybreak
&= \bigg( -\I \hbar X_{i+1} \partial_{i+1} - (i-1) \eta + \eta \sum_{j < i} \theta_{j,i+1} (1-(i+1 \ j)) \\
&\quad \quad \quad - \eta \theta_{i+1,i} (1-(i \ i+1)) - \eta \sum_{j > i+1} \theta_{i+1,j} (1-(i+1 \ j)) \bigg) s_i \\
&= \bigg( -\I \hbar X_{i+1} \partial_{i+1} - (i-1) \eta + \eta \sum_{j < i} \theta_{j,i+1} (1-(i+1 \ j)) \\
&\quad \quad \quad - \eta (1-\theta_{i,i+1}) (1-(i \ i+1)) - \eta \sum_{j > i+1} \theta_{i+1,j} (1-(i+1 \ j)) \bigg) s_i \\
&= \bigg( -\I \hbar X_{i+1} \partial_{i+1} - i \eta + \eta \sum_{j < i+1} \theta_{j,i+1} (1-(i+1 \ j)) \\
&\quad \quad \quad + \eta s_i - \eta \sum_{j > i+1} \theta_{i+1,j} (1-(i+1 \ j)) \bigg) s_i \\
&= y_{i+1} s_i + \eta.
\end{align*}
\item We see that
\begin{align*}
&X_1 w \bigg( -\I \hbar X_i \partial_i - (i-1) \eta + \eta \sum_{j < i} \theta_{ji} (1-(i \ j)) - \eta \sum_{j > i} \theta_{ij} (1-(i \ j)) \bigg) w^{-1} X_1^{-1} \\
&= X_1 \bigg( -\I \hbar X_{i+1} \partial_{i+1} - (i-1) \eta + \eta \sum_{j=1}^{i-1} \theta_{j+1,i+1} (1-(i+1 \ j+1)) \\
&\quad \quad \quad - \eta \sum_{j=i+1}^N \theta_{i+1,j+1} (1-(i+1 \ j+1)) \bigg) X_1^{-1} \\
&= X_1 \bigg( -\I \hbar X_{i+1} \partial_{i+1} - (i-1) \eta + \eta \sum_{j=2}^{i} \theta_{j,i+1} (1-(i+1 \ j)) \\
&\quad \quad \quad - \eta \sum_{j=i+2}^N \theta_{i+1,j} (1-(i+1 \ j)) - \eta \theta_{i+1,1} (1-(i+1 \ 1)) \bigg) X_1^{-1} \\
&= X_1 \bigg( -\I \hbar X_{i+1} \partial_{i+1} - (i-1) \eta + \eta \sum_{j=2}^{i} \theta_{j,i+1} (1-(i+1 \ j)) \\
&\quad \quad \quad - \eta \sum_{j=i+2}^N \theta_{i+1,j} (1-(i+1 \ j)) - \eta (1-\theta_{1,i+1})(1-(i+1 \ 1)) \bigg) X_1^{-1} \\
&= X_1 \bigg( -\I \hbar X_{i+1} \partial_{i+1} - i \eta + \eta \sum_{j=2}^{i} \theta_{j,i+1} (1-(i+1 \ j)) \\
&\quad \quad \quad - \eta \sum_{j=i+2}^N \theta_{i+1,j} (1-(i+1 \ j)) + \eta \theta_{1,i+1}(1-(i+1 \ 1)) + \eta(i+1 \ 1) \bigg) X_1^{-1}
\end{align*}
but
\begin{align*}
X_1 (\theta_{1,i+1}(i+1 \ 1) - (i+1 \ 1)) X_1^{-1}
&= X_1 (\theta_{1,i+1}-1) (i+1 \ i) X_1^{-1} \\
&= - X_1 X_{i+1}^{-1} \theta_{i+1,1} (i+1 \ i) \\
&= \theta_{1,i+1} (i+1 \ i),
\end{align*}
which finally yields $\pi y_i \pi^{-1} = y_{i+1}$. A similar calculation for $i=N$ yields $\pi y_N \pi^{-1} = y_1 + \I \hbar$, remembering that $X_1 (-\I \hbar X_1 \partial_1) X_1^{-1} = -\I \hbar X_1 \partial_1 + \I \hbar$.
\vspace{-1.5\baselineskip}
\end{enumerate}
\end{proof}

\begin{lemma}[See proposition \ref{prop:trigCMHamiltonian}]\label{lemma:trigCMHamiltonianAppendix}
On $\delta^{-1} \C[X_1^{\pm 1},...,X_N^{\pm 1}]^{S_N}$, $C_1$ reduces to the canonically quantized total momentum of the trigonometric Calogero-Moser model, while $C_2$ reduces to the Hamiltonian:
\begin{equation*}
C_1 = -\I \hbar \sum_i X_i \partial_i, \quad C_2 = -\frac{\hbar^2}{2} \Delta + \frac{\eta(\eta-\I \hbar)}{2} \sum_{i \neq j} \theta_{ij} \theta_{ji},
\end{equation*}
where $\Delta := \sum_i (X_i \partial_i)^2$ is the Laplacian.
\end{lemma}

\begin{proof}
Recall $\delta = \prod_{i < j} (X_i-X_j)^{\I \eta / \hbar}$ and observe
\begin{align*}
\delta^{-1} (-\I \hbar X_i \partial_i) \delta = -\I \hbar X_i \partial_i - \delta^{-1} X_i \sum_{j<i} \frac{\eta \delta}{X_j-X_i} + \delta^{-1} X_i \sum_{j>i} \frac{\eta \delta}{X_i-X_j} = -\I \hbar X_i \partial_i + \eta \sum_{i \neq j} \theta_{ij}.
\end{align*}
Noting that $(1-(i \ j))$ acts as zero on symmetric polynomials and $\sum_{i \neq j} \theta_{ij} = N(N-1)/2$, we derive the identity
\begin{equation*}
C_1 = \sum_i \delta^{-1} y_i \delta = -\I \hbar \sum_i X_i \partial_i + \eta \sum_{i \neq j} \theta_{ij} - \eta N(N-1)/2 = -\I \hbar \sum_i X_i \partial_i.
\end{equation*}
%To show the second part, let us make use of the identity
%\begin{align*}
%\delta^{-1} y_i \delta
%&= y_i + \eta \sum_{i \neq j} \theta_{ij} \\
%&= -\I \hbar X_i \partial_i - i \eta + \eta \sum_{j < i} \theta_{ji} (1+(i \ j)) - \eta \sum_{j > i} \theta_{ij} (1+(i \ j)) + \eta \sum_{i \neq j} \theta_{ij} \\
%&= -\I \hbar X_i \partial_i - \eta + \eta \sum_{j < i} \theta_{ji} (i \ j) - \eta \sum_{j > i} \theta_{ij} (i \ j) \\
%&= -\I \hbar X_i \partial_i - \eta + \eta \sum_{j < i} \frac{\theta_{ji}+1-\theta_{ij}}{2} (i \ j) - \eta \sum_{j > i} \frac{\theta_{ij}+1-\theta_{ji}}{2} (i \ j) \\
%&= -\I \hbar X_i \partial_i - \eta - \eta \sum_{i \neq j} \frac{\theta_{ij}-\theta_{ji}}{2} (i \ j) - \eta \sum_{i \neq j} \operatorname{sgn}(j-i) (i \ j).
%\end{align*}
%Using the identity $X_i \partial_i \frac{\theta_{ij}-\theta_{ji}}{2} = \theta_{ij} \theta_{ji}$, on symmetric polynomials, we obtain:
%\begin{align*}
%C_2
%&= \sum_i \bigg( -\I \hbar X_i \partial_i - \eta - \eta \sum_{i \neq j} \frac{\theta_{ij}-\theta_{ji}}{2} (i \ j) - \eta \sum_{i \neq j} \operatorname{sgn}(j-i) (i \ j) \bigg) \\
%&\times \bigg( -\I \hbar X_i \partial_i - \eta - \eta \sum_{i \neq k} \frac{\theta_{ik}-\theta_{ki}}{2} - \eta \sum_{i \neq k} \operatorname{sgn}(k-i) \bigg) \\
%&= \sum_i \bigg( -\hbar^2 (X_i \partial_i)^2 + \I \hbar \eta \sum_{i \neq k} \theta_{ik} \theta_{ki} \\
%&+ \eta \I \hbar X_i \partial_i + \eta^2 + \eta^2 \sum_{i \neq k} \frac{\theta_{ik}-\theta_{ki}}{2} + \eta^2 \sum_{i \neq k} \operatorname{sgn}(k-i) \\
%&- \eta \sum_{i \neq j} \frac{\theta_{ij}-\theta_{ji}}{2} (i \ j) \bigg( -\I \hbar X_i \partial_i - \eta - \eta \sum_{i \neq k} \frac{\theta_{ik}-\theta_{ki}}{2} - \eta \sum_{i \neq k} \operatorname{sgn}(k-i) \bigg) \\
%&- \eta \sum_{i \neq j} \operatorname{sgn}(j-i) (i \ j) \bigg( -\I \hbar X_i \partial_i - \eta - \eta \sum_{i \neq k} \frac{\theta_{ik}-\theta_{ki}}{2} - \eta \sum_{i \neq k} \operatorname{sgn}(k-i) \bigg) \bigg)
%\end{align*}
For the second order Hamiltonian, notice that $y_i^2$ acting on $\delta^{-1} \C[X_1^{\pm 1},...,X_N^{\pm 1}]^{S_N}$ reduces to
\begin{align*}
y_i^2
&= \bigg( -\I \hbar X_i \partial_i - (i-1) \eta + \eta \sum_{j < i} \theta_{ji} (1-(i \ j)) - \eta \sum_{j > i} \theta_{ij} (1-(i \ j)) \bigg) \bigg( -\I \hbar X_i \partial_i - (i-1)\eta \bigg) \\
&= -\hbar^2 (X_i \partial_i)^2 + \I \hbar \eta 2(i-1) X_i \partial_i - \I \hbar \eta \sum_{j < i} \theta_{ji} (X_i \partial_i-X_j \partial_j) + \I \hbar \eta \sum_{j > i} \theta_{ij} (X_i \partial_i-X_j \partial_j) + (i-1)^2 \eta^2 \\
&= -\hbar^2 (X_i \partial_i)^2 + \I \hbar \eta 2(i-1) X_i \partial_i - \I \hbar \eta \sum_{j < i} (1-\theta_{ij}) (X_i \partial_i-X_j \partial_j) + \I \hbar \eta \sum_{j > i} \theta_{ij} (X_i \partial_i-X_j \partial_j) + (i-1)^2 \eta^2 \\
&= -\hbar^2 (X_i \partial_i)^2 + \I \hbar \eta 2(i-1) X_i \partial_i - \I \hbar \eta \sum_{j < i} (X_i \partial_i-X_j \partial_j) + \I \hbar \eta \sum_{i \neq j} \theta_{ij} (X_i \partial_i-X_j \partial_j) + (i-1)^2 \eta^2 \\
&= -\hbar^2 (X_i \partial_i)^2 + \I \hbar \eta (i-1) X_i \partial_i + \I \hbar \eta \sum_{j < i} X_j \partial_j + \I \hbar \eta \sum_{i \neq j} \theta_{ij} (X_i \partial_i-X_j \partial_j) + (i-1)^2 \eta^2,
\end{align*}
which after summing over $i$ gives
\begin{align*}
\sum_i y_i^2 &= -\hbar^2 \Delta + \I\hbar\eta (N-1) \sum_i X_i \partial_i + \I\hbar\eta \sum_{i \neq j} (\theta_{ij}-\theta_{ji}) X_i \partial_i - \eta^2 \frac{N(N-1)(2N-1)}{6} \\
&= -\hbar^2 \Delta + 2\I\hbar\eta \sum_{i \neq j} \theta_{ij} X_i \partial_i - \eta^2 \frac{N(N-1)(2N-1)}{6}.
\end{align*}
%It follows that
%\begin{align*}
%C_2 = \sum_i \delta^{-1} y_i^2 \delta
%&= \sum_i \bigg( -\hbar^2 (X_i \partial_i)^2 - 4\I\hbar\eta \sum_{i \neq j} \theta_{ij} X_i \partial_i - 2 \eta \sum_{i \neq j} \theta_{ij} \theta_{ji} - 4\eta^2 \sum_{i \neq j} \sum_{i \neq k} \theta_{ij} \theta_{ik} \bigg) \\
%&+ 2\I\hbar\eta \sum_i i \bigg( X_i \partial_i + 2\eta \sum_{i \neq j} \theta_{ij} \bigg) - \eta^2 \frac{N(N+1)(2N+1)}{6} \\
%&- \I \hbar \eta \sum_i \bigg( \sum_{j < i} \theta_{ji} (X_i \partial_i - X_j \partial_j - 2\eta \sum_{i \neq k} \theta_{ik} + 2\eta \sum_{j \neq l} \theta_{jl}) \\
%&- \sum_{j > i} \theta_{ij} (X_i \partial_i - X_j \partial_j - 2\eta \sum_{i \neq k} \theta_{ik} + 2\eta \sum_{j \neq l} \theta_{jl}) \bigg).
%\end{align*}
%\begin{align*}
%\delta^{-1} y_i^2 \delta
%&= \bigg( -\I\hbar X_i \partial_i - \eta - \eta \sum_{i \neq j} \frac{X_i+X_j}{X_i-X_j} (i \ j) - \eta \sum_{i \neq j} \operatorname{sgn}(j-i) (i \ j) \bigg) \bigg( -\I\hbar X_i \partial_i + 2\eta \sum_{i \neq j} \theta_{ij} - i\eta \bigg) \\
%&= -\hbar^2 (X_i \partial_i)^2 + \I\hbar\eta X_i \partial_i + \I\hbar\eta \sum_{i \neq j} \frac{X_i+X_j}{X_i-X_j} X_j \partial_j + \I\hbar\eta \sum_{i \neq j} \operatorname{sgn}(j-i) X_j \partial_j \\
%&-2\I\hbar\eta \sum_{i \neq j} \theta_{ij} \theta_{ji} - 2\eta^2 \sum_{i \neq j} \theta_{ij} - 2\eta^2 \sum_{i \neq j} \frac{X_i+X_j}{X_i-X_j} (i \ j) \sum_{i \neq k} \theta_{ik}
%\end{align*}
%We can also use
%\begin{align*}
%y_i &\mapsto -\I\hbar X_i \partial_i - \frac{\eta}{2} \sum_{i \neq j} \frac{X_i+X_j}{X_i-X_j} (1-(i \ j)) - \frac{\eta}{2} \sum_j \operatorname{sgn}(j-i) (i \ j) \\
%&= -\I\hbar X_i \partial_i - \frac{\eta}{2} (N-2i+1) - \eta \sum_{j < i} \theta_{ij} (1-(i \ j)) + \eta \sum_{j > i} \theta_{ji} (1-(i \ j)),
%\end{align*}
%so
%\begin{align*}
%y_i^2 &\mapsto \bigg( -\I\hbar X_i \partial_i - \frac{\eta}{2} \sum_{i \neq j} (\theta_{ij}-\theta_{ji}) (1-(i \ j)) - \frac{\eta}{2} \sum_j \operatorname{sgn}(j-i) (i \ j) \bigg) \bigg( -\I\hbar X_i \partial_i - \frac{\eta}{2} (N-2i+1) \bigg) \\
%&= -\hbar^2 (X_i \partial_i)^2 + \frac{\I\hbar\eta}{2} \sum_{i \neq j} (\theta_{ij}-\theta_{ji}) (X_i \partial_i-X_j \partial_j) + \frac{\I\hbar\eta}{2} \sum_j \operatorname{sgn}(j-i) X_j \partial_j \\
%&+ \frac{\I\hbar\eta}{2} (N-2i+1) X_i \partial_i + \frac{\eta^2}{4} (N-2i+1)^2
%\end{align*}
%and
%\begin{align*}
%\sum_i y_i^2 \mapsto -\hbar^2 \Delta + \frac{\I\hbar\eta}{2} \sum_{i \neq j} (\theta_{ij}-\theta_{ji}) (X_i \partial_i-X_j \partial_j) + \eta^2 \frac{N(N-1)^2}{12}.
%\end{align*}
Using $X_i \partial_i \theta_{ij} = \theta_{ij}X_i \partial_i + \theta_{ij} \theta_{ji}$, we derive
\begin{align*}
-\hbar^2 \delta^{-1} \Delta \delta
&= \sum_i \delta^{-1} \I\hbar X_i \partial_i \delta \delta^{-1} \I\hbar X_i \partial_i \delta \\
&= \sum_i \bigg( \I \hbar X_i \partial_i - \eta \sum_{i \neq j} \theta_{ij} \bigg) \bigg( \I \hbar X_i \partial_i - \eta \sum_{i \neq j} \theta_{ij} \bigg) \\ \displaybreak
&= -\hbar^2 \Delta - 2\I\hbar\eta \sum_{i \neq j} \theta_{ij} X_i \partial_i - \I\hbar\eta \sum_{i \neq j} \theta_{ij} \theta_{ji} + \eta^2 \sum_i \sum_{i \neq j} \sum_{i \neq k} \theta_{ij} \theta_{ik} \\
&= -\hbar^2 \Delta - 2\I\hbar\eta \sum_{i \neq j} \theta_{ij} X_i \partial_i + \eta(\eta-\I\hbar) \sum_{i \neq j} \theta_{ij} \theta_{ji} + \eta^2 \frac{N(N-1)(2N-1)}{6}
\end{align*}
where we have used the identity
\begin{equation*}
\sum_i \sum_{i \neq j} \sum_{i \neq k} \theta_{ij} \theta_{ik} = \sum_{i \neq j} \theta_{ij} \theta_{ji} + \frac{N(N-1)(2N-1)}{6}.
\end{equation*}
We also compute
\begin{equation*}
\sum_{i \neq j} \theta_{ij} \delta^{-1} X_i \partial_i \delta = \sum_{i \neq j} \theta_{ij} X_i \partial_i.
\end{equation*}
In total, we obtain
\begin{align*}
\sum_i \delta^{-1} y_i^2 \delta
&= -\hbar^2 \Delta + \eta(\eta-\I\hbar) \sum_{i \neq j} \theta_{ij} \theta_{ji}
\end{align*}
as desired.
\end{proof}

%\chapter{Moduli spaces}\label{appendix:moduliSpaces}
%
%This appendix concerns the moduli stack $M_{g,N}$ of smooth complex projective curves of genus $g$ with $N$ distinct marked points.
%
%\begin{definition}
%\begin{enumerate}[label=(\roman*)]
%\item Let $S$ be a scheme. An $S$-family $C \to S$ of smooth/stable curves of genus $g$ is a smooth/flat, proper, surjective, finitely presented morphism of schemes such that each fiber is a smooth/stable, projective, connected curve of arithmetic genus $g$.
%\item The moduli stack $\mathcal{M}_{g,N}$/$\overline{\mathcal{M}}_{g,N}$ of smooth/stable curves of genus $g$ with $N$ punctures is defined as an algebraic stack by saying that a morphism $S \to \mathcal{M}_{g,N}$ from a scheme $S$ into $\mathcal{M}_{g,N}$ is an $S$-family of smooth/stable curves of genus $g$ together with $N$ pairwise disjoint sections.
%\end{enumerate}
%\end{definition}
%
%\begin{example}
%Consider $\mathcal{M}_{0,1+N}$. Any complex projective curve of genus zero will be isomorphic to $\P^1$ with automorphisms $PGL_2(\C)$ acting 3-transitively. Thus, if we have punctures $y_0,y_1,...,y_N$, we may always assume $y_0=\infty$, which leaves a $\C^\times \ltimes \C$ of automorphisms. Hence the space is given by the quotient
%\begin{equation*}
%S_N \times \C^\times \ltimes \C \backslash \{ (y_1,...,y_N) \in \C^N \mid y_i \neq y_j \}.
%\end{equation*}
%It follows that quasi-coherent sheaves on $M_{0,1+N}$ are $S_N \times \C^\times \ltimes \C$-equivariant $\C[y_1,...,y_N][(y_i-y_j)^{-1}]$-modules. We may similarly write
%\begin{equation*}
%M_{0,2+N} = S_N \times \C^\times \backslash \{ X_1,...,X_N \in (\C^\times)^N \mid X_i \neq X_j \},
%\end{equation*}
%so that quasi-coherent sheaves are $S_N \times \C^\times$-equivariant $\C[X_1^{\pm 1},...,X_N^{\pm 1}][(X_i-X_j)^{-1}]$-modules.
%\end{example}
%
%\begin{example}
%Consider $\mathcal{M}_{1,1+N}$. Any complex projective curve of genus one will be isomorphic to $\C/\Z \oplus \tau \Z$ for some $\tau \in \C \setminus \R$ with self-automorphisms. Thus, we can always fix one point to be zero, which leaves an at most finite group of automorphisms. Hence the space is given by the quotient
%\begin{equation*}
%S_N \times PGL_2(\Z) \ltimes (\Z^2)^N \backslash \{ (\tau,y_1,...,y_N) \in \C \setminus \R \times \C^N \mid y_i,y_i-y_j \notin \Z \oplus \tau \Z \}.
%\end{equation*}
%\end{example}
%
%We can think of the $\C^\times$-equivariance as similar to the action of $t^{\pm 1}$ from the loop Yangian, which was given by $t^{\pm k} \mapsto p_k(X_1^{\pm 1},...,X_N^{\pm 1})$. Can we turn $\ddot H_N$-modules into $\C^\times \ltimes \C$-equivariant $\dot H_N$-modules? Do we have $t f(y_1,...,y_N) = f(ty_1,...,ty_N)$?
%\begin{equation*}
%\dot H_N \to \dot H_N[t^{\pm 1}], \quad \sigma f \mapsto \sigma \sum_k t^k p_k(X_1^{\pm 1},...,X_N^{\pm 1}) f
%\end{equation*}
%
%\begin{equation*}
%\omega = \left( \sum_i \frac{\eta X_i}{z-y_i} \prod_{i \neq j} \frac{y_i-y_j-X_j\eta}{y_i-y_j} - X_\infty \right) dz = \prod_i \frac{z-y_i-X_i\eta}{z-y_i} dz
%\end{equation*}
%
%We have
%\begin{equation*}
%\sum_i \frac{X_i}{z-y_i} = \sum_r z^{-1} \sum_i X_i y_i^{r-1}.
%\end{equation*}

%\chapter{Elliptic functions}\label{appendix:moduliSpaces}
%
%The following is due to \cite{article:zabrodin:2022}:
%
%\begin{definition}
%Let $\tau$ be a given half-period ratio. Define the theta functions
%\begin{equation*}
%\theta_{a,b}(z) := \sum_{j \in \Z} \exp(2 \pi \I ((j+a)^2 \frac{\tau}{2} + (j+a)(j+b))).
%\end{equation*}
%We let
%\begin{equation*}
%\vartheta(z) := -\theta_{1/2,1/2}(z)
%\end{equation*}
%denote the first Jacobi theta function\index{Jacobi theta function}.
%\end{definition}
%
%\begin{definition}
%Let
%\begin{equation*}
%\phi(w,z) := \vartheta'(0) \cdot \frac{\vartheta(w+z)}{\vartheta(w)\vartheta(z)}
%\end{equation*}
%denote the \emph{Kronecker function}\index{Kronecker function}.
%\end{definition}
%
%\begin{prop}
%\begin{enumerate}[label=(\roman*)]
%\item $\phi(w,z) = \phi(z,w)$.
%\item $\phi(w,z)$ has a simple pole at $z=0$ with residue one.
%\item $\phi(w,z+1) = \phi(w,z)$ and $\phi(w,z+\tau) = \exp(-2\pi\I w) \phi(w,z)$.
%\end{enumerate}
%\end{prop}
%
%\begin{definition}
%Let
%\begin{equation*}
%\sigma(z) := z \prod_{s \in 2\omega_1 \Z \oplus 2\omega_2\Z \setminus \{ 0 \}} \left(1-\frac{z}{s}\right) e^{\frac{x}{s}+\frac{x^2}{2s^2}}.
%\end{equation*}
%Then
%\begin{align*}
%\sigma(z+2\omega_1) &= -e^{2\eta_1(z+\omega_1)} \sigma(z), \\
%\sigma(z+2\omega_2) &= -e^{2\eta_2(z+\omega_2)} \sigma(z).
%\end{align*}
%\end{definition}
%
%\begin{lemma}
%Let $\varphi(z,w) := \frac{\sigma(z+w)}{\sigma(z)\sigma(w)}$. Then
%\begin{equation*}
%\varphi(z+2\omega_1,w) = \frac{e^{2\eta_1(z+w+\omega_1)}\sigma(z+w)}{e^{2\eta_1(z+\omega_1)}\sigma(z)\sigma(w)} = e^{2\eta_1 w} \varphi(z,w).
%\end{equation*}
%\end{lemma}

\chapter{Double categories}\label{appendix:doubleCats}

Let us follow \cite{article:hansen:2019}:

\begin{definition}
A \emph{(pseudo) double category} $\mathbb{D}$ is a weak category internal to the bicategory $\mathcal{C}at$ of categories. This means that $\mathbb{D}$ consists of a category of objects $\mathbb{D}_0$ and a category of morphisms $\mathbb{D}_1$ together with functors
\begin{equation*}
I: \mathbb{D}_0 \to \mathbb{D}_1, \quad S,T: \mathbb{D}_1 \to \mathbb{D}_0, \quad \diamond: \mathbb{D}_1 \times_{\mathbb{D}_0} \mathbb{D}_1 \to \mathbb{D}_1
\end{equation*}
and natural isomorphisms
\begin{align*}
\alpha: (L \diamond M) \diamond N \to L \diamond (M \diamond N), \quad \lambda: I(B) \diamond M \to M, \quad \rho: M \diamond I(A) \to M
\end{align*}
such that
\begin{enumerate}[label=(\roman*)]
\item $SI = \operatorname{Id}$ and $TI = \operatorname{Id}$,
\item $S(M \diamond N) = SN$ and $T(M \diamond N) = TM$,
\item $S(\alpha), T(\alpha), S(\lambda), T(\lambda), S(\rho), T(\rho)$ are identities,
\item $\alpha$ fulfills the pentagon axiom,
\item $\lambda$ and $\rho$ fulfill the left and right unitor axioms.
\end{enumerate}
The morphisms in $\mathbb{D}_0$ are also called \emph{tight morphisms} and the objects of $\mathbb{D}_1$ are also called \emph{loose morphisms}. Morphisms $\alpha: M \to N$ in $\mathbb{D}_1$ are called \emph{squares} and drawn as
\begin{center}
\begin{tikzcd}[column sep=0.1cm,row sep=0.1cm]
SM \arrow{rr}{M} \arrow[swap]{dd}{S\alpha} & & TM \arrow{dd}{T\alpha} \\
& \alpha & \\
SN \arrow[swap]{rr}{N} & & TN \\
\end{tikzcd}
\end{center}
If $S\alpha$ and $T\alpha$ are identities, it is called \emph{globular}.
\end{definition}

\begin{definition}
A \emph{(pseudo) double functor} $F: \mathbb{D} \to \mathbb{E}$ consists of functors $F_0: \mathbb{D}_0 \to \mathbb{E}_0$ and $F_1: \mathbb{D}_1 \to \mathbb{E}_1$ as well as natural transformations
\begin{equation*}
F_\diamond: F_1 M \diamond F_1 N \to F_1(M \diamond N), \quad F_I: I F_0 \to F_1 I
\end{equation*}
such that
\begin{enumerate}[label=(\roman*)]
\item the components of $F_\diamond$ and $F_I$ are globular isomorphisms,
\item $F_\diamond$ and $F_I$ fulfill the coherence axioms with the associator and unitors analogous to pseudofunctors.
\end{enumerate}
\end{definition}

\begin{definition}
A \emph{monoidal (pseudo) double category} is a double category $\mathbb{D}$ such that $\mathbb{D}_0$ and $\mathbb{D}_1$ are monoidal categories together with globular isomorphisms
\begin{equation*}
\xi: (M_1 \otimes M_2) \diamond (N_1 \otimes N_2) \to (M_1 \diamond N_1) \otimes (M_2 \diamond N_2), \quad \iota: I(A \otimes B) \to I(A) \otimes I(B),
\end{equation*}
such that
\begin{enumerate}[label=(\roman*)]
\item $I(\mathbf{1})$ is the monoidal unit of $\mathbb{D}_1$, where $\mathbf{1}$ is the monoidal unit of $\mathbb{D}_0$,
\item $S$ and $T$ are strict monoidal,
\item a whole slew of coherence axioms are satisfied.
\end{enumerate}
\end{definition}

\begin{example}
Let $H$ be a Hopf algebra. Then there is a monoidal double category $H\mathbb{C}\textnormal{o}\mathbb{A}\textnormal{lg}$ with
\begin{align*}
H\mathbb{C}\textnormal{o}\mathbb{A}\textnormal{lg}_0 &:= \{ \text{coalgebras internal to } H\mathsf{Mod} \text{ with coalgebra maps} \}, \\
H\mathbb{C}\textnormal{o}\mathbb{A}\textnormal{lg}_1 &:= \{ \text{bicomodules internal to } H\mathsf{Mod} \text{ with equivariant bicomodule maps} \}.
\end{align*}
Loose composition is given by the relative tensor product of bicomodules and the monoidal structure is given by the usual tensor product in $H\mathsf{Mod}$.
\end{example}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter*{Notation}\label{chapter:notation}
\addcontentsline{toc}{chapter}{Notation}

\begin{tabular}{l|l}
$\N$ & natural numbers with zero \\
$\Z$ & ring of integers \\
$\C$ & field of complex numbers \\
$\I$ & imaginary unit \\
$\hbar$ & Planck's constant for particles \\
$\eta$ & coupling constant for particles or Planck's constant for spins \\
$N$ & rank of symmetric group and Hecke algebras \\
$S_N$ & symmetric group \\
$\dot S_N$ & affine symmetric group \\
$\dot H_N$ & degenerate affine Hecke algebra \\
$\ddot H_N$ & degenerate double affine Hecke algebra \\
$S\ddot H_N$ & spherical degenerate double affine Hecke algebra \\
$X_i$ & Laurent generators of $\dot S_N$ and $\ddot H_N$ \\
$y_i$ & polynomial generators of $\dot H_N$ and $\ddot H_N$ \\
$D_k$ & Hamiltonians of the quantum rational Ruijsenaars-Schneider model \\
$C_k$ & Hamiltonians of the quantum trigonometric Calogero-Moser model \\
$G_i$ & trigonometric Gaudin Hamiltonians \\
$\ell$ & rank of general linear Lie algebra \\
$\mathfrak{gl}_\ell$ & general linear Lie algebra \\
$Y(\mathfrak{gl}_\ell)$ & Yangian of the general linear Lie algebra \\
$Y^\vee(\mathfrak{gl}_\ell)$ & Dual Yangian of the general linear Lie algebra \\
$L(\mathfrak{gl}_\ell)$ & loop algebra of the general linear Lie algebra \\
$LY(\mathfrak{gl}_\ell)$ & loop Yangian of the general linear Lie algebra \\
$z,w$ & spectral parameter \\
$P$ & permutation operator \\
$R(z)$ & Yang's $R$-matrix $1-\eta P/z$ \\
$\hat R(z)$ & polynomial $R$-matrix $z-\eta P$ \\
$\check R(z)$ & unitary $R$-matrix $(z-\eta P)/(z-\eta)$ \\
$\Pi^\pm$ & (anti-)symmetrizer $(1 \pm P)/2$ \\
$\lambda$ & weight for $\mathfrak{gl}_\ell$ or Young diagram \\
$t_\lambda$ & Young tableau of shape $\lambda$
\end{tabular}

\begin{tabular}{l|l}
$\Pi_{t_\lambda}$ & fusion projector for $t_\lambda$ \\
$L(\lambda)$ & irreducible $\mathfrak{gl}_\ell$-module with highest weight $\lambda$ \\
$S(\lambda)$ & Specht module for $\lambda$ \\
$L(\lambda)^t[y]$ & evaluation module of $Y(\mathfrak{gl}_\ell)$, transposed and shifted by the polynomial variable $y$ \\
$L(\lambda)_y^t$ & evaluation module of $Y(\mathfrak{gl}_\ell)$, transposed and shifted by $y \in \C$ \\
$V^\pm[y]$ & $\ytableausetup{boxsize=0.5em}L(\ydiagram{1})^t[y]$ for “$+$” or $L(\ydiagram{1})[y]$ for “$-$” \\
$V_y^\pm$ & $\ytableausetup{boxsize=0.5em}L(\ydiagram{1})_y^t$ for “$+$” or $L(\ydiagram{1})_y$ for “$-$” \\
$g$ & twist matrix \\
$\gamma_i$ & diagonal components of the twist matrix \\
$\tau^g(z)$ & $g$-twisted (fundamental) transfer matrix \\
$\tau_\lambda^g(z)$ & $g$-twisted transfer matrix of shape $\lambda$ \\
$C$ & complex curve \\
$\Sigma$ & oriented surface \\
$\omega$ & meromorphic 1-form on $C$ \\
$A$ & $\mathfrak{gl}_\ell$-valued 1-form on $\Sigma$
\end{tabular}

\pagebreak

\printindex

\bibliographystyle{alphaurl}
\bibliography{bibliography}
\addcontentsline{toc}{chapter}{Bibliography}

\pagebreak

\section*{Erklärung}

Hiermit versichere ich an Eides statt, dass ich die vorliegende Arbeit im Masterstudiengang Mathematik selbstständig verfasst und keine anderen als die angegebenen Hilfsmittel – insbesondere keine im Quellenverzeichnis nicht benannten Internet-Quellen – benutzt habe. Alle Stellen, die wörtlich oder sinngemäß aus Veröffentlichungen entnommen wurden, sind als solche kenntlich gemacht. Ich versichere weiterhin, dass ich die Arbeit vorher nicht in einem anderen Prüfungsverfahren eingereicht habe.
~\\~\\
Datum: (tba), Unterschrift:

%\noindent\includegraphics[width=250pt]{signature.png}
\end{document}

















%%
